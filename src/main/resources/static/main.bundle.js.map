{"version":3,"sources":["/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/Mapper.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/jsonrpcclient.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/transports/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/transports/webSocketWithReconnection.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/JsonRPC.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/XmlRPC.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-utils-js/WebRtcPeer.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-utils-js/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/OpenVidu.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Publisher.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Session.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Subscriber.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/index.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/Connection.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/LocalRecorder.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/OpenViduError.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/OpenViduInternal.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/SessionInternal.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/Stream.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/WebRtcStats.ts","/home/pablo/Documents/Git/openvidu/openvidu-browser/ts/ScreenSharing/Screen-Capturing-Auto.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/stun.json","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/turn.json","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/hark/hark.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/inherits/inherits_browser.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/merge/merge.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/normalice/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/grammar.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/parser.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/writer.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/array-equals.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/interop.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/transform.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp/sdp.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/ua-parser-js/src/ua-parser.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/index.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/lib/bytesToUuid.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/lib/rng-browser.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/v1.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/v4.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_core.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_factory.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/common_shim.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/edge_shim.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/getusermedia.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/safari/safari_shim.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/utils.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/wildemitter/wildemitter.js","/home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/wolfy87-eventemitter/EventEmitter.js","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/$_gendir lazy","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.module.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.routing.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/chatline.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/comment.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/course-details.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/course.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/entry.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/file-group.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/file.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/forum.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/session.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/user.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/stream.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/stream.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.css","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.html","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/constants.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/index.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/pipes/intervention-asked.pipe.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/animation.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/authentication.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/course-details-modal-data.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/course.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/file.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/files-edition.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/forum.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/login-modal.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/session.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/uploader-modal.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/user.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/video-session.service.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/environments/environment.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/main.ts","/home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/polyfills.ts"],"names":[],"mappings":"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A;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,uDAAuD,mCAAmC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,uBAAuB,mCAAmC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,gBAAgB,WAAW;;AAE3B;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,IAAI;;AAEJ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,mBAAmB,WAAW;;AAE9B;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,YAAY;;AAEZ;;AAEA;;AAEA;;AAEA,EAAE;;AAEF;;AAEA;;AAEA,CAAC,gG;;;;;;;;AC9KD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,sCAAsC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,gCAAgC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa;AACtB;;AAEA;AACA;AACA;AACA,SAAS,aAAa;AACtB;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+CAA+C,OAAO;AACtD;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,yBAAyB,4BAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;ACvuDA;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,OAAO,eAAe;AACtB,OAAO,sBAAsB;AAC7B,OAAO,cAAc;AACrB,OAAO,gBAAgB;AACvB,OAAO,gBAAgB;AACvB,OAAO,oBAAoB;AAC3B,OAAO,kBAAkB;AACzB,UAAU;AACV,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uCAAuC,UAAU;AACjD,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA,KAAK;AACL,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;AChQD;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,+CAA+C;;AAE/C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,uCAAuC;AACvC;;AAEA,mBAAmB,kCAAkC;AACrD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,4BAA4B;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;AC5FA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gBAAgB,KAAK,KAAK;AAC1B;AACA;AACA;AACA;AACA;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,KAAK;AACpD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,yBAAyB;AACzB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,cAAc;;AAEd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,yBAAyB;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;;ACl3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;;;;;;;;;AC9GA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,0BAA0B;AAC1B;AACA;AACA;AACA,yDAAyD;AACzD,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACnqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA,6BAA6B;AAC7B,kDAAkD;;AAElD;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;AACA;;AAEA;;AAEA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,cAAc,gBAAgB;AAC9B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAoD,IAAI;AACxD;AACA;;AAEA;AACA;AACA;AA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B;AACxB;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA,yCAAyC;AACzC;AACA,0BAA0B;AAC1B;AACA,+BAA+B;AAC/B;;AAEA;AACA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4BAA4B,IAAI;AAChC;;AAEA;AACA;;AAEA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA,wDAAwD;AACxD;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AAAA;AACb,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;AC/iCD;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C;AAC9C;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACnGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAiC,sBAAsB;;;;;;;;;;ACZvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,4BAA4B;AAC5B;;AAEA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,+DAA+D;AAC/D;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,yBAAyB,gCAAgC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,YAAY;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA,gDAAgD;AAChD;AACA;AACA,yDAAyD,oBAAoB;AAC7E,yDAAyD;AACzD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,yCAAyC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,mCAAmC;AACnC;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA,+BAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;;;;;;;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,8BAA8B;AAC9B,oCAAoC,EAAE;AACtC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gEAAgE;AAC7E,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AChNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gCAAgC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC1SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,0DAA0D;AAC1D;AACA;AACA;AACA,KAAK;AACL,4DAA4D;AAC5D;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC7KA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;AAED;;AAEA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA,wBAAwB;;AAExB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;ACxJA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,WAAW;AAC1B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,eAAe,WAAW;AAC1B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,qBAAqB;AACpC,eAAe,WAAW;AAC1B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,MAAM;AACrB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,eAAe,KAAK;AACpB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,iDAAiD;AACjD;;AAEA;AACA,2BAA2B,mBAAmB;AAC9C;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AAAA;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,WAAW;;;;;;;;ACreZ;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;ACVA;AACA;;;AAGA;AACA,6CAA8C,cAAc,GAAG;;AAE/D;;;AAGA;AACA,2C;;;;;;;ACXA,6U;;;;;;;;;;;;;;;;;;;;ACA0C;AACD;AAQzC;IAEE,sBAAoB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAE,CAAC;IAErC,wCAAiB,GAAjB;QACE,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,MAAM,CAA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","file":"main.bundle.js","sourcesContent":["function Mapper()\n{\n  var sources = {};\n\n\n  this.forEach = function(callback)\n  {\n    for(var key in sources)\n    {\n      var source = sources[key];\n\n      for(var key2 in source)\n        callback(source[key2]);\n    };\n  };\n\n  this.get = function(id, source)\n  {\n    var ids = sources[source];\n    if(ids == undefined)\n      return undefined;\n\n    return ids[id];\n  };\n\n  this.remove = function(id, source)\n  {\n    var ids = sources[source];\n    if(ids == undefined)\n      return;\n\n    delete ids[id];\n\n    // Check it's empty\n    for(var i in ids){return false}\n\n    delete sources[source];\n  };\n\n  this.set = function(value, id, source)\n  {\n    if(value == undefined)\n      return this.remove(id, source);\n\n    var ids = sources[source];\n    if(ids == undefined)\n      sources[source] = ids = {};\n\n    ids[id] = value;\n  };\n};\n\n\nMapper.prototype.pop = function(id, source)\n{\n  var value = this.get(id, source);\n  if(value == undefined)\n    return undefined;\n\n  this.remove(id, source);\n\n  return value;\n};\n\n\nmodule.exports = Mapper;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/Mapper.js","/*\n * (C) Copyright 2014 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nvar JsonRpcClient  = require('./jsonrpcclient');\n\n\nexports.JsonRpcClient  = JsonRpcClient;\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/index.js","/*\n * (C) Copyright 2014 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nvar RpcBuilder = require('../');\nvar WebSocketWithReconnection = require('./transports/webSocketWithReconnection');\n\nDate.now = Date.now || function() {\n    return +new Date;\n};\n\nvar PING_INTERVAL = 5000;\n\nvar RECONNECTING = 'RECONNECTING';\nvar CONNECTED = 'CONNECTED';\nvar DISCONNECTED = 'DISCONNECTED';\n\nvar Logger = console;\n\n/**\n *\n * heartbeat: interval in ms for each heartbeat message,\n * sendCloseMessage : true / false, before closing the connection, it sends a closeSession message\n * <pre>\n * ws : {\n * \turi : URI to conntect to,\n *  useSockJS : true (use SockJS) / false (use WebSocket) by default,\n * \tonconnected : callback method to invoke when connection is successful,\n * \tondisconnect : callback method to invoke when the connection is lost,\n * \tonreconnecting : callback method to invoke when the client is reconnecting,\n * \tonreconnected : callback method to invoke when the client succesfully reconnects,\n * \tonerror : callback method to invoke when there is an error\n * },\n * rpc : {\n * \trequestTimeout : timeout for a request,\n * \tsessionStatusChanged: callback method for changes in session status,\n * \tmediaRenegotiation: mediaRenegotiation\n * }\n * </pre>\n */\nfunction JsonRpcClient(configuration) {\n\n    var self = this;\n\n    var wsConfig = configuration.ws;\n\n    var notReconnectIfNumLessThan = -1;\n\n    var pingNextNum = 0;\n    var enabledPings = true;\n    var pingPongStarted = false;\n    var pingInterval;\n\n    var status = DISCONNECTED;\n\n    var onreconnecting = wsConfig.onreconnecting;\n    var onreconnected = wsConfig.onreconnected;\n    var onconnected = wsConfig.onconnected;\n    var onerror = wsConfig.onerror;\n\n    configuration.rpc.pull = function(params, request) {\n        request.reply(null, \"push\");\n    }\n\n    wsConfig.onreconnecting = function() {\n        Logger.debug(\"--------- ONRECONNECTING -----------\");\n        if (status === RECONNECTING) {\n            Logger.error(\"Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it\");\n            return;\n        }\n\n        status = RECONNECTING;\n        if (onreconnecting) {\n            onreconnecting();\n        }\n    }\n\n    wsConfig.onreconnected = function() {\n        Logger.debug(\"--------- ONRECONNECTED -----------\");\n        if (status === CONNECTED) {\n            Logger.error(\"Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it\");\n            return;\n        }\n        status = CONNECTED;\n\n        enabledPings = true;\n        updateNotReconnectIfLessThan();\n        usePing();\n\n        if (onreconnected) {\n            onreconnected();\n        }\n    }\n\n    wsConfig.onconnected = function() {\n        Logger.debug(\"--------- ONCONNECTED -----------\");\n        if (status === CONNECTED) {\n            Logger.error(\"Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it\");\n            return;\n        }\n        status = CONNECTED;\n\n        enabledPings = true;\n        usePing();\n\n        if (onconnected) {\n            onconnected();\n        }\n    }\n\n    wsConfig.onerror = function(error) {\n        Logger.debug(\"--------- ONERROR -----------\");\n\n        status = DISCONNECTED;\n\n        if (onerror) {\n            onerror(error);\n        }\n    }\n\n    var ws = new WebSocketWithReconnection(wsConfig);\n\n    Logger.debug('Connecting websocket to URI: ' + wsConfig.uri);\n\n    var rpcBuilderOptions = {\n        request_timeout: configuration.rpc.requestTimeout,\n        ping_request_timeout: configuration.rpc.heartbeatRequestTimeout\n    };\n\n    var rpc = new RpcBuilder(RpcBuilder.packers.JsonRPC, rpcBuilderOptions, ws,\n        function(request) {\n\n            Logger.debug('Received request: ' + JSON.stringify(request));\n\n            try {\n                var func = configuration.rpc[request.method];\n\n                if (func === undefined) {\n                    Logger.error(\"Method \" + request.method + \" not registered in client\");\n                } else {\n                    func(request.params, request);\n                }\n            } catch (err) {\n                Logger.error('Exception processing request: ' + JSON.stringify(request));\n                Logger.error(err);\n            }\n        });\n\n    this.send = function(method, params, callback) {\n        if (method !== 'ping') {\n            Logger.debug('Request: method:' + method + \" params:\" + JSON.stringify(params));\n        }\n\n        var requestTime = Date.now();\n\n        rpc.encode(method, params, function(error, result) {\n            if (error) {\n                try {\n                    Logger.error(\"ERROR:\" + error.message + \" in Request: method:\" +\n                        method + \" params:\" + JSON.stringify(params) + \" request:\" +\n                        error.request);\n                    if (error.data) {\n                        Logger.error(\"ERROR DATA:\" + JSON.stringify(error.data));\n                    }\n                } catch (e) {}\n                error.requestTime = requestTime;\n            }\n            if (callback) {\n                if (result != undefined && result.value !== 'pong') {\n                    Logger.debug('Response: ' + JSON.stringify(result));\n                }\n                callback(error, result);\n            }\n        });\n    }\n\n    function updateNotReconnectIfLessThan() {\n        Logger.debug(\"notReconnectIfNumLessThan = \" + pingNextNum + ' (old=' +\n            notReconnectIfNumLessThan + ')');\n        notReconnectIfNumLessThan = pingNextNum;\n    }\n\n    function sendPing() {\n        if (enabledPings) {\n            var params = null;\n            if (pingNextNum == 0 || pingNextNum == notReconnectIfNumLessThan) {\n                params = {\n                    interval: configuration.heartbeat || PING_INTERVAL\n                };\n            }\n            pingNextNum++;\n\n            self.send('ping', params, (function(pingNum) {\n                return function(error, result) {\n                    if (error) {\n                        Logger.debug(\"Error in ping request #\" + pingNum + \" (\" +\n                            error.message + \")\");\n                        if (pingNum > notReconnectIfNumLessThan) {\n                            enabledPings = false;\n                            updateNotReconnectIfLessThan();\n                            Logger.debug(\"Server did not respond to ping message #\" +\n                                pingNum + \". Reconnecting... \");\n                            ws.reconnectWs();\n                        }\n                    }\n                }\n            })(pingNextNum));\n        } else {\n            Logger.debug(\"Trying to send ping, but ping is not enabled\");\n        }\n    }\n\n    /*\n    * If configuration.hearbeat has any value, the ping-pong will work with the interval\n    * of configuration.hearbeat\n    */\n    function usePing() {\n        if (!pingPongStarted) {\n            Logger.debug(\"Starting ping (if configured)\")\n            pingPongStarted = true;\n\n            if (configuration.heartbeat != undefined) {\n                pingInterval = setInterval(sendPing, configuration.heartbeat);\n                sendPing();\n            }\n        }\n    }\n\n    this.close = function() {\n        Logger.debug(\"Closing jsonRpcClient explicitly by client\");\n\n        if (pingInterval != undefined) {\n            Logger.debug(\"Clearing ping interval\");\n            clearInterval(pingInterval);\n        }\n        pingPongStarted = false;\n        enabledPings = false;\n\n        if (configuration.sendCloseMessage) {\n            Logger.debug(\"Sending close message\")\n            this.send('closeSession', null, function(error, result) {\n                if (error) {\n                    Logger.error(\"Error sending close message: \" + JSON.stringify(error));\n                }\n                ws.close();\n            });\n        } else {\n\t\t\tws.close();\n        }\n    }\n\n    // This method is only for testing\n    this.forceClose = function(millis) {\n        ws.forceClose(millis);\n    }\n\n    this.reconnect = function() {\n        ws.reconnectWs();\n    }\n}\n\n\nmodule.exports = JsonRpcClient;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/jsonrpcclient.js","/*\n * (C) Copyright 2014 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nvar WebSocketWithReconnection  = require('./webSocketWithReconnection');\n\n\nexports.WebSocketWithReconnection  = WebSocketWithReconnection;\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/transports/index.js","/*\n * (C) Copyright 2013-2015 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\"use strict\";\n\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\nvar Logger = console;\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\n/*var WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n    try {\n        WebSocket = require('ws');\n    } catch (e) { }\n}*/\n\n//var SockJS = require('sockjs-client');\n\nvar MAX_RETRIES = 2000; // Forever...\nvar RETRY_TIME_MS = 3000; // FIXME: Implement exponential wait times...\n\nvar CONNECTING = 0;\nvar OPEN = 1;\nvar CLOSING = 2;\nvar CLOSED = 3;\n\n/*\nconfig = {\n\t\turi : wsUri,\n\t\tuseSockJS : true (use SockJS) / false (use WebSocket) by default,\n\t\tonconnected : callback method to invoke when connection is successful,\n\t\tondisconnect : callback method to invoke when the connection is lost,\n\t\tonreconnecting : callback method to invoke when the client is reconnecting,\n\t\tonreconnected : callback method to invoke when the client succesfully reconnects,\n\t};\n*/\nfunction WebSocketWithReconnection(config) {\n\n    var closing = false;\n    var registerMessageHandler;\n    var wsUri = config.uri;\n    var useSockJS = config.useSockJS;\n    var reconnecting = false;\n\n    var forcingDisconnection = false;\n\n    var ws;\n\n    if (useSockJS) {\n        ws = new SockJS(wsUri);\n    } else {\n        ws = new WebSocket(wsUri);\n    }\n\n    ws.onopen = function() {\n        logConnected(ws, wsUri);\n        if (config.onconnected) {\n            config.onconnected();\n        }\n    };\n\n    ws.onerror = function(error) {\n        Logger.error(\"Could not connect to \" + wsUri + \" (invoking onerror if defined)\", error);\n        if (config.onerror) {\n            config.onerror(error);\n        }\n    };\n\n    function logConnected(ws, wsUri) {\n        try {\n            Logger.debug(\"WebSocket connected to \" + wsUri);\n        } catch (e) {\n            Logger.error(e);\n        }\n    }\n\n    var reconnectionOnClose = function() {\n        if (ws.readyState === CLOSED) {\n            if (closing) {\n                Logger.debug(\"Connection closed by user\");\n            } else {\n                Logger.debug(\"Connection closed unexpectecly. Reconnecting...\");\n                reconnectToSameUri(MAX_RETRIES, 1);\n            }\n        } else {\n            Logger.debug(\"Close callback from previous websocket. Ignoring it\");\n        }\n    };\n\n    ws.onclose = reconnectionOnClose;\n\n    function reconnectToSameUri(maxRetries, numRetries) {\n        Logger.debug(\"reconnectToSameUri (attempt #\" + numRetries + \", max=\" + maxRetries + \")\");\n\n        if (numRetries === 1) {\n            if (reconnecting) {\n                Logger.warn(\"Trying to reconnectToNewUri when reconnecting... Ignoring this reconnection.\")\n                return;\n            } else {\n                reconnecting = true;\n            }\n\n            if (config.onreconnecting) {\n                config.onreconnecting();\n            }\n        }\n\n        if (forcingDisconnection) {\n            reconnectToNewUri(maxRetries, numRetries, wsUri);\n\n        } else {\n            if (config.newWsUriOnReconnection) {\n                config.newWsUriOnReconnection(function(error, newWsUri) {\n\n                    if (error) {\n                        Logger.debug(error);\n                        setTimeout(function() {\n                            reconnectToSameUri(maxRetries, numRetries + 1);\n                        }, RETRY_TIME_MS);\n                    } else {\n                        reconnectToNewUri(maxRetries, numRetries, newWsUri);\n                    }\n                })\n            } else {\n                reconnectToNewUri(maxRetries, numRetries, wsUri);\n            }\n        }\n    }\n\n    // TODO Test retries. How to force not connection?\n    function reconnectToNewUri(maxRetries, numRetries, reconnectWsUri) {\n        Logger.debug(\"Reconnection attempt #\" + numRetries);\n\n        ws.close();\n\n        wsUri = reconnectWsUri || wsUri;\n\n        var newWs;\n        if (useSockJS) {\n            newWs = new SockJS(wsUri);\n        } else {\n            newWs = new WebSocket(wsUri);\n        }\n\n        newWs.onopen = function() {\n            Logger.debug(\"Reconnected after \" + numRetries + \" attempts...\");\n            logConnected(newWs, wsUri);\n            reconnecting = false;\n            registerMessageHandler();\n            if (config.onreconnected()) {\n                config.onreconnected();\n            }\n\n            newWs.onclose = reconnectionOnClose;\n        };\n\n        var onErrorOrClose = function(error) {\n            Logger.warn(\"Reconnection error: \", error);\n\n            if (numRetries === maxRetries) {\n                if (config.ondisconnect) {\n                    config.ondisconnect();\n                }\n            } else {\n                setTimeout(function() {\n                    reconnectToSameUri(maxRetries, numRetries + 1);\n                }, RETRY_TIME_MS);\n            }\n        };\n\n        newWs.onerror = onErrorOrClose;\n\n        ws = newWs;\n    }\n\n    this.close = function() {\n        closing = true;\n        ws.close();\n    };\n\n\n    // This method is only for testing\n    this.forceClose = function(millis) {\n        Logger.debug(\"Testing: Force WebSocket close\");\n\n        if (millis) {\n            Logger.debug(\"Testing: Change wsUri for \" + millis + \" millis to simulate net failure\");\n            var goodWsUri = wsUri;\n            wsUri = \"wss://21.234.12.34.4:443/\";\n\n            forcingDisconnection = true;\n\n            setTimeout(function() {\n                Logger.debug(\"Testing: Recover good wsUri \" + goodWsUri);\n                wsUri = goodWsUri;\n\n                forcingDisconnection = false;\n\n            }, millis);\n        }\n\n        ws.close();\n    };\n\n    this.reconnectWs = function() {\n        Logger.debug(\"reconnectWs\");\n        reconnectToSameUri(MAX_RETRIES, 1, wsUri);\n    };\n\n    this.send = function(message) {\n        ws.send(message);\n    };\n\n    this.addEventListener = function(type, callback) {\n        registerMessageHandler = function() {\n            ws.addEventListener(type, callback);\n        };\n\n        registerMessageHandler();\n    };\n}\n\nmodule.exports = WebSocketWithReconnection;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/clients/transports/webSocketWithReconnection.js","/*\n * (C) Copyright 2014 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n\nvar defineProperty_IE8 = false\nif(Object.defineProperty)\n{\n  try\n  {\n    Object.defineProperty({}, \"x\", {});\n  }\n  catch(e)\n  {\n    defineProperty_IE8 = true\n  }\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function(oThis) {\n    if (typeof this !== 'function') {\n      // closest thing possible to the ECMAScript 5\n      // internal IsCallable function\n      throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n    }\n\n    var aArgs   = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP    = function() {},\n        fBound  = function() {\n          return fToBind.apply(this instanceof fNOP && oThis\n                 ? this\n                 : oThis,\n                 aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    fNOP.prototype = this.prototype;\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar inherits = require('inherits');\n\nvar packers = require('./packers');\nvar Mapper = require('./Mapper');\n\n\nvar BASE_TIMEOUT = 5000;\n\n\nfunction unifyResponseMethods(responseMethods)\n{\n  if(!responseMethods) return {};\n\n  for(var key in responseMethods)\n  {\n    var value = responseMethods[key];\n\n    if(typeof value == 'string')\n      responseMethods[key] =\n      {\n        response: value\n      }\n  };\n\n  return responseMethods;\n};\n\nfunction unifyTransport(transport)\n{\n  if(!transport) return;\n\n  // Transport as a function\n  if(transport instanceof Function)\n    return {send: transport};\n\n  // WebSocket & DataChannel\n  if(transport.send instanceof Function)\n    return transport;\n\n  // Message API (Inter-window & WebWorker)\n  if(transport.postMessage instanceof Function)\n  {\n    transport.send = transport.postMessage;\n    return transport;\n  }\n\n  // Stream API\n  if(transport.write instanceof Function)\n  {\n    transport.send = transport.write;\n    return transport;\n  }\n\n  // Transports that only can receive messages, but not send\n  if(transport.onmessage !== undefined) return;\n  if(transport.pause instanceof Function) return;\n\n  throw new SyntaxError(\"Transport is not a function nor a valid object\");\n};\n\n\n/**\n * Representation of a RPC notification\n *\n * @class\n *\n * @constructor\n *\n * @param {String} method -method of the notification\n * @param params - parameters of the notification\n */\nfunction RpcNotification(method, params)\n{\n  if(defineProperty_IE8)\n  {\n    this.method = method\n    this.params = params\n  }\n  else\n  {\n    Object.defineProperty(this, 'method', {value: method, enumerable: true});\n    Object.defineProperty(this, 'params', {value: params, enumerable: true});\n  }\n};\n\n\n/**\n * @class\n *\n * @constructor\n *\n * @param {object} packer\n *\n * @param {object} [options]\n *\n * @param {object} [transport]\n *\n * @param {Function} [onRequest]\n */\nfunction RpcBuilder(packer, options, transport, onRequest)\n{\n  var self = this;\n\n  if(!packer)\n    throw new SyntaxError('Packer is not defined');\n\n  if(!packer.pack || !packer.unpack)\n    throw new SyntaxError('Packer is invalid');\n\n  var responseMethods = unifyResponseMethods(packer.responseMethods);\n\n\n  if(options instanceof Function)\n  {\n    if(transport != undefined)\n      throw new SyntaxError(\"There can't be parameters after onRequest\");\n\n    onRequest = options;\n    transport = undefined;\n    options   = undefined;\n  };\n\n  if(options && options.send instanceof Function)\n  {\n    if(transport && !(transport instanceof Function))\n      throw new SyntaxError(\"Only a function can be after transport\");\n\n    onRequest = transport;\n    transport = options;\n    options   = undefined;\n  };\n\n  if(transport instanceof Function)\n  {\n    if(onRequest != undefined)\n      throw new SyntaxError(\"There can't be parameters after onRequest\");\n\n    onRequest = transport;\n    transport = undefined;\n  };\n\n  if(transport && transport.send instanceof Function)\n    if(onRequest && !(onRequest instanceof Function))\n      throw new SyntaxError(\"Only a function can be after transport\");\n\n  options = options || {};\n\n\n  EventEmitter.call(this);\n\n  if(onRequest)\n    this.on('request', onRequest);\n\n\n  if(defineProperty_IE8)\n    this.peerID = options.peerID\n  else\n    Object.defineProperty(this, 'peerID', {value: options.peerID});\n\n  var max_retries = options.max_retries || 0;\n\n\n  function transportMessage(event)\n  {\n    self.decode(event.data || event);\n  };\n\n  this.getTransport = function()\n  {\n    return transport;\n  }\n  this.setTransport = function(value)\n  {\n    // Remove listener from old transport\n    if(transport)\n    {\n      // W3C transports\n      if(transport.removeEventListener)\n        transport.removeEventListener('message', transportMessage);\n\n      // Node.js Streams API\n      else if(transport.removeListener)\n        transport.removeListener('data', transportMessage);\n    };\n\n    // Set listener on new transport\n    if(value)\n    {\n      // W3C transports\n      if(value.addEventListener)\n        value.addEventListener('message', transportMessage);\n\n      // Node.js Streams API\n      else if(value.addListener)\n        value.addListener('data', transportMessage);\n    };\n\n    transport = unifyTransport(value);\n  }\n\n  if(!defineProperty_IE8)\n    Object.defineProperty(this, 'transport',\n    {\n      get: this.getTransport.bind(this),\n      set: this.setTransport.bind(this)\n    })\n\n  this.setTransport(transport);\n\n\n  var request_timeout      = options.request_timeout      || BASE_TIMEOUT;\n  var ping_request_timeout = options.ping_request_timeout || request_timeout;\n  var response_timeout     = options.response_timeout     || BASE_TIMEOUT;\n  var duplicates_timeout   = options.duplicates_timeout   || BASE_TIMEOUT;\n\n\n  var requestID = 0;\n\n  var requests  = new Mapper();\n  var responses = new Mapper();\n  var processedResponses = new Mapper();\n\n  var message2Key = {};\n\n\n  /**\n   * Store the response to prevent to process duplicate request later\n   */\n  function storeResponse(message, id, dest)\n  {\n    var response =\n    {\n      message: message,\n      /** Timeout to auto-clean old responses */\n      timeout: setTimeout(function()\n      {\n        responses.remove(id, dest);\n      },\n      response_timeout)\n    };\n\n    responses.set(response, id, dest);\n  };\n\n  /**\n   * Store the response to ignore duplicated messages later\n   */\n  function storeProcessedResponse(ack, from)\n  {\n    var timeout = setTimeout(function()\n    {\n      processedResponses.remove(ack, from);\n    },\n    duplicates_timeout);\n\n    processedResponses.set(timeout, ack, from);\n  };\n\n\n  /**\n   * Representation of a RPC request\n   *\n   * @class\n   * @extends RpcNotification\n   *\n   * @constructor\n   *\n   * @param {String} method -method of the notification\n   * @param params - parameters of the notification\n   * @param {Integer} id - identifier of the request\n   * @param [from] - source of the notification\n   */\n  function RpcRequest(method, params, id, from, transport)\n  {\n    RpcNotification.call(this, method, params);\n\n    this.getTransport = function()\n    {\n      return transport;\n    }\n    this.setTransport = function(value)\n    {\n      transport = unifyTransport(value);\n    }\n\n    if(!defineProperty_IE8)\n      Object.defineProperty(this, 'transport',\n      {\n        get: this.getTransport.bind(this),\n        set: this.setTransport.bind(this)\n      })\n\n    var response = responses.get(id, from);\n\n    /**\n     * @constant {Boolean} duplicated\n     */\n    if(!(transport || self.getTransport()))\n    {\n      if(defineProperty_IE8)\n        this.duplicated = Boolean(response)\n      else\n        Object.defineProperty(this, 'duplicated',\n        {\n          value: Boolean(response)\n        });\n    }\n\n    var responseMethod = responseMethods[method];\n\n    this.pack = packer.pack.bind(packer, this, id)\n\n    /**\n     * Generate a response to this request\n     *\n     * @param {Error} [error]\n     * @param {*} [result]\n     *\n     * @returns {string}\n     */\n    this.reply = function(error, result, transport)\n    {\n      // Fix optional parameters\n      if(error instanceof Function || error && error.send instanceof Function)\n      {\n        if(result != undefined)\n          throw new SyntaxError(\"There can't be parameters after callback\");\n\n        transport = error;\n        result = null;\n        error = undefined;\n      }\n\n      else if(result instanceof Function\n      || result && result.send instanceof Function)\n      {\n        if(transport != undefined)\n          throw new SyntaxError(\"There can't be parameters after callback\");\n\n        transport = result;\n        result = null;\n      };\n\n      transport = unifyTransport(transport);\n\n      // Duplicated request, remove old response timeout\n      if(response)\n        clearTimeout(response.timeout);\n\n      if(from != undefined)\n      {\n        if(error)\n          error.dest = from;\n\n        if(result)\n          result.dest = from;\n      };\n\n      var message;\n\n      // New request or overriden one, create new response with provided data\n      if(error || result != undefined)\n      {\n        if(self.peerID != undefined)\n        {\n          if(error)\n            error.from = self.peerID;\n          else\n            result.from = self.peerID;\n        }\n\n        // Protocol indicates that responses has own request methods\n        if(responseMethod)\n        {\n          if(responseMethod.error == undefined && error)\n            message =\n            {\n              error: error\n            };\n\n          else\n          {\n            var method = error\n                       ? responseMethod.error\n                       : responseMethod.response;\n\n            message =\n            {\n              method: method,\n              params: error || result\n            };\n          }\n        }\n        else\n          message =\n          {\n            error:  error,\n            result: result\n          };\n\n        message = packer.pack(message, id);\n      }\n\n      // Duplicate & not-overriden request, re-send old response\n      else if(response)\n        message = response.message;\n\n      // New empty reply, response null value\n      else\n        message = packer.pack({result: null}, id);\n\n      // Store the response to prevent to process a duplicated request later\n      storeResponse(message, id, from);\n\n      // Return the stored response so it can be directly send back\n      transport = transport || this.getTransport() || self.getTransport();\n\n      if(transport)\n        return transport.send(message);\n\n      return message;\n    }\n  };\n  inherits(RpcRequest, RpcNotification);\n\n\n  function cancel(message)\n  {\n    var key = message2Key[message];\n    if(!key) return;\n\n    delete message2Key[message];\n\n    var request = requests.pop(key.id, key.dest);\n    if(!request) return;\n\n    clearTimeout(request.timeout);\n\n    // Start duplicated responses timeout\n    storeProcessedResponse(key.id, key.dest);\n  };\n\n  /**\n   * Allow to cancel a request and don't wait for a response\n   *\n   * If `message` is not given, cancel all the request\n   */\n  this.cancel = function(message)\n  {\n    if(message) return cancel(message);\n\n    for(var message in message2Key)\n      cancel(message);\n  };\n\n\n  this.close = function()\n  {\n    // Prevent to receive new messages\n    var transport = this.getTransport();\n    if(transport && transport.close)\n       transport.close();\n\n    // Request & processed responses\n    this.cancel();\n\n    processedResponses.forEach(clearTimeout);\n\n    // Responses\n    responses.forEach(function(response)\n    {\n      clearTimeout(response.timeout);\n    });\n  };\n\n\n  /**\n   * Generates and encode a JsonRPC 2.0 message\n   *\n   * @param {String} method -method of the notification\n   * @param params - parameters of the notification\n   * @param [dest] - destination of the notification\n   * @param {object} [transport] - transport where to send the message\n   * @param [callback] - function called when a response to this request is\n   *   received. If not defined, a notification will be send instead\n   *\n   * @returns {string} A raw JsonRPC 2.0 request or notification string\n   */\n  this.encode = function(method, params, dest, transport, callback)\n  {\n    // Fix optional parameters\n    if(params instanceof Function)\n    {\n      if(dest != undefined)\n        throw new SyntaxError(\"There can't be parameters after callback\");\n\n      callback  = params;\n      transport = undefined;\n      dest      = undefined;\n      params    = undefined;\n    }\n\n    else if(dest instanceof Function)\n    {\n      if(transport != undefined)\n        throw new SyntaxError(\"There can't be parameters after callback\");\n\n      callback  = dest;\n      transport = undefined;\n      dest      = undefined;\n    }\n\n    else if(transport instanceof Function)\n    {\n      if(callback != undefined)\n        throw new SyntaxError(\"There can't be parameters after callback\");\n\n      callback  = transport;\n      transport = undefined;\n    };\n\n    if(self.peerID != undefined)\n    {\n      params = params || {};\n\n      params.from = self.peerID;\n    };\n\n    if(dest != undefined)\n    {\n      params = params || {};\n\n      params.dest = dest;\n    };\n\n    // Encode message\n    var message =\n    {\n      method: method,\n      params: params\n    };\n\n    if(callback)\n    {\n      var id = requestID++;\n      var retried = 0;\n\n      message = packer.pack(message, id);\n\n      function dispatchCallback(error, result)\n      {\n        self.cancel(message);\n\n        callback(error, result);\n      };\n\n      var request =\n      {\n        message:         message,\n        callback:        dispatchCallback,\n        responseMethods: responseMethods[method] || {}\n      };\n\n      var encode_transport = unifyTransport(transport);\n\n      function sendRequest(transport)\n      {\n        var rt = (method === 'ping' ? ping_request_timeout : request_timeout);\n        request.timeout = setTimeout(timeout, rt*Math.pow(2, retried++));\n        message2Key[message] = {id: id, dest: dest};\n        requests.set(request, id, dest);\n\n        transport = transport || encode_transport || self.getTransport();\n        if(transport)\n          return transport.send(message);\n\n        return message;\n      };\n\n      function retry(transport)\n      {\n        transport = unifyTransport(transport);\n\n        console.warn(retried+' retry for request message:',message);\n\n        var timeout = processedResponses.pop(id, dest);\n        clearTimeout(timeout);\n\n        return sendRequest(transport);\n      };\n\n      function timeout()\n      {\n        if(retried < max_retries)\n          return retry(transport);\n\n        var error = new Error('Request has timed out');\n            error.request = message;\n\n        error.retry = retry;\n\n        dispatchCallback(error)\n      };\n\n      return sendRequest(transport);\n    };\n\n    // Return the packed message\n    message = packer.pack(message);\n\n    transport = transport || this.getTransport();\n    if(transport)\n      return transport.send(message);\n\n    return message;\n  };\n\n  /**\n   * Decode and process a JsonRPC 2.0 message\n   *\n   * @param {string} message - string with the content of the message\n   *\n   * @returns {RpcNotification|RpcRequest|undefined} - the representation of the\n   *   notification or the request. If a response was processed, it will return\n   *   `undefined` to notify that it was processed\n   *\n   * @throws {TypeError} - Message is not defined\n   */\n  this.decode = function(message, transport)\n  {\n    if(!message)\n      throw new TypeError(\"Message is not defined\");\n\n    try\n    {\n      message = packer.unpack(message);\n    }\n    catch(e)\n    {\n      // Ignore invalid messages\n      return console.debug(e, message);\n    };\n\n    var id     = message.id;\n    var ack    = message.ack;\n    var method = message.method;\n    var params = message.params || {};\n\n    var from = params.from;\n    var dest = params.dest;\n\n    // Ignore messages send by us\n    if(self.peerID != undefined && from == self.peerID) return;\n\n    // Notification\n    if(id == undefined && ack == undefined)\n    {\n      var notification = new RpcNotification(method, params);\n\n      if(self.emit('request', notification)) return;\n      return notification;\n    };\n\n\n    function processRequest()\n    {\n      // If we have a transport and it's a duplicated request, reply inmediatly\n      transport = unifyTransport(transport) || self.getTransport();\n      if(transport)\n      {\n        var response = responses.get(id, from);\n        if(response)\n          return transport.send(response.message);\n      };\n\n      var idAck = (id != undefined) ? id : ack;\n      var request = new RpcRequest(method, params, idAck, from, transport);\n\n      if(self.emit('request', request)) return;\n      return request;\n    };\n\n    function processResponse(request, error, result)\n    {\n      request.callback(error, result);\n    };\n\n    function duplicatedResponse(timeout)\n    {\n      console.warn(\"Response already processed\", message);\n\n      // Update duplicated responses timeout\n      clearTimeout(timeout);\n      storeProcessedResponse(ack, from);\n    };\n\n\n    // Request, or response with own method\n    if(method)\n    {\n      // Check if it's a response with own method\n      if(dest == undefined || dest == self.peerID)\n      {\n        var request = requests.get(ack, from);\n        if(request)\n        {\n          var responseMethods = request.responseMethods;\n\n          if(method == responseMethods.error)\n            return processResponse(request, params);\n\n          if(method == responseMethods.response)\n            return processResponse(request, null, params);\n\n          return processRequest();\n        }\n\n        var processed = processedResponses.get(ack, from);\n        if(processed)\n          return duplicatedResponse(processed);\n      }\n\n      // Request\n      return processRequest();\n    };\n\n    var error  = message.error;\n    var result = message.result;\n\n    // Ignore responses not send to us\n    if(error  && error.dest  && error.dest  != self.peerID) return;\n    if(result && result.dest && result.dest != self.peerID) return;\n\n    // Response\n    var request = requests.get(ack, from);\n    if(!request)\n    {\n      var processed = processedResponses.get(ack, from);\n      if(processed)\n        return duplicatedResponse(processed);\n\n      return console.warn(\"No callback was defined for this message\", message);\n    };\n\n    // Process response\n    processResponse(request, error, result);\n  };\n};\ninherits(RpcBuilder, EventEmitter);\n\n\nRpcBuilder.RpcNotification = RpcNotification;\n\n\nmodule.exports = RpcBuilder;\n\nvar clients = require('./clients');\nvar transports = require('./clients/transports');\n\nRpcBuilder.clients = clients;\nRpcBuilder.clients.transports = transports;\nRpcBuilder.packers = packers;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/index.js","/**\n * JsonRPC 2.0 packer\n */\n\n/**\n * Pack a JsonRPC 2.0 message\n *\n * @param {Object} message - object to be packaged. It requires to have all the\n *   fields needed by the JsonRPC 2.0 message that it's going to be generated\n *\n * @return {String} - the stringified JsonRPC 2.0 message\n */\nfunction pack(message, id)\n{\n  var result =\n  {\n    jsonrpc: \"2.0\"\n  };\n\n  // Request\n  if(message.method)\n  {\n    result.method = message.method;\n\n    if(message.params)\n      result.params = message.params;\n\n    // Request is a notification\n    if(id != undefined)\n      result.id = id;\n  }\n\n  // Response\n  else if(id != undefined)\n  {\n    if(message.error)\n    {\n      if(message.result !== undefined)\n        throw new TypeError(\"Both result and error are defined\");\n\n      result.error = message.error;\n    }\n    else if(message.result !== undefined)\n      result.result = message.result;\n    else\n      throw new TypeError(\"No result or error is defined\");\n\n    result.id = id;\n  };\n\n  return JSON.stringify(result);\n};\n\n/**\n * Unpack a JsonRPC 2.0 message\n *\n * @param {String} message - string with the content of the JsonRPC 2.0 message\n *\n * @throws {TypeError} - Invalid JsonRPC version\n *\n * @return {Object} - object filled with the JsonRPC 2.0 message content\n */\nfunction unpack(message)\n{\n  var result = message;\n\n  if(typeof message === 'string' || message instanceof String) {\n    result = JSON.parse(message);\n  }\n\n  // Check if it's a valid message\n\n  var version = result.jsonrpc;\n  if(version !== '2.0')\n    throw new TypeError(\"Invalid JsonRPC version '\" + version + \"': \" + message);\n\n  // Response\n  if(result.method == undefined)\n  {\n    if(result.id == undefined)\n      throw new TypeError(\"Invalid message: \"+message);\n\n    var result_defined = result.result !== undefined;\n    var error_defined  = result.error  !== undefined;\n\n    // Check only result or error is defined, not both or none\n    if(result_defined && error_defined)\n      throw new TypeError(\"Both result and error are defined: \"+message);\n\n    if(!result_defined && !error_defined)\n      throw new TypeError(\"No result or error is defined: \"+message);\n\n    result.ack = result.id;\n    delete result.id;\n  }\n\n  // Return unpacked message\n  return result;\n};\n\n\nexports.pack   = pack;\nexports.unpack = unpack;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/JsonRPC.js","function pack(message)\n{\n  throw new TypeError(\"Not yet implemented\");\n};\n\nfunction unpack(message)\n{\n  throw new TypeError(\"Not yet implemented\");\n};\n\n\nexports.pack   = pack;\nexports.unpack = unpack;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/XmlRPC.js","var JsonRPC = require('./JsonRPC');\nvar XmlRPC  = require('./XmlRPC');\n\n\nexports.JsonRPC = JsonRPC;\nexports.XmlRPC  = XmlRPC;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-jsonrpc/packers/index.js","/*\n * (C) Copyright 2014-2015 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar freeice = require('freeice')\nvar inherits = require('inherits')\nvar UAParser = require('ua-parser-js')\nvar uuid = require('uuid')\nvar hark = require('hark')\n\nvar EventEmitter = require('events').EventEmitter\nvar recursive = require('merge').recursive.bind(undefined, true)\nvar sdpTranslator = require('sdp-translator')\nvar logger = window.Logger || console\n\n// var gUM = navigator.mediaDevices.getUserMedia || function (constraints) {\n//   return new Promise(navigator.getUserMedia(constraints, function (stream) {\n//     videoStream = stream\n//     start()\n//   }).eror(callback));\n// }\n\n/*try {\n  require('kurento-browser-extensions')\n} catch (error) {\n  if (typeof getScreenConstraints === 'undefined') {\n    logger.warn('screen sharing is not available')\n\n    getScreenConstraints = function getScreenConstraints(sendSource, callback) {\n      callback(new Error(\"This library is not enabled for screen sharing\"))\n    }\n  }\n}*/\n\nvar MEDIA_CONSTRAINTS = {\n  audio: true,\n  video: {\n    width: 640,\n    framerate: 15\n  }\n}\n\n// Somehow, the UAParser constructor gets an empty window object.\n// We need to pass the user agent string in order to get information\nvar ua = (window && window.navigator) ? window.navigator.userAgent : ''\nvar parser = new UAParser(ua)\nvar browser = parser.getBrowser()\n\nvar usePlanB = false\nif (browser.name === 'Chrome' || browser.name === 'Chromium') {\n  logger.debug(browser.name + \": using SDP PlanB\")\n  usePlanB = true\n}\n\nfunction noop(error) {\n  if (error) logger.error(error)\n}\n\nfunction trackStop(track) {\n  track.stop && track.stop()\n}\n\nfunction streamStop(stream) {\n  stream.getTracks().forEach(trackStop)\n}\n\n/**\n * Returns a string representation of a SessionDescription object.\n */\nvar dumpSDP = function (description) {\n  if (typeof description === 'undefined' || description === null) {\n    return ''\n  }\n\n  return 'type: ' + description.type + '\\r\\n' + description.sdp\n}\n\nfunction bufferizeCandidates(pc, onerror) {\n  var candidatesQueue = []\n\n  pc.addEventListener('signalingstatechange', function () {\n    if (this.signalingState === 'stable') {\n      while (candidatesQueue.length) {\n        var entry = candidatesQueue.shift()\n\n        this.addIceCandidate(entry.candidate, entry.callback, entry.callback)\n      }\n    }\n  })\n\n  return function (candidate, callback) {\n    callback = callback || onerror\n\n    switch (pc.signalingState) {\n    case 'closed':\n      callback(new Error('PeerConnection object is closed'));\n      break;\n    case 'stable':\n      if (pc.remoteDescription) {\n        pc.addIceCandidate(candidate, callback, callback);\n      }\n      break;\n    default:\n      candidatesQueue.push({\n        candidate: candidate,\n        callback: callback\n      })\n    }\n  }\n}\n\n/* Simulcast utilities */\n\nfunction removeFIDFromOffer(sdp) {\n  var n = sdp.indexOf(\"a=ssrc-group:FID\");\n\n  if (n > 0) {\n    return sdp.slice(0, n);\n  } else {\n    return sdp;\n  }\n}\n\nfunction getSimulcastInfo(videoStream) {\n  var videoTracks = videoStream.getVideoTracks();\n  if (!videoTracks.length) {\n    logger.warn('No video tracks available in the video stream')\n    return ''\n  }\n  var lines = [\n    'a=x-google-flag:conference',\n    'a=ssrc-group:SIM 1 2 3',\n    'a=ssrc:1 cname:localVideo',\n    'a=ssrc:1 msid:' + videoStream.id + ' ' + videoTracks[0].id,\n    'a=ssrc:1 mslabel:' + videoStream.id,\n    'a=ssrc:1 label:' + videoTracks[0].id,\n    'a=ssrc:2 cname:localVideo',\n    'a=ssrc:2 msid:' + videoStream.id + ' ' + videoTracks[0].id,\n    'a=ssrc:2 mslabel:' + videoStream.id,\n    'a=ssrc:2 label:' + videoTracks[0].id,\n    'a=ssrc:3 cname:localVideo',\n    'a=ssrc:3 msid:' + videoStream.id + ' ' + videoTracks[0].id,\n    'a=ssrc:3 mslabel:' + videoStream.id,\n    'a=ssrc:3 label:' + videoTracks[0].id\n  ];\n\n  lines.push('');\n\n  return lines.join('\\n');\n}\n\n/**\n * Wrapper object of an RTCPeerConnection. This object is aimed to simplify the\n * development of WebRTC-based applications.\n *\n * @constructor module:kurentoUtils.WebRtcPeer\n *\n * @param {String} mode Mode in which the PeerConnection will be configured.\n *  Valid values are: 'recv', 'send', and 'sendRecv'\n * @param localVideo Video tag for the local stream\n * @param remoteVideo Video tag for the remote stream\n * @param {MediaStream} videoStream Stream to be used as primary source\n *  (typically video and audio, or only video if combined with audioStream) for\n *  localVideo and to be added as stream to the RTCPeerConnection\n * @param {MediaStream} audioStream Stream to be used as second source\n *  (typically for audio) for localVideo and to be added as stream to the\n *  RTCPeerConnection\n */\nfunction WebRtcPeer(mode, options, callback) {\n  if (!(this instanceof WebRtcPeer)) {\n    return new WebRtcPeer(mode, options, callback)\n  }\n\n  WebRtcPeer.super_.call(this)\n\n  if (options instanceof Function) {\n    callback = options\n    options = undefined\n  }\n\n  options = options || {}\n  callback = (callback || noop).bind(this)\n\n  var self = this\n  var localVideo = options.localVideo\n  var remoteVideo = options.remoteVideo\n  var videoStream = options.videoStream\n  var audioStream = options.audioStream\n  var mediaConstraints = options.mediaConstraints\n\n  var connectionConstraints = options.connectionConstraints\n  var pc = options.peerConnection\n  var sendSource = options.sendSource || 'webcam'\n\n  var dataChannelConfig = options.dataChannelConfig\n  var useDataChannels = options.dataChannels || false\n  var dataChannel\n\n  var guid = uuid.v4()\n  var configuration = recursive({\n      iceServers: freeice()\n    },\n    options.configuration)\n\n  var onicecandidate = options.onicecandidate\n  if (onicecandidate) this.on('icecandidate', onicecandidate)\n\n  var oncandidategatheringdone = options.oncandidategatheringdone\n  if (oncandidategatheringdone) {\n    this.on('candidategatheringdone', oncandidategatheringdone)\n  }\n\n  var simulcast = options.simulcast\n  var multistream = options.multistream\n  var interop = new sdpTranslator.Interop()\n  var candidatesQueueOut = []\n  var candidategatheringdone = false\n\n  Object.defineProperties(this, {\n    'peerConnection': {\n      get: function () {\n        return pc\n      }\n    },\n\n    'id': {\n      value: options.id || guid,\n      writable: false\n    },\n\n    'remoteVideo': {\n      get: function () {\n        return remoteVideo\n      }\n    },\n\n    'localVideo': {\n      get: function () {\n        return localVideo\n      }\n    },\n\n    'dataChannel': {\n      get: function () {\n        return dataChannel\n      }\n    },\n\n    /**\n     * @member {(external:ImageData|undefined)} currentFrame\n     */\n    'currentFrame': {\n      get: function () {\n        // [ToDo] Find solution when we have a remote stream but we didn't set\n        // a remoteVideo tag\n        if (!remoteVideo) return;\n\n        if (remoteVideo.readyState < remoteVideo.HAVE_CURRENT_DATA)\n          throw new Error('No video stream data available')\n\n        var canvas = document.createElement('canvas')\n        canvas.width = remoteVideo.videoWidth\n        canvas.height = remoteVideo.videoHeight\n\n        canvas.getContext('2d').drawImage(remoteVideo, 0, 0)\n\n        return canvas\n      }\n    }\n  })\n\n  // Init PeerConnection\n  if (!pc) {\n    pc = new RTCPeerConnection(configuration);\n    if (useDataChannels && !dataChannel) {\n      var dcId = 'WebRtcPeer-' + self.id\n      var dcOptions = undefined\n      if (dataChannelConfig) {\n        dcId = dataChannelConfig.id || dcId\n        dcOptions = dataChannelConfig.options\n      }\n      dataChannel = pc.createDataChannel(dcId, dcOptions);\n      if (dataChannelConfig) {\n        dataChannel.onopen = dataChannelConfig.onopen;\n        dataChannel.onclose = dataChannelConfig.onclose;\n        dataChannel.onmessage = dataChannelConfig.onmessage;\n        dataChannel.onbufferedamountlow = dataChannelConfig.onbufferedamountlow;\n        dataChannel.onerror = dataChannelConfig.onerror || noop;\n      }\n    }\n  }\n\n  pc.addEventListener('icecandidate', function (event) {\n    var candidate = event.candidate\n\n    if (EventEmitter.listenerCount(self, 'icecandidate') ||\n      EventEmitter.listenerCount(\n        self, 'candidategatheringdone')) {\n      if (candidate) {\n        var cand\n\n        if (multistream && usePlanB) {\n          cand = interop.candidateToUnifiedPlan(candidate)\n        } else {\n          cand = candidate\n        }\n\n        self.emit('icecandidate', cand)\n        candidategatheringdone = false\n      } else if (!candidategatheringdone) {\n        self.emit('candidategatheringdone')\n        candidategatheringdone = true\n      }\n    } else if (!candidategatheringdone) {\n      // Not listening to 'icecandidate' or 'candidategatheringdone' events, queue\n      // the candidate until one of them is listened\n      candidatesQueueOut.push(candidate)\n\n      if (!candidate) candidategatheringdone = true\n    }\n  })\n\n  pc.ontrack = options.onaddstream\n  pc.onnegotiationneeded = options.onnegotiationneeded\n  this.on('newListener', function (event, listener) {\n    if (event === 'icecandidate' || event === 'candidategatheringdone') {\n      while (candidatesQueueOut.length) {\n        var candidate = candidatesQueueOut.shift()\n\n        if (!candidate === (event === 'candidategatheringdone')) {\n          listener(candidate)\n        }\n      }\n    }\n  })\n\n  var addIceCandidate = bufferizeCandidates(pc)\n\n  /**\n   * Callback function invoked when an ICE candidate is received. Developers are\n   * expected to invoke this function in order to complete the SDP negotiation.\n   *\n   * @function module:kurentoUtils.WebRtcPeer.prototype.addIceCandidate\n   *\n   * @param iceCandidate - Literal object with the ICE candidate description\n   * @param callback - Called when the ICE candidate has been added.\n   */\n  this.addIceCandidate = function (iceCandidate, callback) {\n    var candidate\n\n    if (multistream && usePlanB) {\n      candidate = interop.candidateToPlanB(iceCandidate)\n    } else {\n      candidate = new RTCIceCandidate(iceCandidate)\n    }\n\n    logger.debug('Remote ICE candidate received', iceCandidate)\n    callback = (callback || noop).bind(this)\n    addIceCandidate(candidate, callback)\n  }\n\n  this.generateOffer = function (callback) {\n    callback = callback.bind(this)\n\n    var offerAudio = true\n    var offerVideo = true\n    // Constraints must have both blocks\n    if (mediaConstraints) {\n      offerAudio = (typeof mediaConstraints.audio === 'boolean') ?\n        mediaConstraints.audio : true\n      offerVideo = (typeof mediaConstraints.video === 'boolean') ?\n        mediaConstraints.video : true\n    }\n\n    var browserDependantConstraints = {\n      offerToReceiveAudio: (mode !== 'sendonly' && offerAudio),\n      offerToReceiveVideo: (mode !== 'sendonly' && offerVideo)\n    }\n\n    //FIXME: clarify possible constraints passed to createOffer()\n    /*var constraints = recursive(browserDependantConstraints,\n      connectionConstraints)*/\n\n    var constraints = browserDependantConstraints;\n\n    logger.debug('constraints: ' + JSON.stringify(constraints))\n\n    pc.createOffer(constraints).then(function (offer) {\n      logger.debug('Created SDP offer')\n      offer = mangleSdpToAddSimulcast(offer)\n      return pc.setLocalDescription(offer)\n    }).then(function () {\n      var localDescription = pc.localDescription\n      logger.debug('Local description set', localDescription.sdp)\n      if (multistream && usePlanB) {\n        localDescription = interop.toUnifiedPlan(localDescription)\n        logger.debug('offer::origPlanB->UnifiedPlan', dumpSDP(\n          localDescription))\n      }\n      callback(null, localDescription.sdp, self.processAnswer.bind(\n        self))\n    }).catch(callback)\n  }\n\n  this.getLocalSessionDescriptor = function () {\n    return pc.localDescription\n  }\n\n  this.getRemoteSessionDescriptor = function () {\n    return pc.remoteDescription\n  }\n\n  function setRemoteVideo() {\n    if (remoteVideo) {\n      var stream = pc.getRemoteStreams()[0]\n      var url = stream ? URL.createObjectURL(stream) : ''\n\n      remoteVideo.pause()\n      remoteVideo.src = url\n      remoteVideo.load()\n\n      logger.debug('Remote URL:', url)\n    }\n  }\n\n  this.showLocalVideo = function () {\n    localVideo.src = URL.createObjectURL(videoStream)\n    localVideo.muted = true\n  }\n\n  this.send = function (data) {\n    if (dataChannel && dataChannel.readyState === 'open') {\n      dataChannel.send(data)\n    } else {\n      logger.warn(\n        'Trying to send data over a non-existing or closed data channel')\n    }\n  }\n\n  /**\n   * Callback function invoked when a SDP answer is received. Developers are\n   * expected to invoke this function in order to complete the SDP negotiation.\n   *\n   * @function module:kurentoUtils.WebRtcPeer.prototype.processAnswer\n   *\n   * @param sdpAnswer - Description of sdpAnswer\n   * @param callback -\n   *            Invoked after the SDP answer is processed, or there is an error.\n   */\n  this.processAnswer = function (sdpAnswer, callback) {\n    callback = (callback || noop).bind(this)\n\n    var answer = new RTCSessionDescription({\n      type: 'answer',\n      sdp: sdpAnswer\n    })\n\n    if (multistream && usePlanB) {\n      var planBAnswer = interop.toPlanB(answer)\n      logger.debug('asnwer::planB', dumpSDP(planBAnswer))\n      answer = planBAnswer\n    }\n\n    logger.debug('SDP answer received, setting remote description')\n\n    if (pc.signalingState === 'closed') {\n      return callback('PeerConnection is closed')\n    }\n\n    pc.setRemoteDescription(answer, function () {\n        setRemoteVideo()\n\n        callback()\n      },\n      callback)\n  }\n\n  /**\n   * Callback function invoked when a SDP offer is received. Developers are\n   * expected to invoke this function in order to complete the SDP negotiation.\n   *\n   * @function module:kurentoUtils.WebRtcPeer.prototype.processOffer\n   *\n   * @param sdpOffer - Description of sdpOffer\n   * @param callback - Called when the remote description has been set\n   *  successfully.\n   */\n  this.processOffer = function (sdpOffer, callback) {\n    callback = callback.bind(this)\n\n    var offer = new RTCSessionDescription({\n      type: 'offer',\n      sdp: sdpOffer\n    })\n\n    if (multistream && usePlanB) {\n      var planBOffer = interop.toPlanB(offer)\n      logger.debug('offer::planB', dumpSDP(planBOffer))\n      offer = planBOffer\n    }\n\n    logger.debug('SDP offer received, setting remote description')\n\n    if (pc.signalingState === 'closed') {\n      return callback('PeerConnection is closed')\n    }\n\n    pc.setRemoteDescription(offer).then(function () {\n      return setRemoteVideo()\n    }).then(function () {\n      return pc.createAnswer()\n    }).then(function (answer) {\n      answer = mangleSdpToAddSimulcast(answer)\n      logger.debug('Created SDP answer')\n      return pc.setLocalDescription(answer)\n    }).then(function () {\n      var localDescription = pc.localDescription\n      if (multistream && usePlanB) {\n        localDescription = interop.toUnifiedPlan(localDescription)\n        logger.debug('answer::origPlanB->UnifiedPlan', dumpSDP(\n          localDescription))\n      }\n      logger.debug('Local description set', localDescription.sdp)\n      callback(null, localDescription.sdp)\n    }).catch(callback)\n  }\n\n  function mangleSdpToAddSimulcast(answer) {\n    if (simulcast) {\n      if (browser.name === 'Chrome' || browser.name === 'Chromium') {\n        logger.debug('Adding multicast info')\n        answer = new RTCSessionDescription({\n          'type': answer.type,\n          'sdp': removeFIDFromOffer(answer.sdp) + getSimulcastInfo(\n            videoStream)\n        })\n      } else {\n        logger.warn('Simulcast is only available in Chrome browser.')\n      }\n    }\n\n    return answer\n  }\n\n  /**\n   * This function creates the RTCPeerConnection object taking into account the\n   * properties received in the constructor. It starts the SDP negotiation\n   * process: generates the SDP offer and invokes the onsdpoffer callback. This\n   * callback is expected to send the SDP offer, in order to obtain an SDP\n   * answer from another peer.\n   */\n  function start() {\n    if (pc.signalingState === 'closed') {\n      callback(\n        'The peer connection object is in \"closed\" state. This is most likely due to an invocation of the dispose method before accepting in the dialogue'\n      )\n    }\n\n    if (videoStream && localVideo) {\n      self.showLocalVideo()\n    }\n\n    if (videoStream) {\n      pc.addStream(videoStream)\n    }\n\n    if (audioStream) {\n      pc.addStream(audioStream)\n    }\n\n    // [Hack] https://code.google.com/p/chromium/issues/detail?id=443558\n    var browser = parser.getBrowser()\n    if (mode === 'sendonly' &&\n      (browser.name === 'Chrome' || browser.name === 'Chromium') &&\n      browser.major === 39) {\n      mode = 'sendrecv'\n    }\n\n    callback()\n  }\n\n  if (mode !== 'recvonly' && !videoStream && !audioStream) {\n    function getMedia(constraints) {\n      if (constraints === undefined) {\n        constraints = MEDIA_CONSTRAINTS\n      }\n\n      navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n        videoStream = stream\n        start()\n      }).catch(callback);\n    }\n    if (sendSource === 'webcam') {\n      getMedia(mediaConstraints)\n    } else {\n      getScreenConstraints(sendSource, function (error, constraints_) {\n        if (error)\n          return callback(error)\n\n        constraints = [mediaConstraints]\n        constraints.unshift(constraints_)\n        getMedia(recursive.apply(undefined, constraints))\n      }, guid)\n    }\n  } else {\n    setTimeout(start, 0)\n  }\n\n  this.on('_dispose', function () {\n    if (localVideo) {\n      localVideo.pause()\n      localVideo.src = ''\n      localVideo.load()\n      //Unmute local video in case the video tag is later used for remote video\n      localVideo.muted = false\n    }\n    if (remoteVideo) {\n      remoteVideo.pause()\n      remoteVideo.src = ''\n      remoteVideo.load()\n    }\n    self.removeAllListeners()\n\n    if (window.cancelChooseDesktopMedia !== undefined) {\n      window.cancelChooseDesktopMedia(guid)\n    }\n  })\n}\ninherits(WebRtcPeer, EventEmitter)\n\nfunction createEnableDescriptor(type) {\n  var method = 'get' + type + 'Tracks'\n\n  return {\n    enumerable: true,\n    get: function () {\n      // [ToDo] Should return undefined if not all tracks have the same value?\n\n      if (!this.peerConnection) return\n\n      var streams = this.peerConnection.getLocalStreams()\n      if (!streams.length) return\n\n      for (var i = 0, stream; stream = streams[i]; i++) {\n        var tracks = stream[method]()\n        for (var j = 0, track; track = tracks[j]; j++)\n          if (!track.enabled) return false\n      }\n\n      return true\n    },\n    set: function (value) {\n      function trackSetEnable(track) {\n        track.enabled = value\n      }\n\n      this.peerConnection.getLocalStreams().forEach(function (stream) {\n        stream[method]().forEach(trackSetEnable)\n      })\n    }\n  }\n}\n\nObject.defineProperties(WebRtcPeer.prototype, {\n  'enabled': {\n    enumerable: true,\n    get: function () {\n      return this.audioEnabled && this.videoEnabled\n    },\n    set: function (value) {\n      this.audioEnabled = this.videoEnabled = value\n    }\n  },\n  'audioEnabled': createEnableDescriptor('Audio'),\n  'videoEnabled': createEnableDescriptor('Video')\n})\n\nWebRtcPeer.prototype.getLocalStream = function (index) {\n  if (this.peerConnection) {\n    return this.peerConnection.getLocalStreams()[index || 0]\n  }\n}\n\nWebRtcPeer.prototype.getRemoteStream = function (index) {\n  if (this.peerConnection) {\n    return this.peerConnection.getRemoteStreams()[index || 0]\n  }\n}\n\n/**\n * @description This method frees the resources used by WebRtcPeer.\n *\n * @function module:kurentoUtils.WebRtcPeer.prototype.dispose\n */\nWebRtcPeer.prototype.dispose = function () {\n  logger.debug('Disposing WebRtcPeer')\n\n  var pc = this.peerConnection\n  var dc = this.dataChannel\n  try {\n    if (dc) {\n      if (dc.signalingState === 'closed') return\n\n      dc.close()\n    }\n\n    if (pc) {\n      if (pc.signalingState === 'closed') return\n\n      pc.getLocalStreams().forEach(streamStop)\n\n      // FIXME This is not yet implemented in firefox\n      // if(videoStream) pc.removeStream(videoStream);\n      // if(audioStream) pc.removeStream(audioStream);\n\n      pc.close()\n    }\n  } catch (err) {\n    logger.warn('Exception disposing webrtc peer ' + err)\n  }\n\n  this.emit('_dispose')\n}\n\n//\n// Specialized child classes\n//\n\nfunction WebRtcPeerRecvonly(options, callback) {\n  if (!(this instanceof WebRtcPeerRecvonly)) {\n    return new WebRtcPeerRecvonly(options, callback)\n  }\n\n  WebRtcPeerRecvonly.super_.call(this, 'recvonly', options, callback)\n}\ninherits(WebRtcPeerRecvonly, WebRtcPeer)\n\nfunction WebRtcPeerSendonly(options, callback) {\n  if (!(this instanceof WebRtcPeerSendonly)) {\n    return new WebRtcPeerSendonly(options, callback)\n  }\n\n  WebRtcPeerSendonly.super_.call(this, 'sendonly', options, callback)\n}\ninherits(WebRtcPeerSendonly, WebRtcPeer)\n\nfunction WebRtcPeerSendrecv(options, callback) {\n  if (!(this instanceof WebRtcPeerSendrecv)) {\n    return new WebRtcPeerSendrecv(options, callback)\n  }\n\n  WebRtcPeerSendrecv.super_.call(this, 'sendrecv', options, callback)\n}\ninherits(WebRtcPeerSendrecv, WebRtcPeer)\n\nfunction harkUtils(stream, options) {\n  return hark(stream, options);\n}\n\nexports.bufferizeCandidates = bufferizeCandidates\n\nexports.WebRtcPeerRecvonly = WebRtcPeerRecvonly\nexports.WebRtcPeerSendonly = WebRtcPeerSendonly\nexports.WebRtcPeerSendrecv = WebRtcPeerSendrecv\nexports.hark = harkUtils\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-utils-js/WebRtcPeer.js","/*\n * (C) Copyright 2014 Kurento (http://kurento.org/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n/**\n * This module contains a set of reusable components that have been found useful\n * during the development of the WebRTC applications with Kurento.\n * \n * @module kurentoUtils\n * \n * @copyright 2014 Kurento (http://kurento.org/)\n * @license ALv2\n */\n\nvar WebRtcPeer = require('./WebRtcPeer');\n\nexports.WebRtcPeer = WebRtcPeer;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/KurentoUtils/kurento-utils-js/index.js","/*\n * (C) Copyright 2017 OpenVidu (http://openvidu.io/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { OpenViduInternal } from '../OpenViduInternal/OpenViduInternal';\n\nimport { Session } from './Session';\nimport { Publisher } from './Publisher';\nimport { OpenViduError, OpenViduErrorName } from '../OpenViduInternal/OpenViduError';\nimport { Stream } from '../OpenViduInternal/Stream';\nimport { LocalRecorder } from '../OpenViduInternal/LocalRecorder';\n\nimport * as adapter from 'webrtc-adapter';\nimport * as screenSharing from '../ScreenSharing/Screen-Capturing.js';\nimport * as screenSharingAuto from '../ScreenSharing/Screen-Capturing-Auto.js';\n\nif (window) {\n    window[\"adapter\"] = adapter;\n}\n\nexport class OpenVidu {\n\n    openVidu: OpenViduInternal;\n\n    constructor() {\n        this.openVidu = new OpenViduInternal();\n        console.info(\"'OpenVidu' initialized\");\n    };\n\n    initSession(apiKey: string, sessionId: string): Session;\n    initSession(sessionId: string): Session;\n\n    initSession(param1, param2?): any {\n        if (this.checkSystemRequirements()) {\n            if (typeof param2 == \"string\") {\n                return new Session(this.openVidu.initSession(param2), this);\n            } else {\n                return new Session(this.openVidu.initSession(param1), this);\n            }\n        } else {\n            alert(\"Browser not supported\");\n        }\n    }\n\n    initPublisher(parentId: string): Publisher;\n    initPublisher(parentId: string, cameraOptions: any): Publisher;\n    initPublisher(parentId: string, cameraOptions: any, callback: any): Publisher;\n\n    initPublisher(parentId: string, cameraOptions?: any, callback?: Function): any {\n        if (this.checkSystemRequirements()) {\n            let publisher: Publisher;\n            if (cameraOptions != null) {\n\n                cameraOptions.audio = cameraOptions.audio != null ? cameraOptions.audio : true;\n                cameraOptions.video = cameraOptions.video != null ? cameraOptions.video : true;\n\n                if (!cameraOptions.screen) {\n\n                    // Webcam and/or microphone is being requested\n\n                    let cameraOptionsAux = {\n                        sendAudio: cameraOptions.audio != null ? cameraOptions.audio : true,\n                        sendVideo: cameraOptions.video != null ? cameraOptions.video : true,\n                        activeAudio: cameraOptions.audioActive != null ? cameraOptions.audioActive : true,\n                        activeVideo: cameraOptions.videoActive != null ? cameraOptions.videoActive : true,\n                        dataChannel: true,\n                        mediaConstraints: this.openVidu.generateMediaConstraints(cameraOptions)\n                    };\n                    cameraOptions = cameraOptionsAux;\n\n                    publisher = new Publisher(this.openVidu.initPublisherTagged(parentId, cameraOptions, true, callback), parentId, false);\n                    console.info(\"'Publisher' initialized\");\n\n                    return publisher;\n\n                } else {\n\n                    publisher = new Publisher(this.openVidu.initPublisherScreen(parentId, true, callback), parentId, true);\n                    if (adapter.browserDetails.browser === 'firefox' && adapter.browserDetails.version >= 52) {\n                        screenSharingAuto.getScreenId((error, sourceId, screenConstraints) => {\n                            cameraOptions = {\n                                sendAudio: cameraOptions.audio,\n                                sendVideo: cameraOptions.video,\n                                activeAudio: cameraOptions.audioActive != null ? cameraOptions.audioActive : true,\n                                activeVideo: cameraOptions.videoActive != null ? cameraOptions.videoActive : true,\n                                dataChannel: true,\n                                mediaConstraints: {\n                                    video: screenConstraints.video,\n                                    audio: false\n                                }\n                            }\n\n                            publisher.stream.configureScreenOptions(cameraOptions);\n                            console.info(\"'Publisher' initialized\");\n\n                            publisher.stream.ee.emitEvent('can-request-screen');\n                        });\n                        return publisher;\n                    } else if (adapter.browserDetails.browser === 'chrome') {\n                        // Screen is being requested\n\n                        /*screenSharing.isChromeExtensionAvailable((availability) => {\n                            switch (availability) {\n                                case 'available':\n                                    console.warn('EXTENSION AVAILABLE!!!');\n                                    screenSharing.getScreenConstraints((error, screenConstraints) => {\n                                        if (!error) {\n                                            console.warn(screenConstraints);\n                                        }\n                                    });\n                                    break;\n                                case 'unavailable':\n                                    console.warn('EXTENSION NOT AVAILABLE!!!');\n                                    break;\n                                case 'isFirefox':\n                                    console.warn('IT IS FIREFOX!!!');\n                                    screenSharing.getScreenConstraints((error, screenConstraints) => {\n                                        if (!error) {\n                                            console.warn(screenConstraints);\n                                        }\n                                    });\n                                    break;\n                            }\n                        });*/\n                        screenSharingAuto.getScreenId((error, sourceId, screenConstraints) => {\n\n                            if (error === 'not-installed') {\n                                let error = new OpenViduError(OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED, 'https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk');\n                                console.error(error);\n                                if (callback) callback(error);\n                                return;\n                            } else if (error === 'permission-denied') {\n                                let error = new OpenViduError(OpenViduErrorName.SCREEN_CAPTURE_DENIED, 'You must allow access to one window of your desktop');\n                                console.error(error);\n                                if (callback) callback(error);\n                                return;\n                            }\n\n                            cameraOptions = {\n                                sendAudio: cameraOptions.audio != null ? cameraOptions.audio : true,\n                                sendVideo: cameraOptions.video != null ? cameraOptions.video : true,\n                                activeAudio: cameraOptions.audioActive != null ? cameraOptions.audioActive : true,\n                                activeVideo: cameraOptions.videoActive != null ? cameraOptions.videoActive : true,\n                                dataChannel: true,\n                                mediaConstraints: {\n                                    video: screenConstraints.video,\n                                    audio: false\n                                }\n                            }\n\n                            publisher.stream.configureScreenOptions(cameraOptions);\n\n                            publisher.stream.ee.emitEvent('can-request-screen');\n                        }, (error) => {\n                            console.error('getScreenId error', error);\n                            return;\n                        });\n                        console.info(\"'Publisher' initialized\");\n                        return publisher;\n                    } else {\n                        console.error('Screen sharing not supported on ' + adapter.browserDetails.browser);\n                    }\n                }\n            } else {\n                cameraOptions = {\n                    sendAudio: true,\n                    sendVideo: true,\n                    activeAudio: true,\n                    activeVideo: true,\n                    dataChannel: true,\n                    mediaConstraints: {\n                        audio: true,\n                        video: { width: { ideal: 1280 } }\n                    }\n                }\n                publisher = new Publisher(this.openVidu.initPublisherTagged(parentId, cameraOptions, true, callback), parentId, false);\n                console.info(\"'Publisher' initialized\");\n\n                return publisher;\n            }\n        } else {\n            alert(\"Browser not supported\");\n        }\n    }\n\n    reinitPublisher(publisher: Publisher): any {\n        if (publisher.stream.typeOfVideo !== 'SCREEN') {\n            publisher = new Publisher(this.openVidu.initPublisherTagged(publisher.stream.getParentId(), publisher.stream.outboundOptions, false), publisher.stream.getParentId(), false);\n            console.info(\"'Publisher' initialized\");\n            return publisher;\n        } else {\n            publisher = new Publisher(this.openVidu.initPublisherScreen(publisher.stream.getParentId(), false), publisher.stream.getParentId(), true);\n            if (adapter.browserDetails.browser === 'firefox' && adapter.browserDetails.version >= 52) {\n                screenSharingAuto.getScreenId((error, sourceId, screenConstraints) => {\n\n                    publisher.stream.outboundOptions.mediaConstraints.video = screenConstraints.video;\n                    publisher.stream.configureScreenOptions(publisher.stream.outboundOptions);\n                    console.info(\"'Publisher' initialized\");\n\n                    publisher.stream.ee.emitEvent('can-request-screen');\n                });\n                return publisher;\n            } else if (adapter.browserDetails.browser === 'chrome') {\n                screenSharingAuto.getScreenId((error, sourceId, screenConstraints) => {\n                    if (error === 'not-installed') {\n                        let error = new OpenViduError(OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED, 'https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk');\n                        console.error(error);\n                        return;\n                    } else if (error === 'permission-denied') {\n                        let error = new OpenViduError(OpenViduErrorName.SCREEN_CAPTURE_DENIED, 'You must allow access to one window of your desktop');\n                        console.error(error);\n                        return;\n                    }\n                    publisher.stream.outboundOptions.mediaConstraints.video = screenConstraints.video;\n                    publisher.stream.configureScreenOptions(publisher.stream.outboundOptions);\n\n                    publisher.stream.ee.emitEvent('can-request-screen');\n                }, (error) => {\n                    console.error('getScreenId error', error);\n                    return;\n                });\n                console.info(\"'Publisher' initialized\");\n                return publisher;\n            } else {\n                console.error('Screen sharing not supported on ' + adapter.browserDetails.browser);\n            }\n        }\n    }\n\n    checkSystemRequirements(): number {\n        let browser = adapter.browserDetails.browser;\n        let version = adapter.browserDetails.version;\n\n        //Bug fix: 'navigator.userAgent' in Firefox for Ubuntu 14.04 does not return \"Firefox/[version]\" in the string, so version returned is null\n        if ((browser == 'firefox') && (version == null)) {\n            return 1;\n        }\n        if (((browser == 'chrome') && (version >= 28)) || ((browser == 'edge') && (version >= 12)) || ((browser == 'firefox') && (version >= 22))) {\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    getDevices(callback) {\n        navigator.mediaDevices.enumerateDevices().then((deviceInfos) => {\n            callback(null, deviceInfos);\n        }).catch((error) => {\n            console.error(\"Error getting devices\", error);\n            callback(error, null);\n        });\n    }\n\n    enableProdMode() {\n        console.log = function () { };\n        console.debug = function () { };\n        console.info = function () { };\n        console.warn = function () { };\n    }\n\n    initLocalRecorder(stream: Stream): LocalRecorder {\n        return new LocalRecorder(stream);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/OpenVidu.ts","/*\n * options: name: XXX data: true (Maybe this is based on webrtc) audio: true,\n * video: true, url: \"file:///...\" > Player screen: true > Desktop (implicit\n * video:true, audio:false) audio: true, video: true > Webcam\n *\n * stream.hasAudio(); stream.hasVideo(); stream.hasData();\n */\nimport { Stream } from '../OpenViduInternal/Stream';\nimport { Session } from './Session';\n\nimport EventEmitter = require('wolfy87-eventemitter');\n\nexport class Publisher {\n\n    ee = new EventEmitter();\n\n    accessAllowed = false;\n    element: Element;\n    id: string;\n    stream: Stream;\n    session: Session; //Initialized by Session.publish(Publisher)\n    isScreenRequested: boolean = false;\n\n    constructor(stream: Stream, parentId: string, isScreenRequested: boolean) {\n        this.stream = stream;\n        this.isScreenRequested = isScreenRequested;\n\n        // Listens to the deactivation of the default behaviour upon the deletion of a Stream object\n        this.ee.addListener('stream-destroyed-default', event => {\n            let s: Stream = event.stream;\n            s.addOnceEventListener('video-removed', () => {\n                this.ee.emitEvent('videoElementDestroyed');\n            });\n            s.removeVideo();\n        });\n\n        if (document.getElementById(parentId) != null) {\n            this.element = document.getElementById(parentId)!!;\n        }\n    }\n\n    publishAudio(value: boolean) {\n        this.stream.getWebRtcPeer().audioEnabled = value;\n    }\n\n    publishVideo(value: boolean) {\n        this.stream.getWebRtcPeer().videoEnabled = value;\n    }\n\n    destroy() {\n        if (!!this.session) this.session.unpublish(this);\n        this.stream.dispose();\n        this.stream.removeVideo(this.element);\n        return this;\n    }\n\n    subscribeToRemote() {\n        this.stream.subscribeToMyRemote();\n    }\n\n    on(eventName: string, callback) {\n        this.ee.addListener(eventName, event => {\n            if (event) {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Publisher'\", event);\n            } else {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Publisher'\");\n            }\n            callback(event);\n        });\n        if (eventName == 'streamCreated') {\n            if (this.stream.isPublisherPublished) {\n                this.ee.emitEvent('streamCreated', [{ stream: this.stream }]);\n            } else {\n                this.stream.addEventListener('stream-created-by-publisher', () => {\n                    this.ee.emitEvent('streamCreated', [{ stream: this.stream }]);\n                });\n            }\n        }\n        if (eventName == 'videoElementCreated') {\n            if (this.stream.isVideoELementCreated) {\n                this.ee.emitEvent('videoElementCreated', [{\n                    element: this.stream.getVideoElement()\n                }]);\n            } else {\n                this.stream.addEventListener('video-element-created-by-stream', (element) => {\n                    this.id = element.id;\n                    this.ee.emitEvent('videoElementCreated', [{\n                        element: element.element\n                    }]);\n                });\n            }\n        }\n        if (eventName == 'videoPlaying') {\n            var video = this.stream.getVideoElement();\n            if (!this.stream.displayMyRemote() && video &&\n                video.currentTime > 0 &&\n                video.paused == false &&\n                video.ended == false &&\n                video.readyState == 4) {\n                this.ee.emitEvent('videoPlaying', [{\n                    element: this.stream.getVideoElement()\n                }]);\n            } else {\n                this.stream.addEventListener('video-is-playing', (element) => {\n                    this.ee.emitEvent('videoPlaying', [{\n                        element: element.element\n                    }]);\n                });\n            }\n        }\n        if (eventName == 'remoteVideoPlaying') {\n            var video = this.stream.getVideoElement();\n            if (this.stream.displayMyRemote() && video &&\n                video.currentTime > 0 &&\n                video.paused == false &&\n                video.ended == false &&\n                video.readyState == 4) {\n                this.ee.emitEvent('remoteVideoPlaying', [{\n                    element: this.stream.getVideoElement()\n                }]);\n            } else {\n                this.stream.addEventListener('remote-video-is-playing', (element) => {\n                    this.ee.emitEvent('remoteVideoPlaying', [{\n                        element: element.element\n                    }]);\n                });\n            }\n        }\n        if (eventName == 'accessAllowed') {\n            if (this.stream.accessIsAllowed) {\n                this.ee.emitEvent('accessAllowed');\n            } else {\n                this.stream.addEventListener('access-allowed-by-publisher', () => {\n                    this.ee.emitEvent('accessAllowed');\n                });\n            }\n        }\n        if (eventName == 'accessDenied') {\n            if (this.stream.accessIsDenied) {\n                this.ee.emitEvent('accessDenied');\n            } else {\n                this.stream.addEventListener('access-denied-by-publisher', () => {\n                    this.ee.emitEvent('accessDenied');\n                });\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Publisher.ts","import { SessionInternal, SessionOptions, SignalOptions } from '../OpenViduInternal/SessionInternal';\nimport { Stream } from '../OpenViduInternal/Stream';\nimport { Connection } from \"../OpenViduInternal/Connection\";\n\nimport { OpenVidu } from './OpenVidu';\nimport { Publisher } from './Publisher';\nimport { Subscriber } from './Subscriber';\n\nimport EventEmitter = require('wolfy87-eventemitter');\n\nexport class Session {\n\n    sessionId: String;\n    connection: Connection;\n\n    private ee = new EventEmitter();\n\n    constructor(private session: SessionInternal, private openVidu: OpenVidu) {\n        this.sessionId = session.getSessionId();\n\n        // Listens to the deactivation of the default behaviour upon the deletion of a Stream object\n        this.session.addEventListener('stream-destroyed-default', event => {\n            event.stream.removeVideo();\n        });\n\n        // Listens to the deactivation of the default behaviour upon the disconnection of a Session\n        this.session.addEventListener('session-disconnected-default', () => {\n            let s: Stream;\n            for (s of this.openVidu.openVidu.getRemoteStreams()) {\n                s.removeVideo();\n            }\n            if (this.connection) {\n                for (let streamId in this.connection.getStreams()) {\n                    this.connection.getStreams()[streamId].removeVideo();\n                }\n            }\n        });\n\n        // Sets or updates the value of 'connection' property. Triggered by SessionInternal when succesful connection\n        this.session.addEventListener('update-connection-object', event => {\n            this.connection = event.connection;\n        });\n    }\n\n    connect(token: string, callback: any);\n    connect(token: string, metadata: any, callback: any);\n\n    connect(param1, param2, param3?) {\n        // Early configuration to deactivate automatic subscription to streams\n        if (param3) {\n            this.session.configure({\n                sessionId: this.session.getSessionId(),\n                participantId: param1,\n                metadata: this.session.stringClientMetadata(param2),\n                subscribeToStreams: false\n            });\n            this.session.connect(param1, param3);\n        } else {\n            this.session.configure({\n                sessionId: this.session.getSessionId(),\n                participantId: param1,\n                metadata: '',\n                subscribeToStreams: false\n            });\n            this.session.connect(param1, param2);\n        }\n    }\n\n    disconnect() {\n        this.openVidu.openVidu.close(false);\n        this.session.emitEvent('sessionDisconnected', [{\n            preventDefault: () => { this.session.removeEvent('session-disconnected-default'); }\n        }]);\n        this.session.emitEvent('session-disconnected-default', [{}]);\n    }\n\n    publish(publisher: Publisher) {\n        if (!publisher.stream.isPublisherPublished) { // 'Session.unpublish(Publisher)' has NOT been called\n            if (publisher.isScreenRequested) { // Screen sharing Publisher\n                if (!publisher.stream.isScreenRequestedReady) { // Screen video stream is not available yet\n                    publisher.stream.addOnceEventListener('screen-ready', () => {\n                        this.streamPublish(publisher);\n                    });\n                } else { // // Screen video stream is already available\n                    this.streamPublish(publisher);\n                }\n            } else { // Audio-Video Publisher\n                this.streamPublish(publisher);\n            }\n        } else { // 'Session.unpublish(Publisher)' has been called\n            publisher = this.openVidu.reinitPublisher(publisher);\n\n            if (publisher.isScreenRequested && !publisher.stream.isScreenRequestedReady) { // Screen sharing Publisher and video stream not available yet\n                publisher.stream.addOnceEventListener('screen-ready', () => {\n                    this.streamPublish(publisher);\n                });\n            } else { // Video stream already available\n                this.streamPublish(publisher);\n            }\n        }\n    }\n\n    private streamPublish(publisher: Publisher) {\n        publisher.session = this;\n        this.connection.addStream(publisher.stream);\n        publisher.stream.publish();\n    }\n\n    unpublish(publisher: Publisher) {\n        this.session.unpublish(publisher);\n    }\n\n    on(eventName: string, callback) {\n        this.session.addEventListener(eventName, event => {\n            if (event) {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Session'\", event);\n            } else {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Session'\");\n            }\n            callback(event);\n        });\n    }\n\n    once(eventName: string, callback) {\n        this.session.addOnceEventListener(eventName, event => {\n            callback(event);\n        });\n    }\n\n    off(eventName: string, eventHandler) {\n        this.session.removeListener(eventName, eventHandler);\n    }\n\n    subscribe(stream: Stream, htmlId: string, videoOptions: any): Subscriber;\n    subscribe(stream: Stream, htmlId: string): Subscriber;\n\n    subscribe(param1, param2, param3?): Subscriber {\n        // Subscription\n        this.session.subscribe(param1);\n        let subscriber = new Subscriber(param1, param2);\n        param1.playOnlyVideo(param2, null);\n        return subscriber;\n    }\n\n    unsubscribe(subscriber: Subscriber) {\n        this.session.unsubscribe(subscriber.stream);\n        subscriber.stream.removeVideo();\n    }\n\n    signal(signal: SignalOptions, completionHandler?: Function) {\n        var signalMessage = {};\n\n        if (signal.to && signal.to.length > 0) {\n            let connectionIds: string[] = [];\n            for (let i = 0; i < signal.to.length; i++) {\n                connectionIds.push(signal.to[i].connectionId);\n            }\n            signalMessage['to'] = connectionIds;\n        } else {\n            signalMessage['to'] = [];\n        }\n\n        signalMessage['data'] = signal.data ? signal.data : '';\n        signalMessage['type'] = signal.type ? signal.type : '';\n\n        this.openVidu.openVidu.sendMessage(JSON.stringify(signalMessage));\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Session.ts","import { Stream } from '../OpenViduInternal/Stream';\n\nimport EventEmitter = require('wolfy87-eventemitter');\n\nexport class Subscriber {\n\n    private ee = new EventEmitter();\n\n    element: Element;\n    id: string;\n    stream: Stream;\n\n    constructor(stream: Stream, parentId: string) {\n        this.stream = stream;\n        if (document.getElementById(parentId) != null) {\n            this.element = document.getElementById(parentId)!!;\n        }\n\n        // Listens to deletion of the HTML video element of the Subscriber\n        this.stream.addEventListener('video-removed', () => {\n            this.ee.emitEvent('videoElementDestroyed');\n        });\n    }\n\n    on(eventName: string, callback) {\n        this.ee.addListener(eventName, event => {\n            if (event) {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Subscriber'\", event);\n            } else {\n                console.info(\"Event '\" + eventName + \"' triggered by 'Subscriber'\");\n            }\n            callback(event);\n        });\n        if (eventName == 'videoElementCreated') {\n            if (this.stream.isVideoELementCreated) {\n                this.ee.emitEvent('videoElementCreated', [{\n                    element: this.stream.getVideoElement()\n                }]);\n            } else {\n                this.stream.addOnceEventListener('video-element-created-by-stream', element => {\n                    this.id = element.id;\n                    this.ee.emitEvent('videoElementCreated', [{\n                        element: element\n                    }]);\n                });\n            }\n        }\n        if (eventName == 'videoPlaying') {\n            var video = this.stream.getVideoElement();\n            if (!this.stream.displayMyRemote() && video &&\n                video.currentTime > 0 && \n                video.paused == false && \n                video.ended == false &&\n                video.readyState == 4) {\n                    this.ee.emitEvent('videoPlaying', [{\n                        element: this.stream.getVideoElement()\n                    }]);\n            } else {\n                this.stream.addOnceEventListener('video-is-playing', (element) => {\n                    this.ee.emitEvent('videoPlaying', [{\n                        element: element.element\n                    }]);\n                });\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/Subscriber.ts","export * from './OpenVidu';\nexport * from './Session';\nexport * from './Publisher';\nexport * from './Subscriber';\nexport * from '../OpenViduInternal/Stream';\nexport * from '../OpenViduInternal/Connection';\nexport * from '../OpenViduInternal/LocalRecorder';\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenVidu/index.ts","import { Stream, StreamOptionsServer, InboundStreamOptions } from './Stream';\nimport { OpenViduInternal } from './OpenViduInternal';\nimport { SessionInternal } from './SessionInternal';\n\ntype ObjMap<T> = { [s: string]: T; }\n\nexport interface ConnectionOptions {\n    id: string;\n    metadata: string;\n    streams: StreamOptionsServer[];\n}\n\nexport class Connection {\n\n    public connectionId: string;\n    public data: string;\n    public creationTime: number;\n    private streams: ObjMap<Stream> = {};\n    private inboundStreamsOpts: InboundStreamOptions;\n\n    constructor( private openVidu: OpenViduInternal, private local: boolean, private room: SessionInternal, private options?: ConnectionOptions ) {\n\n        console.info( \"'Connection' created (\" + ( local ? \"local\" : \"remote\" ) + \")\" + ( local ? \"\" : \", with 'connectionId' [\" + (options ? options.id : '') + \"] \" ));\n\n        if ( options && !local ) {\n\n            this.connectionId = options.id;\n            if (options.metadata) {\n                this.data = options.metadata;\n            }\n            if (options.streams) {\n                this.initRemoteStreams(options);\n            }\n        }\n        \n    }\n\n    addStream( stream: Stream ) {\n        stream.connection = this;\n        this.streams[stream.streamId] = stream;\n        this.room.getStreams()[stream.streamId] = stream;\n    }\n\n    removeStream( key: string ) {\n        delete this.streams[key];\n        delete this.room.getStreams()[key];\n        delete this.inboundStreamsOpts;\n    }\n\n    setOptions(options: ConnectionOptions) {\n        this.options = options;\n    }\n\n    getStreams() {\n        return this.streams;\n    }\n\n    dispose() {\n        for ( let key in this.streams ) {\n            this.streams[key].dispose();\n        }\n    }\n\n    sendIceCandidate( candidate ) {\n\n        console.debug(( this.local ? \"Local\" : \"Remote\" ), \"candidate for\",\n            this.connectionId, JSON.stringify( candidate ) );\n\n        this.openVidu.sendRequest( \"onIceCandidate\", {\n            endpointName: this.connectionId,\n            candidate: candidate.candidate,\n            sdpMid: candidate.sdpMid,\n            sdpMLineIndex: candidate.sdpMLineIndex\n        }, function( error, response ) {\n            if ( error ) {\n                console.error( \"Error sending ICE candidate: \"\n                    + JSON.stringify( error ) );\n            }\n        });\n    }\n\n    initRemoteStreams(options: ConnectionOptions) {\n        let opts: StreamOptionsServer;\n        for ( opts of options.streams ) {\n            \n            let streamOptions: InboundStreamOptions = {\n                id: opts.id,\n                connection: this,\n                recvAudio: ( opts.audioActive == null ? true : opts.audioActive ),\n                recvVideo: ( opts.videoActive == null ? true : opts.videoActive ),\n                typeOfVideo: opts.typeOfVideo,\n            }\n            let stream = new Stream(this.openVidu, false, this.room, streamOptions);\n\n            this.addStream(stream);\n            this.inboundStreamsOpts = streamOptions;\n        }\n\n        console.info(\"Remote 'Connection' with 'connectionId' [\" + this.connectionId + \"] is now configured for receiving Streams with options: \", this.inboundStreamsOpts );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/Connection.ts","import { Stream } from \"./Stream\";\n\ndeclare var MediaRecorder: any;\n\nexport const enum LocalRecoderState {\n    READY = 'READY',\n    RECORDING = 'RECORDING',\n    PAUSED = 'PAUSED',\n    FINISHED = 'FINISHED'\n}\n\nexport class LocalRecorder {\n\n    state: LocalRecoderState;\n\n    private stream: Stream;\n    private connectionId: string;\n\n    private mediaRecorder: any;\n    private chunks: any[] = [];\n    private blob: Blob;\n    private count: number = 0;\n    private id: string;\n\n    private videoPreviewSrc: string;\n    private htmlParentElementId: string;\n    private videoPreview: HTMLVideoElement;\n\n    constructor(stream: Stream) {\n        this.stream = stream;\n        this.connectionId = (!!this.stream.connection) ? this.stream.connection.connectionId : 'default-connection';\n        this.id = this.stream.streamId + '_' + this.connectionId + '_localrecord';\n        this.state = LocalRecoderState.READY;\n    }\n\n    record() {\n        if (typeof MediaRecorder === 'undefined') {\n            console.error('MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder');\n            throw (Error('MediaRecorder not supported on your browser. See compatibility in https://caniuse.com/#search=MediaRecorder'));\n        }\n        if (this.state !== LocalRecoderState.READY) {\n            throw (Error('\\'LocalRecord.record()\\' needs \\'LocalRecord.state\\' to be \\'READY\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.clean()\\' or init a new LocalRecorder before'));\n        }\n        console.log(\"Starting local recording of stream '\" + this.stream.streamId + \"' of connection '\" + this.connectionId + \"'\");\n        if (typeof MediaRecorder.isTypeSupported == 'function') {\n            let options;\n            if (MediaRecorder.isTypeSupported('video/webm;codecs=vp9')) {\n                options = { mimeType: 'video/webm;codecs=vp9' };\n            } else if (MediaRecorder.isTypeSupported('video/webm;codecs=h264')) {\n                options = { mimeType: 'video/webm;codecs=h264' };\n            } else if (MediaRecorder.isTypeSupported('video/webm;codecs=vp8')) {\n                options = { mimeType: 'video/webm;codecs=vp8' };\n            }\n            console.log('Using mimeType ' + options.mimeType);\n            this.mediaRecorder = new MediaRecorder(this.stream.getMediaStream(), options);\n        } else {\n            console.warn('isTypeSupported is not supported, using default codecs for browser');\n            this.mediaRecorder = new MediaRecorder(this.stream.getMediaStream());\n        }\n\n        this.mediaRecorder.start(10);\n\n        this.mediaRecorder.ondataavailable = (e) => {\n            this.chunks.push(e.data);\n        };\n\n        this.mediaRecorder.onerror = (e) => {\n            console.error('MediaRecorder error: ', e);\n        };\n\n\n        this.mediaRecorder.onstart = () => {\n            console.log('MediaRecorder started (state=' + this.mediaRecorder.state + \")\");\n        };\n\n        this.mediaRecorder.onstop = () => {\n            this.onStopDefault();\n        };\n\n        this.mediaRecorder.onpause = () => {\n            console.log('MediaRecorder paused (state=' + this.mediaRecorder.state + \")\");\n        }\n\n        this.mediaRecorder.onresume = () => {\n            console.log('MediaRecorder resumed (state=' + this.mediaRecorder.state + \")\");\n        }\n\n        this.mediaRecorder.onwarning = (e) => {\n            console.log('MediaRecorder warning: ' + e);\n        };\n\n        this.state = LocalRecoderState.RECORDING;\n    }\n\n    stop(): Promise<any> {\n        return new Promise((resolve, reject) => {\n            try {\n                if (this.state === LocalRecoderState.READY || this.state === LocalRecoderState.FINISHED) {\n                    throw (Error('\\'LocalRecord.stop()\\' needs \\'LocalRecord.state\\' to be \\'RECORDING\\' or \\'PAUSED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.start()\\' before'));\n                }\n                this.mediaRecorder.onstop = () => {\n                    this.onStopDefault();\n                    resolve();\n                }\n            } catch (e) {\n                reject(e);\n            }\n            try {\n                this.mediaRecorder.stop();\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    pause() {\n        if (this.state !== LocalRecoderState.RECORDING) {\n            throw (Error('\\'LocalRecord.pause()\\' needs \\'LocalRecord.state\\' to be \\'RECORDING\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.start()\\' or \\'LocalRecorder.resume()\\' before'));\n        }\n        this.mediaRecorder.pause();\n        this.state = LocalRecoderState.PAUSED;\n    }\n\n    resume() {\n        if (this.state !== LocalRecoderState.PAUSED) {\n            throw (Error('\\'LocalRecord.resume()\\' needs \\'LocalRecord.state\\' to be \\'PAUSED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.pause()\\' before'));\n        }\n        this.mediaRecorder.resume();\n        this.state = LocalRecoderState.RECORDING;\n    }\n\n    preview(parentElement): HTMLVideoElement {\n\n        if (this.state !== LocalRecoderState.FINISHED) {\n            throw (Error('\\'LocalRecord.preview()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n        }\n\n        this.videoPreview = document.createElement('video');\n\n        this.videoPreview.id = this.id;\n        this.videoPreview.autoplay = true;\n\n        if (typeof parentElement === \"string\") {\n            this.htmlParentElementId = parentElement;\n\n            let parentElementDom = document.getElementById(parentElement);\n            if (parentElementDom) {\n                this.videoPreview = parentElementDom.appendChild(this.videoPreview);\n            }\n        } else {\n            this.htmlParentElementId = parentElement.id;\n            this.videoPreview = parentElement.appendChild(this.videoPreview);\n        }\n\n        this.videoPreview.src = this.videoPreviewSrc;\n\n        return this.videoPreview;\n    }\n\n    clean() {\n        let f = () => {\n            delete this.blob;\n            this.chunks = [];\n            this.count = 0;\n            delete this.mediaRecorder;\n            this.state = LocalRecoderState.READY;\n        }\n        if (this.state === LocalRecoderState.RECORDING || this.state === LocalRecoderState.PAUSED) {\n            this.stop().then(() => f()).catch(() => f());\n        } else {\n            f();\n        }\n    }\n\n    download() {\n        if (this.state !== LocalRecoderState.FINISHED) {\n            throw (Error('\\'LocalRecord.download()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n        } else {\n            let a: HTMLAnchorElement = document.createElement(\"a\");\n            a.style.display = 'none';\n            document.body.appendChild(a);\n\n            let url = window.URL.createObjectURL(this.blob);\n            a.href = url;\n            a.download = this.id + '.webm';\n            a.click();\n            window.URL.revokeObjectURL(url);\n\n            document.body.removeChild(a);\n        }\n    }\n\n    getBlob(): Blob {\n        if (this.state !== LocalRecoderState.FINISHED) {\n            throw (Error('Call \\'LocalRecord.stop()\\' before getting Blob file'));\n        } else {\n            return this.blob;\n        }\n    }\n\n    uploadAsBinary(endpoint: string): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (this.state !== LocalRecoderState.FINISHED) {\n                reject(Error('\\'LocalRecord.uploadAsBinary()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n            } else {\n                let http = new XMLHttpRequest();\n                http.open(\"POST\", endpoint, true);\n                http.onreadystatechange = () => {\n                    if (http.readyState === 4) {\n                        if (http.status.toString().charAt(0) === '2') {\n                            // Success response from server (HTTP status standard: 2XX is success)\n                            resolve(http.responseText);\n                        } else {\n                            reject(Error(\"Upload error: \" + http.status));\n                        }\n                    }\n                }\n                http.send(this.blob);\n            }\n        });\n    }\n\n    uploadAsMultipartfile(endpoint: string): Promise<any> {\n        return new Promise((resolve, reject) => {\n            if (this.state !== LocalRecoderState.FINISHED) {\n                reject(Error('\\'LocalRecord.uploadAsMultipartfile()\\' needs \\'LocalRecord.state\\' to be \\'FINISHED\\' (current value: \\'' + this.state + '\\'). Call \\'LocalRecorder.stop()\\' before'));\n            } else {\n                let http = new XMLHttpRequest();\n                http.open(\"POST\", endpoint, true);\n\n                let sendable = new FormData();\n                sendable.append(\"file\", this.blob, this.id + \".webm\");\n\n                http.onreadystatechange = () => {\n                    if (http.readyState === 4) {\n                        if (http.status.toString().charAt(0) === '2') {\n                            // Success response from server (HTTP status standard: 2XX is success)\n                            resolve(http.responseText);\n                        } else {\n                            reject(Error(\"Upload error: \" + http.status));\n                        }\n                    }\n                }\n\n                http.send(sendable);\n            }\n        });\n    }\n\n    private onStopDefault() {\n        console.log('MediaRecorder stopped  (state=' + this.mediaRecorder.state + \")\");\n\n        this.blob = new Blob(this.chunks, { type: \"video/webm\" });\n        this.chunks = [];\n\n        this.videoPreviewSrc = window.URL.createObjectURL(this.blob);\n\n        this.state = LocalRecoderState.FINISHED;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/LocalRecorder.ts","export const enum OpenViduErrorName {\n    CAMERA_ACCESS_DENIED = 'CAMERA_ACCESS_DENIED',\n    MICROPHONE_ACCESS_DENIED = 'MICROPHONE_ACCESS_DENIED',\n    SCREEN_CAPTURE_DENIED = 'SCREEN_CAPTURE_DENIED',\n    NO_VIDEO_DEVICE = 'NO_VIDEO_DEVICE',\n    NO_INPUT_DEVICE = 'NO_INPUT_DEVICE',\n    SCREEN_EXTENSION_NOT_INSTALLED = 'SCREEN_EXTENSION_NOT_INSTALLED',\n    GENERIC_ERROR = 'GENERIC_ERROR'\n}\n\nexport class OpenViduError {\n\n    name: OpenViduErrorName;\n    message: string;\n\n    constructor(name: OpenViduErrorName, message: string) {\n        this.name = name;\n        this.message = message;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/OpenViduError.ts","/*\n * (C) Copyright 2017 OpenVidu (http://openvidu.io/)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { SessionInternal, SessionOptions } from './SessionInternal';\nimport { Connection } from './Connection';\nimport { OpenViduError, OpenViduErrorName } from './OpenViduError';\nimport { Stream, OutboundStreamOptions } from './Stream';\nimport * as RpcBuilder from '../KurentoUtils/kurento-jsonrpc';\n\nexport type Callback<T> = (error?: any, openVidu?: T) => void;\n\nexport class OpenViduInternal {\n\n    private wsUri;\n    private session: SessionInternal;\n    private jsonRpcClient: any;\n    private rpcParams: any;\n    private callback: Callback<OpenViduInternal>;\n    private localStream: Stream;\n    private remoteStreams: Stream[] = [];\n    private secret: string;\n    private recorder: boolean = false;\n\n    /* NEW METHODS */\n    initSession(sessionId) {\n        console.info(\"'Session' initialized with 'sessionId' [\" + sessionId + \"]\");\n        this.session = new SessionInternal(this, sessionId);\n        return this.session;\n    }\n\n    initPublisherTagged(parentId: string, cameraOptions: OutboundStreamOptions, newStream: boolean, callback?: Function): Stream {\n\n        if (newStream) {\n            if (cameraOptions == null) {\n                cameraOptions = {\n                    sendAudio: true,\n                    sendVideo: true,\n                    activeAudio: true,\n                    activeVideo: true,\n                    dataChannel: true,\n                    mediaConstraints: {\n                        audio: true,\n                        video: { width: { ideal: 1280 } }\n                    }\n                }\n            }\n            this.localStream = new Stream(this, true, this.session, cameraOptions);\n        }\n\n        this.localStream.requestCameraAccess((error, localStream) => {\n            if (error) {\n                // Neither localStream or microphone device is allowed/able to capture media\n                console.error(error);\n                if (callback) {\n                    callback(error);\n                }\n                this.localStream.ee.emitEvent('access-denied-by-publisher');\n            } else {\n                this.localStream.setVideoElement(this.cameraReady(localStream!, parentId));\n                if (callback) {\n                    callback(undefined);\n                }\n            }\n        });\n        return this.localStream;\n    }\n\n    initPublisherScreen(parentId: string, newStream: boolean, callback?): Stream {\n\n        if (newStream) {\n            this.localStream = new Stream(this, true, this.session, 'screen-options');\n        }\n\n        this.localStream.addOnceEventListener('can-request-screen', () => {\n            this.localStream.requestCameraAccess((error, localStream) => {\n                if (error) {\n                    this.localStream.ee.emitEvent('access-denied-by-publisher');\n                    let errorName: OpenViduErrorName = OpenViduErrorName.SCREEN_CAPTURE_DENIED;\n                    let errorMessage = 'You must allow access to one window of your desktop';\n                    let e = new OpenViduError(errorName, errorMessage);\n                    console.error(e);\n                    if (callback) {\n                        callback(e);\n                    }\n                }\n                else {\n                    this.localStream.setVideoElement(this.cameraReady(localStream!, parentId));\n                    if (this.localStream.getSendAudio()) {\n                        // If the user wants to send audio with the screen capturing\n                        navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                            .then(userStream => {\n                                this.localStream.getMediaStream().addTrack(userStream.getAudioTracks()[0]);\n\n                                // Mute audio if 'activeAudio' property is false\n                                if (userStream.getAudioTracks()[0] != null) {\n                                    userStream.getAudioTracks()[0].enabled = this.localStream.outboundOptions.activeAudio;\n                                }\n\n                                this.localStream.isScreenRequestedReady = true;\n                                this.localStream.ee.emitEvent('screen-ready');\n                                if (callback) {\n                                    callback(undefined);\n                                }\n                            })\n                            .catch(error => {\n                                this.localStream.ee.emitEvent('access-denied-by-publisher');\n                                console.error(\"Error accessing the microphone\", error);\n                                if (callback) {\n                                    let errorName: OpenViduErrorName = OpenViduErrorName.MICROPHONE_ACCESS_DENIED;\n                                    let errorMessage = error.toString();\n                                    callback(new OpenViduError(errorName, errorMessage));\n                                }\n                            });\n                    } else {\n                        this.localStream.isScreenRequestedReady = true;\n                        this.localStream.ee.emitEvent('screen-ready');\n                        if (callback) {\n                            callback(undefined);\n                        }\n                    }\n                }\n            });\n        });\n        return this.localStream;\n    }\n\n    cameraReady(localStream: Stream, parentId: string): HTMLVideoElement {\n        this.localStream = localStream;\n        let videoElement = this.localStream.playOnlyVideo(parentId, null);\n        this.localStream.emitStreamReadyEvent();\n        return videoElement;\n    }\n\n    getLocalStream() {\n        return this.localStream;\n    }\n\n    getRemoteStreams() {\n        return this.remoteStreams;\n    }\n    /* NEW METHODS */\n\n    getWsUri() {\n        return this.wsUri;\n    }\n\n    setWsUri(wsUri: string) {\n        this.wsUri = wsUri;\n    }\n\n    getSecret() {\n        return this.secret;\n    }\n\n    setSecret(secret: string) {\n        this.secret = secret;\n    }\n\n    getRecorder() {\n        return this.recorder;\n    }\n\n    setRecorder(recorder: boolean) {\n        this.recorder = recorder;\n    }\n\n    getOpenViduServerURL() {\n        return 'https://' + this.wsUri.split(\"wss://\")[1].split(\"/room\")[0];\n    }\n\n    getRoom() {\n        return this.session;\n    }\n\n    connect(callback: Callback<OpenViduInternal>): void {\n\n        this.callback = callback;\n\n        this.initJsonRpcClient(this.wsUri);\n    }\n\n    private initJsonRpcClient(wsUri: string): void {\n\n        let config = {\n            heartbeat: 3000,\n            sendCloseMessage: false,\n            ws: {\n                uri: wsUri,\n                useSockJS: false,\n                onconnected: this.connectCallback.bind(this),\n                ondisconnect: this.disconnectCallback.bind(this),\n                onreconnecting: this.reconnectingCallback.bind(this),\n                onreconnected: this.reconnectedCallback.bind(this)\n            },\n            rpc: {\n                requestTimeout: 15000,\n                //notifications\n                participantJoined: this.onParticipantJoined.bind(this),\n                participantPublished: this.onParticipantPublished.bind(this),\n                participantUnpublished: this.onParticipantUnpublished.bind(this),\n                participantLeft: this.onParticipantLeft.bind(this),\n                participantEvicted: this.onParticipantEvicted.bind(this),\n                sendMessage: this.onNewMessage.bind(this),\n                iceCandidate: this.iceCandidateEvent.bind(this),\n                mediaError: this.onMediaError.bind(this),\n            }\n        };\n\n        this.jsonRpcClient = new RpcBuilder.clients.JsonRpcClient(config);\n    }\n\n    private connectCallback(error) {\n        if (error) {\n            this.callback(error);\n        } else {\n            this.callback(null);\n        }\n    }\n\n    private isRoomAvailable() {\n        if (this.session !== undefined && this.session instanceof SessionInternal) {\n            return true;\n        } else {\n            console.warn('Session instance not found');\n            return false;\n        }\n    }\n\n    private disconnectCallback() {\n        console.warn('Websocket connection lost');\n        if (this.isRoomAvailable()) {\n            this.session.onLostConnection();\n        } else {\n            alert('Connection error. Please reload page.');\n        }\n    }\n\n    private reconnectingCallback() {\n        console.warn('Websocket connection lost (reconnecting)');\n        if (this.isRoomAvailable()) {\n            this.session.onLostConnection();\n        } else {\n            alert('Connection error. Please reload page.');\n        }\n    }\n\n    private reconnectedCallback() {\n        console.warn('Websocket reconnected');\n    }\n\n    private onParticipantJoined(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onParticipantJoined(params);\n        }\n    }\n\n    private onParticipantPublished(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onParticipantPublished(params);\n        }\n    }\n\n    private onParticipantUnpublished(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onParticipantUnpublished(params);\n        }\n    }\n\n    private onParticipantLeft(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onParticipantLeft(params);\n        }\n    }\n\n    private onParticipantEvicted(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onParticipantEvicted(params);\n        }\n    }\n\n    private onNewMessage(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onNewMessage(params);\n        }\n    }\n\n    private iceCandidateEvent(params) {\n        if (this.isRoomAvailable()) {\n            this.session.recvIceCandidate(params);\n        }\n    }\n\n    private onRoomClosed(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onRoomClosed(params);\n        }\n    }\n\n    private onMediaError(params) {\n        if (this.isRoomAvailable()) {\n            this.session.onMediaError(params);\n        }\n    }\n\n\n    setRpcParams(params: any) {\n        this.rpcParams = params;\n    }\n\n    sendRequest(method, params, callback?) {\n\n        if (params && params instanceof Function) {\n            callback = params;\n            params = undefined;\n        }\n\n        params = params || {};\n\n        if (this.rpcParams && this.rpcParams !== null && this.rpcParams !== undefined) {\n            for (let index in this.rpcParams) {\n                if (this.rpcParams.hasOwnProperty(index)) {\n                    params[index] = this.rpcParams[index];\n                    console.debug('RPC param added to request {' + index + ': ' + this.rpcParams[index] + '}');\n                }\n            }\n        }\n\n        console.debug('Sending request: {method:\"' + method + '\", params: ' + JSON.stringify(params) + '}');\n\n        this.jsonRpcClient.send(method, params, callback);\n    }\n\n    close(forced) {\n        if (this.isRoomAvailable()) {\n            this.session.leave(forced, this.jsonRpcClient);\n        }\n    };\n\n    disconnectParticipant(stream) {\n        if (this.isRoomAvailable()) {\n            this.session.disconnect(stream);\n        }\n    }\n\n    //CHAT\n    sendMessage(message) {\n        this.sendRequest('sendMessage', {\n            message: message\n        }, function (error, response) {\n            if (error) {\n                console.error(error);\n            }\n        });\n    };\n\n    generateMediaConstraints(cameraOptions: any) {\n        let mediaConstraints = {\n            audio: cameraOptions.audio,\n            video: {}\n        }\n        if (!cameraOptions.video) {\n            mediaConstraints.video = false\n        } else {\n            let w, h;\n            switch (cameraOptions.quality) {\n                case 'LOW':\n                    w = 320;\n                    h = 240;\n                    break;\n                case 'MEDIUM':\n                    w = 640;\n                    h = 480;\n                    break;\n                case 'HIGH':\n                    w = 1280;\n                    h = 720;\n                    break;\n                default:\n                    w = 640;\n                    h = 480;\n            }\n            mediaConstraints.video['width'] = { exact: w };\n            mediaConstraints.video['height'] = { exact: h };\n            //mediaConstraints.video['frameRate'] = { ideal: Number((<HTMLInputElement>document.getElementById('frameRate')).value) };\n        }\n        return mediaConstraints;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/OpenViduInternal.ts","import { Stream, StreamOptionsServer } from './Stream';\nimport { OpenViduInternal } from './OpenViduInternal';\nimport { Connection, ConnectionOptions } from './Connection';\nimport { Publisher } from '../OpenVidu/Publisher';\n\nimport EventEmitter = require('wolfy87-eventemitter');\n\nconst SECRET_PARAM = '?secret=';\nconst RECORDER_PARAM = '&recorder=';\n\nexport interface SessionOptions {\n    sessionId: string;\n    participantId: string;\n    metadata: string;\n    subscribeToStreams?: boolean;\n    updateSpeakerInterval?: number;\n    thresholdSpeaker?: number;\n}\n\nexport interface SignalOptions {\n    type?: string;\n    to?: Connection[];\n    data?: string;\n}\n\nexport class SessionInternal {\n\n    private id: string;\n    private sessionId: string;\n    private ee = new EventEmitter();\n    private streams = {};\n    private participants = {};\n    private publishersSpeaking: Connection[] = [];\n    private connected = false;\n    public localParticipant: Connection;\n    private subscribeToStreams: boolean;\n    private updateSpeakerInterval: number;\n    public thresholdSpeaker: number;\n    private options: SessionOptions;\n\n    constructor(private openVidu: OpenViduInternal, sessionId: string) {\n        this.sessionId = this.getUrlWithoutSecret(sessionId);\n        this.localParticipant = new Connection(this.openVidu, true, this);\n        if (!this.openVidu.getWsUri() && !!sessionId) {\n            this.processOpenViduUrl(sessionId);\n        }\n    }\n\n    private processOpenViduUrl(url: string) {\n        let secret = this.getSecretFromUrl(url);\n        let recorder = this.getRecorderFromUrl(url);\n        if (!(secret == null)) {\n            this.openVidu.setSecret(secret);\n        }\n        if (!(recorder == null)) {\n            this.openVidu.setRecorder(recorder);\n        }\n        this.openVidu.setWsUri(this.getFinalUrl(url));\n    }\n\n    private getSecretFromUrl(url: string): string {\n        let secret = '';\n        if (url.indexOf(SECRET_PARAM) !== -1) {\n            let endOfSecret = url.lastIndexOf(RECORDER_PARAM);\n            if (endOfSecret !== -1) {\n                secret = url.substring(url.lastIndexOf(SECRET_PARAM) + SECRET_PARAM.length, endOfSecret);\n            } else {\n                secret = url.substring(url.lastIndexOf(SECRET_PARAM) + SECRET_PARAM.length, url.length);\n            }\n        }\n        return secret;\n    }\n\n    private getRecorderFromUrl(url: string): boolean {\n        let recorder = '';\n        if (url.indexOf(RECORDER_PARAM) !== -1) {\n            recorder = url.substring(url.lastIndexOf(RECORDER_PARAM) + RECORDER_PARAM.length, url.length);\n        }\n        return new Boolean(recorder).valueOf();;\n    }\n\n    private getUrlWithoutSecret(url: string): string {\n        if (!url) {\n            console.error('sessionId is not defined');\n        }\n        if (url.indexOf(SECRET_PARAM) !== -1) {\n            url = url.substring(0, url.lastIndexOf(SECRET_PARAM));\n        }\n        return url;\n    }\n\n    private getFinalUrl(url: string): string {\n        url = this.getUrlWithoutSecret(url).substring(0, url.lastIndexOf('/')) + '/room';\n        if (url.indexOf(\".ngrok.io\") !== -1) {\n            // OpenVidu server URL referes to a ngrok IP: secure wss protocol and delete port of URL\n            url = url.replace(\"ws://\", \"wss://\");\n            let regex = /\\.ngrok\\.io:\\d+/;\n            url = url.replace(regex, \".ngrok.io\");\n        } else if ((url.indexOf(\"localhost\") !== -1) || (url.indexOf(\"127.0.0.1\") != -1)) {\n            // OpenVidu server URL referes to localhost IP\n\n        }\n        return url;\n    }\n\n\n\n    /* NEW METHODS */\n    connect(token, callback) {\n\n        this.openVidu.connect((error) => {\n            if (error) {\n                callback('ERROR CONNECTING TO OPENVIDU');\n            }\n            else {\n\n                if (!token) {\n                    token = this.randomToken();\n                }\n\n                let joinParams = {\n                    token: token,\n                    session: this.sessionId,\n                    metadata: this.options.metadata,\n                    secret: this.openVidu.getSecret(),\n                    recorder: this.openVidu.getRecorder(),\n                    dataChannels: false\n                }\n\n                if (this.localParticipant) {\n                    if (Object.keys(this.localParticipant.getStreams()).some(streamId =>\n                        this.streams[streamId].isDataChannelEnabled())) {\n                        joinParams.dataChannels = true;\n                    }\n                }\n\n                this.openVidu.sendRequest('joinRoom', joinParams, (error, response) => {\n\n                    if (error) {\n                        callback(error);\n                    } else {\n\n                        this.connected = true;\n\n                        let exParticipants: ConnectionOptions[] = response.value;\n\n                        // IMPORTANT: Update connectionId with value send by server\n                        this.localParticipant.connectionId = response.id;\n                        this.participants[response.id] = this.localParticipant;\n\n                        let roomEvent = {\n                            participants: new Array<Connection>(),\n                            streams: new Array<Stream>()\n                        }\n\n                        let length = exParticipants.length;\n                        for (let i = 0; i < length; i++) {\n\n                            let connection = new Connection(this.openVidu, false, this,\n                                exParticipants[i]);\n                            connection.creationTime = new Date().getTime();\n\n                            this.participants[connection.connectionId] = connection;\n\n                            roomEvent.participants.push(connection);\n\n                            let streams = connection.getStreams();\n                            for (let key in streams) {\n                                roomEvent.streams.push(streams[key]);\n                                if (this.subscribeToStreams) {\n                                    streams[key].subscribe();\n                                }\n                            }\n                        }\n\n                        // Update local Connection object properties with values returned by server\n                        this.localParticipant.data = response.metadata;\n                        this.localParticipant.creationTime = new Date().getTime();\n\n                        // Updates the value of property 'connection' in Session object\n                        this.ee.emitEvent('update-connection-object', [{ connection: this.localParticipant }]);\n                        // Own connection created event\n                        this.ee.emitEvent('connectionCreated', [{ connection: this.localParticipant }]);\n\n                        // One connection created event for each existing connection in the session\n                        for (let part of roomEvent.participants) {\n                            this.ee.emitEvent('connectionCreated', [{ connection: part }]);\n                        }\n\n                        //if (this.subscribeToStreams) {\n                        for (let stream of roomEvent.streams) {\n                            this.ee.emitEvent('streamCreated', [{ stream }]);\n\n                            // Adding the remote stream to the OpenVidu object\n                            this.openVidu.getRemoteStreams().push(stream);\n                        }\n\n                        callback(undefined);\n                    }\n                });\n            }\n        });\n    }\n    /* NEW METHODS */\n\n\n\n\n\n    configure(options: SessionOptions) {\n        this.options = options;\n        this.id = options.sessionId;\n        this.subscribeToStreams = options.subscribeToStreams == null ? true : options.subscribeToStreams;\n        this.updateSpeakerInterval = options.updateSpeakerInterval || 1500;\n        this.thresholdSpeaker = options.thresholdSpeaker || -50;\n        this.activateUpdateMainSpeaker();\n\n        if (!this.openVidu.getWsUri()) {\n            this.processOpenViduUrl(options.sessionId);\n        }\n    }\n\n    getId() {\n        return this.id;\n    }\n\n    getSessionId() {\n        return this.sessionId;\n    }\n\n    private activateUpdateMainSpeaker() {\n\n        /*setInterval(() => {\n            if (this.publishersSpeaking.length > 0) {\n                this.ee.emitEvent('publisherStartSpeaking', [{\n                    participantId: this.publishersSpeaking[this.publishersSpeaking.length - 1]\n                }]);\n            }\n        }, this.updateSpeakerInterval);*/\n    }\n\n    getLocalParticipant() {\n        return this.localParticipant;\n    }\n\n    addEventListener(eventName, listener) {\n        this.ee.on(eventName, listener);\n    }\n\n    addOnceEventListener(eventName, listener) {\n        this.ee.once(eventName, listener);\n    }\n\n    removeListener(eventName, listener) {\n        this.ee.off(eventName, listener);\n    }\n\n    removeEvent(eventName) {\n        this.ee.removeEvent(eventName);\n    }\n\n    emitEvent(eventName, eventsArray) {\n        this.ee.emitEvent(eventName, eventsArray);\n    }\n\n\n    subscribe(stream: Stream) {\n        stream.subscribe();\n    }\n\n    unsubscribe(stream: Stream) {\n        console.info(\"Unsubscribing from \" + stream.connection.connectionId);\n        this.openVidu.sendRequest('unsubscribeFromVideo', {\n            sender: stream.connection.connectionId\n        },\n        (error, response) => {\n            if (error) {\n                console.error(\"Error unsubscribing from Subscriber\", error);\n            } else {\n                console.info(\"Unsubscribed correctly from \" + stream.connection.connectionId);\n            }\n            stream.dispose();\n        });\n    }\n\n    onParticipantPublished(response: ConnectionOptions) {\n\n        // Get the existing Connection created on 'onParticipantJoined' for\n        // existing participants or create a new one for new participants\n        let connection: Connection = this.participants[response.id];\n        if (connection != null) {\n            // Update existing Connection\n            response.metadata = connection.data;\n            connection.setOptions(response);\n            connection.initRemoteStreams(response);\n        } else {\n            // Create new Connection\n            connection = new Connection(this.openVidu, false, this, response);\n        }\n\n        let pid = connection.connectionId;\n        if (!(pid in this.participants)) {\n            console.debug(\"Remote Connection not found in connections list by its id [\" + pid + \"]\");\n        } else {\n            console.debug(\"Remote Connection found in connections list by its id [\" + pid + \"]\");\n        }\n\n\n        this.participants[pid] = connection;\n\n        this.ee.emitEvent('participant-published', [{ connection }]);\n\n        let streams = connection.getStreams();\n        for (let key in streams) {\n            let stream = streams[key];\n\n            if (this.subscribeToStreams) {\n                stream.subscribe();\n            }\n            this.ee.emitEvent('streamCreated', [{ stream }]);\n            \n            // Adding the remote stream to the OpenVidu object\n            this.openVidu.getRemoteStreams().push(stream);\n        }\n    }\n\n    onParticipantUnpublished(msg) {\n        let connection: Connection = this.participants[msg.name];\n\n        if (connection !== undefined) {\n\n            let streams = connection.getStreams();\n            for (let key in streams) {\n                this.ee.emitEvent('streamDestroyed', [{\n                    stream: streams[key],\n                    preventDefault: () => { this.ee.removeEvent('stream-destroyed-default'); }\n                }]);\n                this.ee.emitEvent('stream-destroyed-default', [{\n                    stream: streams[key]\n                }]);\n\n                // Deleting the removed stream from the OpenVidu object\n                let index = this.openVidu.getRemoteStreams().indexOf(streams[key]);\n                let stream = this.openVidu.getRemoteStreams()[index];\n\n\n                stream.dispose();\n                this.openVidu.getRemoteStreams().splice(index, 1);\n                delete this.streams[stream.streamId];\n                connection.removeStream(stream.streamId);\n\n            }\n        } else {\n            console.warn(\"Participant \" + msg.name\n                + \" unknown. Participants: \"\n                + JSON.stringify(this.participants));\n        }\n    }\n\n    onParticipantJoined(response: ConnectionOptions) {\n\n        let connection = new Connection(this.openVidu, false, this, response);\n        connection.creationTime = new Date().getTime();\n\n        let pid = connection.connectionId;\n        if (!(pid in this.participants)) {\n            this.participants[pid] = connection;\n        } else {\n            //use existing so that we don't lose streams info\n            console.warn(\"Connection already exists in connections list with \" +\n                \"the same connectionId, old:\", this.participants[pid], \", joined now:\", connection);\n            connection = this.participants[pid];\n        }\n\n        this.ee.emitEvent('participant-joined', [{\n            connection: connection\n        }]);\n\n        this.ee.emitEvent('connectionCreated', [{\n            connection: connection\n        }]);\n\n    }\n\n    onParticipantLeft(msg) {\n\n        let connection: Connection = this.participants[msg.name];\n\n        if (connection !== undefined) {\n            delete this.participants[msg.name];\n\n            this.ee.emitEvent('participant-left', [{\n                connection: connection\n            }]);\n\n            let streams = connection.getStreams();\n            for (let key in streams) {\n                this.ee.emitEvent('streamDestroyed', [{\n                    stream: streams[key],\n                    preventDefault: () => { this.ee.removeEvent('stream-destroyed-default'); }\n                }]);\n                this.ee.emitEvent('stream-destroyed-default', [{\n                    stream: streams[key]\n                }]);\n\n                // Deleting the removed stream from the OpenVidu object\n                let index = this.openVidu.getRemoteStreams().indexOf(streams[key]);\n                this.openVidu.getRemoteStreams().splice(index, 1);\n            }\n\n            connection.dispose();\n\n            this.ee.emitEvent('connectionDestroyed', [{\n                connection: connection\n            }]);\n\n        } else {\n            console.warn(\"Participant \" + msg.name\n                + \" unknown. Participants: \"\n                + JSON.stringify(this.participants));\n        }\n    };\n\n    onParticipantEvicted(msg) {\n        this.ee.emitEvent('participant-evicted', [{\n            localParticipant: this.localParticipant\n        }]);\n    };\n\n    onNewMessage(msg) {\n\n        console.info(\"New signal: \" + JSON.stringify(msg));\n\n        this.ee.emitEvent('signal', [{\n            data: msg.data,\n            from: this.participants[msg.from],\n            type: msg.type\n        }]);\n\n        this.ee.emitEvent('signal:' + msg.type, [{\n            data: msg.data,\n            from: this.participants[msg.from],\n            type: msg.type\n        }]);\n\n    }\n\n    recvIceCandidate(msg) {\n\n        let candidate = {\n            candidate: msg.candidate,\n            sdpMid: msg.sdpMid,\n            sdpMLineIndex: msg.sdpMLineIndex\n        }\n\n        let connection = this.participants[msg.endpointName];\n        if (!connection) {\n            console.error(\"Participant not found for endpoint \" +\n                msg.endpointName + \". Ice candidate will be ignored.\",\n                candidate);\n            return;\n        }\n\n        let streams = connection.getStreams();\n        for (let key in streams) {\n            let stream = streams[key];\n            stream.getWebRtcPeer().addIceCandidate(candidate, function (error) {\n                if (error) {\n                    console.error(\"Error adding candidate for \" + key\n                        + \" stream of endpoint \" + msg.endpointName\n                        + \": \" + error);\n                }\n            });\n        }\n    }\n\n    onRoomClosed(msg) {\n\n        console.info(\"Session closed: \" + JSON.stringify(msg));\n        let room = msg.room;\n        if (room !== undefined) {\n            this.ee.emitEvent('room-closed', [{\n                room: room\n            }]);\n        } else {\n            console.warn(\"Session undefined on session closed\", msg);\n        }\n    }\n\n    onLostConnection() {\n\n        if (!this.connected) {\n            console.warn('Not connected to session: if you are not debugging, this is probably a certificate error');\n            if (window.confirm('If you are not debugging, this is probably a certificate error at \\\"' + this.openVidu.getOpenViduServerURL() + '\\\"\\n\\nClick OK to navigate and accept it')) {\n                location.assign(this.openVidu.getOpenViduServerURL() + '/accept-certificate');\n            };\n            return;\n        }\n\n        console.warn('Lost connection in Session ' + this.id);\n        let room = this.id;\n        if (room !== undefined) {\n            this.ee.emitEvent('lost-connection', [{ room }]);\n        } else {\n            console.warn('Session undefined when lost connection');\n        }\n    }\n\n    onMediaError(params) {\n\n        console.error(\"Media error: \" + JSON.stringify(params));\n        let error = params.error;\n        if (error) {\n            this.ee.emitEvent('error-media', [{\n                error: error\n            }]);\n        } else {\n            console.warn(\"Received undefined media error. Params:\", params);\n        }\n    }\n\n    /*\n     * forced means the user was evicted, no need to send the 'leaveRoom' request\n     */\n    leave(forced, jsonRpcClient) {\n\n        forced = !!forced;\n\n        console.info(\"Leaving Session (forced=\" + forced + \")\");\n\n        if (this.connected && !forced) {\n            this.openVidu.sendRequest('leaveRoom', function (error, response) {\n                if (error) {\n                    console.error(error);\n                }\n                jsonRpcClient.close();\n            });\n        } else {\n            jsonRpcClient.close();\n        }\n        this.connected = false;\n        if (this.participants) {\n            for (let pid in this.participants) {\n                this.participants[pid].dispose();\n                delete this.participants[pid];\n            }\n        }\n    }\n\n    disconnect(stream: Stream) {\n\n        let connection = stream.getParticipant();\n        if (!connection) {\n            console.error(\"Stream to disconnect has no participant\", stream);\n            return;\n        }\n\n        delete this.participants[connection.connectionId];\n        connection.dispose();\n\n        if (connection === this.localParticipant) {\n\n            console.info(\"Unpublishing my media (I'm \" + connection.connectionId + \")\");\n            delete this.localParticipant;\n            this.openVidu.sendRequest('unpublishVideo', function (error, response) {\n                if (error) {\n                    console.error(error);\n                } else {\n                    console.info(\"Media unpublished correctly\");\n                }\n            });\n\n        } else {\n            this.unsubscribe(stream);\n        }\n    }\n\n    unpublish(publisher: Publisher) {\n\n        let stream = publisher.stream;\n\n        if (!stream.connection) {\n            console.error(\"The associated Connection object of this Publisher is null\", stream);\n            return;\n        } else if (stream.connection !== this.localParticipant) {\n            console.error(\"The associated Connection object of this Publisher is not your local Connection.\" +\n                            \"Only moderators can force unpublish on remote Streams via 'forceUnpublish' method\", stream);\n            return;\n        } else {\n            stream.dispose();\n\n            console.info(\"Unpublishing local media (\" + stream.connection.connectionId + \")\");\n\n            this.openVidu.sendRequest('unpublishVideo', function (error, response) {\n                if (error) {\n                    console.error(error);\n                } else {\n                    console.info(\"Media unpublished correctly\");\n                }\n            });\n\n            stream.isReadyToPublish = false;\n            stream.isScreenRequestedReady = false;\n\n            delete stream.connection.getStreams()[stream.streamId];\n\n            publisher.ee.emitEvent('streamDestroyed', [{\n                stream: publisher.stream,\n                preventDefault: () => { this.ee.removeEvent('stream-destroyed-default'); }\n            }]);\n            publisher.ee.emitEvent('stream-destroyed-default', [{\n                stream: publisher.stream\n            }]);\n        }\n    }\n\n    getStreams() {\n        return this.streams;\n    }\n\n    addParticipantSpeaking(participantId) {\n        this.publishersSpeaking.push(participantId);\n        this.ee.emitEvent('publisherStartSpeaking', [{\n            participantId: participantId\n        }]);\n    }\n\n    removeParticipantSpeaking(participantId) {\n        let pos = -1;\n        for (let i = 0; i < this.publishersSpeaking.length; i++) {\n            if (this.publishersSpeaking[i] == participantId) {\n                pos = i;\n                break;\n            }\n        }\n        if (pos != -1) {\n            this.publishersSpeaking.splice(pos, 1);\n            this.ee.emitEvent('publisherStopSpeaking', [{\n                participantId: participantId\n            }]);\n        }\n    }\n\n    stringClientMetadata(metadata): string {\n        if (!(typeof metadata === 'string')) {\n            return JSON.stringify(metadata);\n        } else {\n            return metadata;\n        }\n    }\n\n    private randomToken(): string {\n        return Math.random().toString(36).slice(2) + Math.random().toString(36).slice(2);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/SessionInternal.ts","/*\n * options: name: XXX data: true (Maybe this is based on webrtc) audio: true,\n * video: true, url: \"file:///...\" > Player screen: true > Desktop (implicit\n * video:true, audio:false) audio: true, video: true > Webcam\n *\n * stream.hasAudio(); stream.hasVideo(); stream.hasData();\n */\nimport { Connection } from './Connection';\nimport { SessionInternal } from './SessionInternal';\nimport { OpenViduInternal, Callback } from './OpenViduInternal';\nimport { OpenViduError, OpenViduErrorName } from './OpenViduError';\nimport { WebRtcStats } from './WebRtcStats';\nimport EventEmitter = require('wolfy87-eventemitter');\nimport * as kurentoUtils from '../KurentoUtils/kurento-utils-js';\n\nimport * as adapter from 'webrtc-adapter';\n\ndeclare var navigator: any;\ndeclare var RTCSessionDescription: any;\n\nif (window) {\n    window[\"adapter\"] = adapter;\n}\n\nfunction jq(id: string): string {\n    return id.replace(/(@|:|\\.|\\[|\\]|,)/g, \"\\\\$1\");\n}\n\nfunction show(id: string) {\n    document.getElementById(jq(id))!.style.display = 'block';\n}\n\nfunction hide(id: string) {\n    document.getElementById(jq(id))!.style.display = 'none';\n}\n\nexport interface StreamOptionsServer {\n    id: string;\n    audioActive: boolean;\n    videoActive: boolean;\n    typeOfVideo: string;\n}\n\nexport interface InboundStreamOptions {\n    id: string;\n    connection: Connection;\n    recvAudio: boolean;\n    recvVideo: boolean;\n    typeOfVideo: string;\n}\n\nexport interface OutboundStreamOptions {\n    activeAudio: boolean;\n    activeVideo: boolean;\n    dataChannel: boolean;\n    mediaConstraints: any;\n    sendAudio: boolean;\n    sendVideo: boolean;\n}\n\nexport class Stream {\n\n    public connection: Connection;\n    public streamId: string;\n    public hasVideo: boolean;\n    public hasAudio: boolean;\n    public typeOfVideo: string; // 'CAMERA' or 'SCREEN'\n\n    ee = new EventEmitter();\n    private mediaStream: MediaStream;\n    private wp: any;\n    private video: HTMLVideoElement;\n    private speechEvent: any;\n    private showMyRemote = false;\n    private localMirrored = false;\n    private chanId = 0;\n    private dataChannelOpened = false;\n\n    inboundOptions: InboundStreamOptions;\n    outboundOptions: OutboundStreamOptions;\n\n    private parentId: string;\n    public isReadyToPublish: boolean = false;\n    public isPublisherPublished: boolean = false;\n    public isVideoELementCreated: boolean = false;\n    public accessIsAllowed: boolean = false;\n    public accessIsDenied: boolean = false;\n    public isScreenRequestedReady: boolean = false;\n    private isScreenRequested = false;\n\n    private webRtcStats: WebRtcStats;\n\n    constructor(private openVidu: OpenViduInternal, private local: boolean, private room: SessionInternal, options: any) {\n        if (options !== 'screen-options') {\n            // Outbound stream (not screen share) or Inbound stream\n            if ('id' in options) {\n                this.inboundOptions = options;\n            } else {\n                this.outboundOptions = options;\n            }\n            this.streamId = (options.id != null) ? options.id : ((options.sendVideo) ? \"CAMERA\" : \"MICRO\");\n            this.typeOfVideo = (options.typeOfVideo != null) ? options.typeOfVideo : '';\n\n            if ('recvAudio' in options) {\n                // Set Connection for an Inbound stream (for Outbound streams will be set on Session.Publish(Publisher))\n                this.connection = options.connection;\n            }\n        } else {\n            // Outbound stream for screen share\n            this.isScreenRequested = true;\n            this.typeOfVideo = 'SCREEN';\n        }\n        this.addEventListener('mediastream-updated', () => {\n            if (this.video) this.video.srcObject = this.mediaStream;\n            console.debug(\"Video srcObject [\" + this.mediaStream + \"] added to stream [\" + this.streamId + \"]\");\n        });\n    }\n\n    emitStreamReadyEvent() {\n        this.ee.emitEvent('stream-ready');\n    }\n\n    removeVideo(parentElement: string);\n    removeVideo(parentElement: Element);\n    removeVideo();\n\n    removeVideo(parentElement?) {\n        if (this.video) {\n            if (typeof parentElement === \"string\") {\n                document.getElementById(parentElement)!.removeChild(this.video);\n                this.ee.emitEvent('video-removed');\n            } else if (parentElement instanceof Element) {\n                parentElement.removeChild(this.video);\n                this.ee.emitEvent('video-removed');\n            } else if (!parentElement) {\n                if (document.getElementById(this.parentId)) {\n                    document.getElementById(this.parentId)!.removeChild(this.video);\n                    this.ee.emitEvent('video-removed');\n                }\n            }\n            delete this.video;\n        }\n    }\n\n    getVideoElement(): HTMLVideoElement {\n        return this.video;\n    }\n\n    setVideoElement(video: HTMLVideoElement) {\n        this.video = video;\n    }\n\n    getParentId() {\n        return this.parentId;\n    }\n\n    getRecvVideo() {\n        return this.inboundOptions.recvVideo;\n    }\n\n    getRecvAudio() {\n        return this.inboundOptions.recvAudio;\n    }\n\n    getSendVideo() {\n        return this.outboundOptions.sendVideo;\n    }\n\n    getSendAudio() {\n        return this.outboundOptions.sendAudio;\n    }\n\n\n    subscribeToMyRemote() {\n        this.showMyRemote = true;\n    }\n\n    displayMyRemote() {\n        return this.showMyRemote;\n    }\n\n    mirrorLocalStream(wr) {\n        this.showMyRemote = true;\n        this.localMirrored = true;\n        if (wr) {\n            this.mediaStream = wr;\n            this.ee.emitEvent('mediastream-updated');\n        }\n    }\n\n    isLocalMirrored() {\n        return this.localMirrored;\n    }\n\n    getChannelName() {\n        return this.streamId + '_' + this.chanId++;\n    }\n\n\n    isDataChannelEnabled() {\n        return this.outboundOptions.dataChannel;\n    }\n\n\n    isDataChannelOpened() {\n        return this.dataChannelOpened;\n    }\n\n    onDataChannelOpen(event) {\n        console.debug('Data channel is opened');\n        this.dataChannelOpened = true;\n    }\n\n    onDataChannelClosed(event) {\n        console.debug('Data channel is closed');\n        this.dataChannelOpened = false;\n    }\n\n    sendData(data) {\n        if (this.wp === undefined) {\n            throw new Error('WebRTC peer has not been created yet');\n        }\n        if (!this.dataChannelOpened) {\n            throw new Error('Data channel is not opened');\n        }\n        console.info(\"Sending through data channel: \" + data);\n        this.wp.send(data);\n    }\n\n    getMediaStream() {\n        return this.mediaStream;\n    }\n\n    getWebRtcPeer() {\n        return this.wp;\n    }\n\n    getRTCPeerConnection() {\n        return this.wp.peerConnection;\n    }\n\n    addEventListener(eventName: string, listener: any) {\n        this.ee.addListener(eventName, listener);\n    }\n\n    addOnceEventListener(eventName: string, listener: any) {\n        this.ee.addOnceListener(eventName, listener);\n    }\n\n    removeListener(eventName) {\n        this.ee.removeAllListeners(eventName);\n    }\n\n    showSpinner(spinnerParentId: string) {\n        let progress = document.createElement('div');\n        progress.id = 'progress-' + this.streamId;\n        progress.style.background = \"center transparent url('img/spinner.gif') no-repeat\";\n        let spinnerParent = document.getElementById(spinnerParentId);\n        if (spinnerParent) {\n            spinnerParent.appendChild(progress);\n        }\n    }\n\n    hideSpinner(spinnerId?: string) {\n        spinnerId = (spinnerId === undefined) ? this.streamId : spinnerId;\n        hide('progress-' + spinnerId);\n    }\n\n    playOnlyVideo(parentElement, thumbnailId) {\n\n        this.video = document.createElement('video');\n\n        this.video.id = (this.local ? 'local-' : 'remote-') + 'video-' + this.streamId;\n        this.video.autoplay = true;\n        this.video.controls = false;\n        this.ee.emitEvent('mediastream-updated');\n\n        if (this.local && !this.displayMyRemote()) {\n            this.video.muted = true;\n            this.video.oncanplay = () => {\n                console.info(\"Local 'Stream' with id [\" + this.streamId + \"] video is now playing\");\n                this.ee.emitEvent('video-is-playing', [{\n                    element: this.video\n                }]);\n            };\n        } else {\n            this.video.title = this.streamId;\n        }\n\n        if (typeof parentElement === \"string\") {\n            this.parentId = parentElement;\n\n            let parentElementDom = document.getElementById(parentElement);\n            if (parentElementDom) {\n                this.video = parentElementDom.appendChild(this.video);\n                this.ee.emitEvent('video-element-created-by-stream', [{\n                    element: this.video\n                }]);\n                this.isVideoELementCreated = true;\n            }\n        } else {\n            this.parentId = parentElement.id;\n            this.video = parentElement.appendChild(this.video);\n        }\n\n        this.isReadyToPublish = true;\n\n        return this.video;\n    }\n\n    playThumbnail(thumbnailId) {\n\n        let container = document.createElement('div');\n        container.className = \"participant\";\n        container.id = this.streamId;\n        let thumbnail = document.getElementById(thumbnailId);\n        if (thumbnail) {\n            thumbnail.appendChild(container);\n        }\n\n        let name = document.createElement('div');\n        container.appendChild(name);\n        let userName = this.streamId.replace('_webcam', '');\n        if (userName.length >= 16) {\n            userName = userName.substring(0, 16) + \"...\";\n        }\n        name.appendChild(document.createTextNode(userName));\n        name.id = \"name-\" + this.streamId;\n        name.className = \"name\";\n        name.title = this.streamId;\n\n        this.showSpinner(thumbnailId);\n\n        return this.playOnlyVideo(container, thumbnailId);\n    }\n\n    getParticipant() {\n        return this.connection;\n    }\n\n    requestCameraAccess(callback: Callback<Stream>) {\n\n        let constraints = this.outboundOptions.mediaConstraints;\n\n        /*let constraints2 = {\n            audio: true,\n            video: {\n                width: {\n                    ideal: 1280\n                },\n                frameRate: {\n                    ideal: 15\n                }\n            }\n        };*/\n\n        this.userMediaHasVideo((hasVideo) => {\n            if (!hasVideo) {\n                if (this.outboundOptions.sendVideo) {\n                    callback(new OpenViduError(OpenViduErrorName.NO_VIDEO_DEVICE, 'You have requested camera access but there is no video input device available. Trying to connect with an audio input device only'), this);\n                }\n                if (!this.outboundOptions.sendAudio) {\n                    callback(new OpenViduError(OpenViduErrorName.NO_INPUT_DEVICE, 'You must init Publisher object with audio or video streams enabled'), undefined);\n                } else {\n                    constraints.video = false;\n                    this.outboundOptions.sendVideo = false;\n                    this.requestCameraAccesAux(constraints, callback);\n                }\n            } else {\n                this.requestCameraAccesAux(constraints, callback);\n            }\n        });\n    }\n\n    private requestCameraAccesAux(constraints, callback) {\n        console.log(constraints);\n        navigator.mediaDevices.getUserMedia(constraints)\n            .then(userStream => {\n                this.cameraAccessSuccess(userStream, callback);\n            })\n            .catch(error => {\n                this.accessIsDenied = true;\n                this.accessIsAllowed = false;\n                let errorName: OpenViduErrorName;\n                let errorMessage = error.toString();;\n                if (!this.isScreenRequested) {\n                    errorName = this.outboundOptions.sendVideo ? OpenViduErrorName.CAMERA_ACCESS_DENIED : OpenViduErrorName.MICROPHONE_ACCESS_DENIED;\n                } else {\n                    errorName = OpenViduErrorName.SCREEN_CAPTURE_DENIED; // This code is only reachable for Firefox\n                }\n                callback(new OpenViduError(errorName, errorMessage), undefined);\n            });\n    }\n\n    private cameraAccessSuccess(userStream: MediaStream, callback: Function) {\n        this.accessIsAllowed = true;\n        this.accessIsDenied = false;\n        this.ee.emitEvent('access-allowed-by-publisher');\n\n        if (userStream.getAudioTracks()[0] != null) {\n            userStream.getAudioTracks()[0].enabled = this.outboundOptions.activeAudio;\n        }\n        if (userStream.getVideoTracks()[0] != null) {\n            userStream.getVideoTracks()[0].enabled = this.outboundOptions.activeVideo;\n        }\n\n        this.mediaStream = userStream;\n        this.ee.emitEvent('mediastream-updated');\n\n        callback(undefined, this);\n    }\n\n    private userMediaHasVideo(callback) {\n        // If the user is going to publish its screen there's a video source\n        if (this.isScreenRequested) {\n            callback(true);\n            return;\n        } else {\n            // List all input devices and serach for a video kind\n            navigator.mediaDevices.enumerateDevices().then(function (mediaDevices) {\n                var videoInput = mediaDevices.filter(function (deviceInfo) {\n                    return deviceInfo.kind === 'videoinput';\n                })[0];\n                callback(videoInput != null);\n            });\n        }\n    }\n\n    publishVideoCallback(error, sdpOfferParam, wp) {\n\n        if (error) {\n            return console.error(\"(publish) SDP offer error: \"\n                + JSON.stringify(error));\n        }\n\n        console.debug(\"Sending SDP offer to publish as \"\n            + this.streamId, sdpOfferParam);\n\n        this.openVidu.sendRequest(\"publishVideo\", {\n            sdpOffer: sdpOfferParam,\n            doLoopback: this.displayMyRemote() || false,\n            audioActive: this.outboundOptions.sendAudio,\n            videoActive: this.outboundOptions.sendVideo,\n            typeOfVideo: ((this.outboundOptions.sendVideo) ? ((this.isScreenRequested) ? 'SCREEN' : 'CAMERA') : '')\n        }, (error, response) => {\n            if (error) {\n                console.error(\"Error on publishVideo: \" + JSON.stringify(error));\n            } else {\n                this.processSdpAnswer(response.sdpAnswer);\n                console.info(\"'Publisher' succesfully published to session\");\n            }\n        });\n    }\n\n    startVideoCallback(error, sdpOfferParam, wp) {\n        if (error) {\n            return console.error(\"(subscribe) SDP offer error: \"\n                + JSON.stringify(error));\n        }\n        console.debug(\"Sending SDP offer to subscribe to \"\n            + this.streamId, sdpOfferParam);\n        this.openVidu.sendRequest(\"receiveVideoFrom\", {\n            sender: this.streamId,\n            sdpOffer: sdpOfferParam\n        }, (error, response) => {\n            if (error) {\n                console.error(\"Error on recvVideoFrom: \" + JSON.stringify(error));\n            } else {\n                this.processSdpAnswer(response.sdpAnswer);\n            }\n        });\n    }\n\n    private initWebRtcPeer(sdpOfferCallback) {\n        if (this.local) {\n\n            let userMediaConstraints = {\n                audio: this.outboundOptions.sendAudio,\n                video: this.outboundOptions.sendVideo\n            }\n\n            let options: any = {\n                videoStream: this.mediaStream,\n                mediaConstraints: userMediaConstraints,\n                onicecandidate: this.connection.sendIceCandidate.bind(this.connection),\n            }\n\n            if (this.outboundOptions.dataChannel) {\n                options.dataChannelConfig = {\n                    id: this.getChannelName(),\n                    onopen: this.onDataChannelOpen,\n                    onclose: this.onDataChannelClosed\n                };\n                options.dataChannels = true;\n            }\n\n            if (this.displayMyRemote()) {\n                this.wp = kurentoUtils.WebRtcPeer.WebRtcPeerSendrecv(options, error => {\n                    if (error) {\n                        return console.error(error);\n                    }\n                    this.wp.generateOffer(sdpOfferCallback.bind(this));\n                });\n            } else {\n                this.wp = kurentoUtils.WebRtcPeer.WebRtcPeerSendonly(options, error => {\n                    if (error) {\n                        return console.error(error);\n                    }\n                    this.wp.generateOffer(sdpOfferCallback.bind(this));\n                });\n            }\n            this.isPublisherPublished = true;\n            this.ee.emitEvent('stream-created-by-publisher');\n        } else {\n            let offerConstraints = {\n                audio: this.inboundOptions.recvAudio,\n                video: this.inboundOptions.recvVideo\n            };\n            console.debug(\"'Session.subscribe(Stream)' called. Constraints of generate SDP offer\",\n                offerConstraints);\n            let options = {\n                onicecandidate: this.connection.sendIceCandidate.bind(this.connection),\n                mediaConstraints: offerConstraints\n            }\n            this.wp = kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly(options, error => {\n                if (error) {\n                    return console.error(error);\n                }\n                this.wp.generateOffer(sdpOfferCallback.bind(this));\n            });\n        }\n        console.debug(\"Waiting for SDP offer to be generated (\"\n            + (this.local ? \"local\" : \"remote\") + \" 'Stream': \" + this.streamId + \")\");\n    }\n\n    publish() {\n\n        // FIXME: Throw error when stream is not local\n        if (this.isReadyToPublish) {\n            this.initWebRtcPeer(this.publishVideoCallback);\n        } else {\n            this.ee.once('stream-ready', streamEvent => {\n                this.publish();\n            });\n        }\n\n        // FIXME: Now we have coupled connecting to a room and adding a\n        // stream to this room. But in the new API, there are two steps.\n        // This is the second step. For now, it do nothing.\n\n    }\n\n    subscribe() {\n\n        // FIXME: In the current implementation all participants are subscribed\n        // automatically to all other participants. We use this method only to\n        // negotiate SDP\n\n        this.initWebRtcPeer(this.startVideoCallback);\n    }\n\n    processSdpAnswer(sdpAnswer) {\n\n        let answer = new RTCSessionDescription({\n            type: 'answer',\n            sdp: sdpAnswer,\n        });\n        console.debug(this.streamId + \": set peer connection with recvd SDP answer\",\n            sdpAnswer);\n        let participantId = this.streamId;\n        let pc = this.wp.peerConnection;\n        pc.setRemoteDescription(answer, () => {\n            // Avoids to subscribe to your own stream remotely \n            // except when showMyRemote is true\n            if (!this.local || this.displayMyRemote()) {\n                this.mediaStream = pc.getRemoteStreams()[0];\n                console.debug(\"Peer remote stream\", this.mediaStream);\n\n                if (this.mediaStream != undefined) {\n\n                    this.ee.emitEvent('mediastream-updated');\n\n                    if (this.mediaStream.getAudioTracks()[0] != null) {\n\n                        this.speechEvent = kurentoUtils.WebRtcPeer.hark(this.mediaStream, { threshold: this.room.thresholdSpeaker });\n\n                        this.speechEvent.on('speaking', () => {\n                            //this.room.addParticipantSpeaking(participantId);\n                            this.room.emitEvent('publisherStartSpeaking', [{\n                                connection: this.connection,\n                                streamId: this.streamId\n                            }]);\n                        });\n\n                        this.speechEvent.on('stopped_speaking', () => {\n                            //this.room.removeParticipantSpeaking(participantId);\n                            this.room.emitEvent('publisherStopSpeaking', [{\n                                connection: this.connection,\n                                streamId: this.streamId\n                            }]);\n                        });\n\n                    }\n                }\n                // let thumbnailId = this.video.thumb;\n                this.video.oncanplay = () => {\n                    if (this.local && this.displayMyRemote()) {\n                        console.info(\"Your own remote 'Stream' with id [\" + this.streamId + \"] video is now playing\");\n                        this.ee.emitEvent('remote-video-is-playing', [{\n                            element: this.video\n                        }]);\n                    } else if (!this.local && !this.displayMyRemote()) {\n                        console.info(\"Remote 'Stream' with id [\" + this.streamId + \"] video is now playing\");\n                        this.ee.emitEvent('video-is-playing', [{\n                            element: this.video\n                        }]);\n                    }\n                    //show(thumbnailId);\n                    //this.hideSpinner(this.streamId);\n                };\n                this.room.emitEvent('stream-subscribed', [{\n                    stream: this\n                }]);\n            }\n\n            this.initWebRtcStats();\n\n        }, error => {\n            console.error(this.streamId + \": Error setting SDP to the peer connection: \"\n                + JSON.stringify(error));\n        });\n    }\n\n    unpublish() {\n        if (this.wp) {\n            this.wp.dispose();\n        } else {\n            if (this.mediaStream) {\n                this.mediaStream.getAudioTracks().forEach(function (track) {\n                    track.stop && track.stop()\n                })\n                this.mediaStream.getVideoTracks().forEach(function (track) {\n                    track.stop && track.stop()\n                })\n            }\n        }\n\n        if (this.speechEvent) {\n            this.speechEvent.stop();\n        }\n\n        console.info(this.streamId + \": Stream '\" + this.streamId + \"' unpublished\");\n    }\n\n    dispose() {\n\n        function disposeElement(element) {\n            if (element && element.parentNode) {\n                element.parentNode.removeChild(element);\n            }\n        }\n\n        disposeElement(\"progress-\" + this.streamId);\n\n        if (this.wp) {\n            this.wp.dispose();\n        } else {\n            if (this.mediaStream) {\n                this.mediaStream.getAudioTracks().forEach(function (track) {\n                    track.stop && track.stop()\n                })\n                this.mediaStream.getVideoTracks().forEach(function (track) {\n                    track.stop && track.stop()\n                })\n            }\n        }\n\n        if (this.speechEvent) {\n            this.speechEvent.stop();\n        }\n\n        this.stopWebRtcStats();\n\n        console.info((this.local ? \"Local \" : \"Remote \") + \"'Stream' with id [\" + this.streamId + \"]' has been succesfully disposed\");\n    }\n\n    configureScreenOptions(options: OutboundStreamOptions) {\n        this.outboundOptions = options;\n        this.streamId = \"SCREEN\";\n    }\n\n    private initWebRtcStats(): void {\n        this.webRtcStats = new WebRtcStats(this);\n        this.webRtcStats.initWebRtcStats();\n    }\n\n    private stopWebRtcStats() {\n        if (this.webRtcStats != null && this.webRtcStats.isEnabled()) {\n            this.webRtcStats.stopWebRtcStats();\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/Stream.ts","import { Stream } from './Stream';\nimport * as adapter from 'webrtc-adapter';\n\nexport class WebRtcStats {\n\n    private webRtcStatsEnabled: boolean = false;\n    private webRtcStatsIntervalId: number;\n    private statsInterval: number = 1;\n    private stats: any = {\n        \"inbound\": {\n            \"audio\": {\n                \"bytesReceived\": 0,\n                \"packetsReceived\": 0,\n                \"packetsLost\": 0\n            },\n            \"video\": {\n                \"bytesReceived\": 0,\n                \"packetsReceived\": 0,\n                \"packetsLost\": 0,\n                \"framesDecoded\": 0,\n                \"nackCount\": 0\n            }\n        },\n        \"outbound\": {\n            \"audio\": {\n                \"bytesSent\": 0,\n                \"packetsSent\": 0,\n            },\n            \"video\": {\n                \"bytesSent\": 0,\n                \"packetsSent\": 0,\n                \"framesEncoded\": 0,\n                \"nackCount\": 0\n            }\n        }\n    }\n\n    constructor(private stream: Stream) { }\n\n    public isEnabled(): boolean {\n        return this.webRtcStatsEnabled;\n    }\n\n    public initWebRtcStats(): void {\n\n        let elastestInstrumentation = localStorage.getItem('elastest-instrumentation');\n\n        if (elastestInstrumentation) {\n            // ElasTest instrumentation object found in local storage\n\n            console.warn(\"WebRtc stats enabled for stream \" + this.stream.streamId + \" of connection \" + this.stream.connection.connectionId);\n\n            this.webRtcStatsEnabled = true;\n\n            let instrumentation = JSON.parse(elastestInstrumentation);\n            this.statsInterval = instrumentation.webrtc.interval;  // Interval in seconds\n\n            console.warn(\"localStorage item: \" + JSON.stringify(instrumentation));\n\n            this.webRtcStatsIntervalId = setInterval(() => {\n                this.sendStatsToHttpEndpoint(instrumentation);\n            }, this.statsInterval * 1000);\n\n            return;\n        }\n\n        console.debug(\"WebRtc stats not enabled\");\n    }\n\n    public stopWebRtcStats() {\n        if (this.webRtcStatsEnabled) {\n            clearInterval(this.webRtcStatsIntervalId);\n            console.warn(\"WebRtc stats stopped for disposed stream \" + this.stream.streamId + \" of connection \" + this.stream.connection.connectionId);\n        }\n    }\n\n    private sendStatsToHttpEndpoint(instrumentation): void {\n\n        let sendPost = (json) => {\n            let http: XMLHttpRequest = new XMLHttpRequest();\n            let url: string = instrumentation.webrtc.httpEndpoint;\n            http.open(\"POST\", url, true);\n\n            http.setRequestHeader(\"Content-type\", \"application/json\");\n            \n            http.onreadystatechange = () => { // Call a function when the state changes.\n                if (http.readyState == 4 && http.status == 200) {\n                    console.log(\"WebRtc stats succesfully sent to \" + url + \" for stream \" + this.stream.streamId + \" of connection \" + this.stream.connection.connectionId);\n                }\n            }\n            http.send(json);\n        }\n\n        let f = (stats) => {\n\n            if (adapter.browserDetails.browser === 'firefox') {\n                stats.forEach((stat) => {\n\n                    let json = {};\n\n                    if ((stat.type === 'inbound-rtp') &&\n                        (\n                            // Avoid firefox empty outbound-rtp statistics\n                            stat.nackCount != null &&\n                            stat.isRemote === false &&\n                            stat.id.startsWith('inbound') &&\n                            stat.remoteId.startsWith('inbound')\n                        )) {\n\n                        let metricId = 'webrtc_inbound_' + stat.mediaType + '_' + stat.ssrc;\n                        let jitter = stat.jitter * 1000;\n\n                        let metrics = {\n                            \"bytesReceived\": (stat.bytesReceived - this.stats.inbound[stat.mediaType].bytesReceived) / this.statsInterval,\n                            \"jitter\": jitter,\n                            \"packetsReceived\": (stat.packetsReceived - this.stats.inbound[stat.mediaType].packetsReceived) / this.statsInterval,\n                            \"packetsLost\": (stat.packetsLost - this.stats.inbound[stat.mediaType].packetsLost) / this.statsInterval\n                        };\n                        let units = {\n                            \"bytesReceived\": \"bytes\",\n                            \"jitter\": \"ms\",\n                            \"packetsReceived\": \"packets\",\n                            \"packetsLost\": \"packets\"\n                        };\n                        if (stat.mediaType === 'video') {\n                            metrics['framesDecoded'] = (stat.framesDecoded - this.stats.inbound.video.framesDecoded) / this.statsInterval;\n                            metrics['nackCount'] = (stat.nackCount - this.stats.inbound.video.nackCount) / this.statsInterval;\n                            units['framesDecoded'] = \"frames\";\n                            units['nackCount'] = \"packets\";\n\n                            this.stats.inbound.video.framesDecoded = stat.framesDecoded;\n                            this.stats.inbound.video.nackCount = stat.nackCount;\n                        }\n\n                        this.stats.inbound[stat.mediaType].bytesReceived = stat.bytesReceived;\n                        this.stats.inbound[stat.mediaType].packetsReceived = stat.packetsReceived;\n                        this.stats.inbound[stat.mediaType].packetsLost = stat.packetsLost;\n\n                        json = {\n                            \"@timestamp\": new Date(stat.timestamp).toISOString(),\n                            \"exec\": instrumentation.exec,\n                            \"component\": instrumentation.component,\n                            \"stream\": \"webRtc\",\n                            \"type\": metricId,\n                            \"stream_type\": \"composed_metrics\",\n                            \"units\": units\n                        }\n                        json[metricId] = metrics;\n\n                        sendPost(JSON.stringify(json));\n\n                    } else if ((stat.type === 'outbound-rtp') &&\n                        (\n                            // Avoid firefox empty inbound-rtp statistics\n                            stat.isRemote === false &&\n                            stat.id.toLowerCase().includes('outbound')\n                        )) {\n\n                        let metricId = 'webrtc_outbound_' + stat.mediaType + '_' + stat.ssrc;\n\n                        let metrics = {\n                            \"bytesSent\": (stat.bytesSent - this.stats.outbound[stat.mediaType].bytesSent) / this.statsInterval,\n                            \"packetsSent\": (stat.packetsSent - this.stats.outbound[stat.mediaType].packetsSent) / this.statsInterval\n                        };\n                        let units = {\n                            \"bytesSent\": \"bytes\",\n                            \"packetsSent\": \"packets\"\n                        };\n                        if (stat.mediaType === 'video') {\n                            metrics['framesEncoded'] = (stat.framesEncoded - this.stats.outbound.video.framesEncoded) / this.statsInterval;\n                            units['framesEncoded'] = \"frames\";\n\n                            this.stats.outbound.video.framesEncoded = stat.framesEncoded;\n                        }\n\n                        this.stats.outbound[stat.mediaType].bytesSent = stat.bytesSent;\n                        this.stats.outbound[stat.mediaType].packetsSent = stat.packetsSent;\n\n                        json = {\n                            \"@timestamp\": new Date(stat.timestamp).toISOString(),\n                            \"exec\": instrumentation.exec,\n                            \"component\": instrumentation.component,\n                            \"stream\": \"webRtc\",\n                            \"type\": metricId,\n                            \"stream_type\": \"composed_metrics\",\n                            \"units\": units\n                        }\n                        json[metricId] = metrics;\n\n                        sendPost(JSON.stringify(json));\n                    }\n                });\n            } else if (adapter.browserDetails.browser === 'chrome') {\n                for (let key of Object.keys(stats)) {\n                    let stat = stats[key];\n                    if (stat.type === 'ssrc') {\n\n                        let json = {};\n\n                        if ('bytesReceived' in stat && (\n                            (stat.mediaType === 'audio' && 'audioOutputLevel' in stat) ||\n                            (stat.mediaType === 'video' && 'qpSum' in stat)\n                        )) {\n                            // inbound-rtp\n                            let metricId = 'webrtc_inbound_' + stat.mediaType + '_' + stat.ssrc;\n\n                            let metrics = {\n                                \"bytesReceived\": (stat.bytesReceived - this.stats.inbound[stat.mediaType].bytesReceived) / this.statsInterval,\n                                \"jitter\": stat.googJitterBufferMs,\n                                \"packetsReceived\": (stat.packetsReceived - this.stats.inbound[stat.mediaType].packetsReceived) / this.statsInterval,\n                                \"packetsLost\": (stat.packetsLost - this.stats.inbound[stat.mediaType].packetsLost) / this.statsInterval\n                            };\n                            let units = {\n                                \"bytesReceived\": \"bytes\",\n                                \"jitter\": \"ms\",\n                                \"packetsReceived\": \"packets\",\n                                \"packetsLost\": \"packets\"\n                            };\n                            if (stat.mediaType === 'video') {\n                                metrics['framesDecoded'] = (stat.framesDecoded - this.stats.inbound.video.framesDecoded) / this.statsInterval;\n                                metrics['nackCount'] = (stat.googNacksSent - this.stats.inbound.video.nackCount) / this.statsInterval;\n                                units['framesDecoded'] = \"frames\";\n                                units['nackCount'] = \"packets\";\n\n                                this.stats.inbound.video.framesDecoded = stat.framesDecoded;\n                                this.stats.inbound.video.nackCount = stat.googNacksSent;\n                            }\n\n                            this.stats.inbound[stat.mediaType].bytesReceived = stat.bytesReceived;\n                            this.stats.inbound[stat.mediaType].packetsReceived = stat.packetsReceived;\n                            this.stats.inbound[stat.mediaType].packetsLost = stat.packetsLost;\n\n                            json = {\n                                \"@timestamp\": new Date(stat.timestamp).toISOString(),\n                                \"exec\": instrumentation.exec,\n                                \"component\": instrumentation.component,\n                                \"stream\": \"webRtc\",\n                                \"type\": metricId,\n                                \"stream_type\": \"composed_metrics\",\n                                \"units\": units\n                            }\n                            json[metricId] = metrics;\n\n                            sendPost(JSON.stringify(json));\n                        } else if ('bytesSent' in stat) {\n                            // outbound-rtp\n                            let metricId = 'webrtc_outbound_' + stat.mediaType + '_' + stat.ssrc;\n\n                            let metrics = {\n                                \"bytesSent\": (stat.bytesSent - this.stats.outbound[stat.mediaType].bytesSent) / this.statsInterval,\n                                \"packetsSent\": (stat.packetsSent - this.stats.outbound[stat.mediaType].packetsSent) / this.statsInterval\n                            };\n                            let units = {\n                                \"bytesSent\": \"bytes\",\n                                \"packetsSent\": \"packets\"\n                            };\n                            if (stat.mediaType === 'video') {\n                                metrics['framesEncoded'] = (stat.framesEncoded - this.stats.outbound.video.framesEncoded) / this.statsInterval;\n                                units['framesEncoded'] = \"frames\";\n\n                                this.stats.outbound.video.framesEncoded = stat.framesEncoded;\n                            }\n\n                            this.stats.outbound[stat.mediaType].bytesSent = stat.bytesSent;\n                            this.stats.outbound[stat.mediaType].packetsSent = stat.packetsSent;\n\n                            json = {\n                                \"@timestamp\": new Date(stat.timestamp).toISOString(),\n                                \"exec\": instrumentation.exec,\n                                \"component\": instrumentation.component,\n                                \"stream\": \"webRtc\",\n                                \"type\": metricId,\n                                \"stream_type\": \"composed_metrics\",\n                                \"units\": units\n                            }\n                            json[metricId] = metrics;\n\n                            sendPost(JSON.stringify(json));\n                        }\n                    }\n                }\n            }\n        };\n\n        this.getStatsAgnostic(this.stream.getRTCPeerConnection(), null, f, (error) => { console.log(error) });\n    }\n\n    private standardizeReport(response) {\n        if (adapter.browserDetails.browser === 'firefox') {\n            return response;\n        }\n\n        var standardReport = {};\n        response.result().forEach(function (report) {\n            var standardStats = {\n                id: report.id,\n                timestamp: report.timestamp,\n                type: report.type\n            };\n            report.names().forEach(function (name) {\n                standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n    }\n\n    private getStatsAgnostic(pc, selector, successCb, failureCb) {\n        if (adapter.browserDetails.browser === 'firefox') {\n            // getStats takes args in different order in Chrome and Firefox\n            return pc.getStats(selector, (response) => {\n                var report = this.standardizeReport(response);\n                successCb(report);\n            }, failureCb);\n        } else if (adapter.browserDetails.browser === 'chrome') {\n            // In Chrome, the first two arguments are reversed\n            return pc.getStats((response) => {\n                var report = this.standardizeReport(response);\n                successCb(report);\n            }, selector, failureCb);\n        }\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/OpenViduInternal/WebRtcStats.ts","// Last time updated at Feb 16, 2017, 08:32:23\n\n// Latest file can be found here: https://cdn.webrtc-experiment.com/getScreenId.js\n\n// Muaz Khan         - www.MuazKhan.com\n// MIT License       - www.WebRTC-Experiment.com/licence\n// Documentation     - https://github.com/muaz-khan/getScreenId.\n\n// ______________\n// getScreenId.js\n\n/*\ngetScreenId(function (error, sourceId, screen_constraints) {\n    // error    == null || 'permission-denied' || 'not-installed' || 'installed-disabled' || 'not-chrome'\n    // sourceId == null || 'string' || 'firefox'\n    \n    if(sourceId == 'firefox') {\n        navigator.mozGetUserMedia(screen_constraints, onSuccess, onFailure);\n    }\n    else navigator.webkitGetUserMedia(screen_constraints, onSuccess, onFailure);\n});\n*/\n\nwindow.getScreenId = function (callback) {\n    // for Firefox:\n    // sourceId == 'firefox'\n    // screen_constraints = {...}\n    if (!!navigator.mozGetUserMedia) {\n        callback(null, 'firefox', {\n            video: {\n                mozMediaSource: 'window',\n                mediaSource: 'window'\n            }\n        });\n        return;\n    }\n\n    window.addEventListener('message', onIFrameCallback);\n\n    function onIFrameCallback(event) {\n        if (!event.data) return;\n\n        if (event.data.chromeMediaSourceId) {\n            if (event.data.chromeMediaSourceId === 'PermissionDeniedError') {\n                callback('permission-denied');\n            } else callback(null, event.data.chromeMediaSourceId, getScreenConstraints(null, event.data.chromeMediaSourceId));\n        }\n\n        if (event.data.chromeExtensionStatus) {\n            callback(event.data.chromeExtensionStatus, null, getScreenConstraints(event.data.chromeExtensionStatus));\n        }\n\n        // this event listener is no more needed\n        window.removeEventListener('message', onIFrameCallback);\n    }\n\n    setTimeout(postGetSourceIdMessage, 100);\n};\n\nfunction getScreenConstraints(error, sourceId) {\n    var screen_constraints = {\n        audio: false,\n        video: {\n            mandatory: {\n                chromeMediaSource: error ? 'screen' : 'desktop',\n                maxWidth: window.screen.width > 1920 ? window.screen.width : 1920,\n                maxHeight: window.screen.height > 1080 ? window.screen.height : 1080\n            },\n            optional: []\n        }\n    };\n\n    if (sourceId) {\n        screen_constraints.video.mandatory.chromeMediaSourceId = sourceId;\n    }\n\n    return screen_constraints;\n}\n\nfunction postGetSourceIdMessage() {\n    if (!iframe) {\n        loadIFrame(postGetSourceIdMessage);\n        return;\n    }\n\n    if (!iframe.isLoaded) {\n        setTimeout(postGetSourceIdMessage, 100);\n        return;\n    }\n\n    iframe.contentWindow.postMessage({\n        captureSourceId: true\n    }, '*');\n}\n\nvar iframe;\n\n// this function is used in RTCMultiConnection v3\nwindow.getScreenConstraints = function (callback) {\n    loadIFrame(function () {\n        getScreenId(function (error, sourceId, screen_constraints) {\n            callback(error, screen_constraints.video);\n        });\n    });\n};\n\nfunction loadIFrame(loadCallback) {\n    if (iframe) {\n        loadCallback();\n        return;\n    }\n\n    iframe = document.createElement('iframe');\n    iframe.onload = function () {\n        iframe.isLoaded = true;\n\n        loadCallback();\n    };\n    iframe.src = 'https://www.webrtc-experiment.com/getSourceId/'; // https://wwww.yourdomain.com/getScreenId.html\n    iframe.style.display = 'none';\n    (document.body || document.documentElement).appendChild(iframe);\n}\n\nwindow.getChromeExtensionStatus = function (callback) {\n    // for Firefox:\n    if (!!navigator.mozGetUserMedia) {\n        callback('installed-enabled');\n        return;\n    }\n\n    window.addEventListener('message', onIFrameCallback);\n\n    function onIFrameCallback(event) {\n        if (!event.data) return;\n\n        if (event.data.chromeExtensionStatus) {\n            callback(event.data.chromeExtensionStatus);\n        }\n\n        // this event listener is no more needed\n        window.removeEventListener('message', onIFrameCallback);\n    }\n\n    setTimeout(postGetChromeExtensionStatusMessage, 100);\n};\n\nfunction postGetChromeExtensionStatusMessage() {\n    if (!iframe) {\n        loadIFrame(postGetChromeExtensionStatusMessage);\n        return;\n    }\n\n    if (!iframe.isLoaded) {\n        setTimeout(postGetChromeExtensionStatusMessage, 100);\n        return;\n    }\n\n    iframe.contentWindow.postMessage({\n        getChromeExtensionStatus: true\n    }, '*');\n}\n\nexports.getScreenId = getScreenId;\nexports.getChromeExtensionStatus = getChromeExtensionStatus;\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/ts/ScreenSharing/Screen-Capturing-Auto.js","/* jshint node: true */\n'use strict';\n\nvar normalice = require('normalice');\n\n/**\n  # freeice\n\n  The `freeice` module is a simple way of getting random STUN or TURN server\n  for your WebRTC application.  The list of servers (just STUN at this stage)\n  were sourced from this [gist](https://gist.github.com/zziuni/3741933).\n\n  ## Example Use\n\n  The following demonstrates how you can use `freeice` with\n  [rtc-quickconnect](https://github.com/rtc-io/rtc-quickconnect):\n\n  <<< examples/quickconnect.js\n\n  As the `freeice` module generates ice servers in a list compliant with the\n  WebRTC spec you will be able to use it with raw `RTCPeerConnection`\n  constructors and other WebRTC libraries.\n\n  ## Hey, don't use my STUN/TURN server!\n\n  If for some reason your free STUN or TURN server ends up in the\n  list of servers ([stun](https://github.com/DamonOehlman/freeice/blob/master/stun.json) or\n  [turn](https://github.com/DamonOehlman/freeice/blob/master/turn.json))\n  that is used in this module, you can feel\n  free to open an issue on this repository and those servers will be removed\n  within 24 hours (or sooner).  This is the quickest and probably the most\n  polite way to have something removed (and provides us some visibility\n  if someone opens a pull request requesting that a server is added).\n\n  ## Please add my server!\n\n  If you have a server that you wish to add to the list, that's awesome! I'm\n  sure I speak on behalf of a whole pile of WebRTC developers who say thanks.\n  To get it into the list, feel free to either open a pull request or if you\n  find that process a bit daunting then just create an issue requesting\n  the addition of the server (make sure you provide all the details, and if\n  you have a Terms of Service then including that in the PR/issue would be\n  awesome).\n\n  ## I know of a free server, can I add it?\n\n  Sure, if you do your homework and make sure it is ok to use (I'm currently\n  in the process of reviewing the terms of those STUN servers included from\n  the original list).  If it's ok to go, then please see the previous entry\n  for how to add it.\n\n  ## Current List of Servers\n\n  * current as at the time of last `README.md` file generation\n\n  ### STUN\n\n  <<< stun.json\n\n  ### TURN\n\n  <<< turn.json\n\n**/\n\nvar freeice = module.exports = function(opts) {\n  // if a list of servers has been provided, then use it instead of defaults\n  var servers = {\n    stun: (opts || {}).stun || require('./stun.json'),\n    turn: (opts || {}).turn || require('./turn.json')\n  };\n\n  var stunCount = (opts || {}).stunCount || 2;\n  var turnCount = (opts || {}).turnCount || 0;\n  var selected;\n\n  function getServers(type, count) {\n    var out = [];\n    var input = [].concat(servers[type]);\n    var idx;\n\n    while (input.length && out.length < count) {\n      idx = (Math.random() * input.length) | 0;\n      out = out.concat(input.splice(idx, 1));\n    }\n\n    return out.map(function(url) {\n        //If it's a not a string, don't try to \"normalice\" it otherwise using type:url will screw it up\n        if ((typeof url !== 'string') && (! (url instanceof String))) {\n            return url;\n        } else {\n            return normalice(type + ':' + url);\n        }\n    });\n  }\n\n  // add stun servers\n  selected = [].concat(getServers('stun', stunCount));\n\n  if (turnCount) {\n    selected = selected.concat(getServers('turn', turnCount));\n  }\n\n  return selected;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/index.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/freeice/index.js\n// module chunks = main","module.exports = [\"stun.l.google.com:19302\",\"stun1.l.google.com:19302\",\"stun2.l.google.com:19302\",\"stun3.l.google.com:19302\",\"stun4.l.google.com:19302\",\"stun.ekiga.net\",\"stun.ideasip.com\",\"stun.schlund.de\",\"stun.stunprotocol.org:3478\",\"stun.voiparound.com\",\"stun.voipbuster.com\",\"stun.voipstunt.com\",\"stun.voxgratia.org\",\"stun.services.mozilla.com\"]\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/stun.json\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/freeice/stun.json\n// module chunks = main","module.exports = []\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/freeice/turn.json\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/freeice/turn.json\n// module chunks = main","var WildEmitter = require('wildemitter');\n\nfunction getMaxVolume (analyser, fftBins) {\n  var maxVolume = -Infinity;\n  analyser.getFloatFrequencyData(fftBins);\n\n  for(var i=4, ii=fftBins.length; i < ii; i++) {\n    if (fftBins[i] > maxVolume && fftBins[i] < 0) {\n      maxVolume = fftBins[i];\n    }\n  };\n\n  return maxVolume;\n}\n\n\nvar audioContextType;\nif (typeof window !== 'undefined') {\n  audioContextType = window.AudioContext || window.webkitAudioContext;\n}\n// use a single audio context due to hardware limits\nvar audioContext = null;\nmodule.exports = function(stream, options) {\n  var harker = new WildEmitter();\n\n\n  // make it not break in non-supported browsers\n  if (!audioContextType) return harker;\n\n  //Config\n  var options = options || {},\n      smoothing = (options.smoothing || 0.1),\n      interval = (options.interval || 50),\n      threshold = options.threshold,\n      play = options.play,\n      history = options.history || 10,\n      running = true;\n\n  //Setup Audio Context\n  if (!audioContext) {\n    audioContext = new audioContextType();\n  }\n  var sourceNode, fftBins, analyser;\n\n  analyser = audioContext.createAnalyser();\n  analyser.fftSize = 512;\n  analyser.smoothingTimeConstant = smoothing;\n  fftBins = new Float32Array(analyser.frequencyBinCount);\n\n  if (stream.jquery) stream = stream[0];\n  if (stream instanceof HTMLAudioElement || stream instanceof HTMLVideoElement) {\n    //Audio Tag\n    sourceNode = audioContext.createMediaElementSource(stream);\n    if (typeof play === 'undefined') play = true;\n    threshold = threshold || -50;\n  } else {\n    //WebRTC Stream\n    sourceNode = audioContext.createMediaStreamSource(stream);\n    threshold = threshold || -50;\n  }\n\n  sourceNode.connect(analyser);\n  if (play) analyser.connect(audioContext.destination);\n\n  harker.speaking = false;\n\n  harker.setThreshold = function(t) {\n    threshold = t;\n  };\n\n  harker.setInterval = function(i) {\n    interval = i;\n  };\n\n  harker.stop = function() {\n    running = false;\n    harker.emit('volume_change', -100, threshold);\n    if (harker.speaking) {\n      harker.speaking = false;\n      harker.emit('stopped_speaking');\n    }\n    analyser.disconnect();\n    sourceNode.disconnect();\n  };\n  harker.speakingHistory = [];\n  for (var i = 0; i < history; i++) {\n      harker.speakingHistory.push(0);\n  }\n\n  // Poll the analyser node to determine if speaking\n  // and emit events if changed\n  var looper = function() {\n    setTimeout(function() {\n\n      //check if stop has been called\n      if(!running) {\n        return;\n      }\n\n      var currentVolume = getMaxVolume(analyser, fftBins);\n\n      harker.emit('volume_change', currentVolume, threshold);\n\n      var history = 0;\n      if (currentVolume > threshold && !harker.speaking) {\n        // trigger quickly, short history\n        for (var i = harker.speakingHistory.length - 3; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history >= 2) {\n          harker.speaking = true;\n          harker.emit('speaking');\n        }\n      } else if (currentVolume < threshold && harker.speaking) {\n        for (var i = 0; i < harker.speakingHistory.length; i++) {\n          history += harker.speakingHistory[i];\n        }\n        if (history == 0) {\n          harker.speaking = false;\n          harker.emit('stopped_speaking');\n        }\n      }\n      harker.speakingHistory.shift();\n      harker.speakingHistory.push(0 + (currentVolume > threshold));\n\n      looper();\n    }, interval);\n  };\n  looper();\n\n\n  return harker;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/hark/hark.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/hark/hark.js\n// module chunks = main","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/inherits/inherits_browser.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/inherits/inherits_browser.js\n// module chunks = main","/*!\r\n * @name JavaScript/NodeJS Merge v1.2.0\r\n * @author yeikos\r\n * @repository https://github.com/yeikos/js.merge\r\n\r\n * Copyright 2014 yeikos - MIT license\r\n * https://raw.github.com/yeikos/js.merge/master/LICENSE\r\n */\r\n\r\n;(function(isNode) {\r\n\r\n\t/**\r\n\t * Merge one or more objects \r\n\t * @param bool? clone\r\n\t * @param mixed,... arguments\r\n\t * @return object\r\n\t */\r\n\r\n\tvar Public = function(clone) {\r\n\r\n\t\treturn merge(clone === true, false, arguments);\r\n\r\n\t}, publicName = 'merge';\r\n\r\n\t/**\r\n\t * Merge two or more objects recursively \r\n\t * @param bool? clone\r\n\t * @param mixed,... arguments\r\n\t * @return object\r\n\t */\r\n\r\n\tPublic.recursive = function(clone) {\r\n\r\n\t\treturn merge(clone === true, true, arguments);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Clone the input removing any reference\r\n\t * @param mixed input\r\n\t * @return mixed\r\n\t */\r\n\r\n\tPublic.clone = function(input) {\r\n\r\n\t\tvar output = input,\r\n\t\t\ttype = typeOf(input),\r\n\t\t\tindex, size;\r\n\r\n\t\tif (type === 'array') {\r\n\r\n\t\t\toutput = [];\r\n\t\t\tsize = input.length;\r\n\r\n\t\t\tfor (index=0;index<size;++index)\r\n\r\n\t\t\t\toutput[index] = Public.clone(input[index]);\r\n\r\n\t\t} else if (type === 'object') {\r\n\r\n\t\t\toutput = {};\r\n\r\n\t\t\tfor (index in input)\r\n\r\n\t\t\t\toutput[index] = Public.clone(input[index]);\r\n\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Merge two objects recursively\r\n\t * @param mixed input\r\n\t * @param mixed extend\r\n\t * @return mixed\r\n\t */\r\n\r\n\tfunction merge_recursive(base, extend) {\r\n\r\n\t\tif (typeOf(base) !== 'object')\r\n\r\n\t\t\treturn extend;\r\n\r\n\t\tfor (var key in extend) {\r\n\r\n\t\t\tif (typeOf(base[key]) === 'object' && typeOf(extend[key]) === 'object') {\r\n\r\n\t\t\t\tbase[key] = merge_recursive(base[key], extend[key]);\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbase[key] = extend[key];\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn base;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Merge two or more objects\r\n\t * @param bool clone\r\n\t * @param bool recursive\r\n\t * @param array argv\r\n\t * @return object\r\n\t */\r\n\r\n\tfunction merge(clone, recursive, argv) {\r\n\r\n\t\tvar result = argv[0],\r\n\t\t\tsize = argv.length;\r\n\r\n\t\tif (clone || typeOf(result) !== 'object')\r\n\r\n\t\t\tresult = {};\r\n\r\n\t\tfor (var index=0;index<size;++index) {\r\n\r\n\t\t\tvar item = argv[index],\r\n\r\n\t\t\t\ttype = typeOf(item);\r\n\r\n\t\t\tif (type !== 'object') continue;\r\n\r\n\t\t\tfor (var key in item) {\r\n\r\n\t\t\t\tvar sitem = clone ? Public.clone(item[key]) : item[key];\r\n\r\n\t\t\t\tif (recursive) {\r\n\r\n\t\t\t\t\tresult[key] = merge_recursive(result[key], sitem);\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tresult[key] = sitem;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Get type of variable\r\n\t * @param mixed input\r\n\t * @return string\r\n\t *\r\n\t * @see http://jsperf.com/typeofvar\r\n\t */\r\n\r\n\tfunction typeOf(input) {\r\n\r\n\t\treturn ({}).toString.call(input).slice(8, -1).toLowerCase();\r\n\r\n\t}\r\n\r\n\tif (isNode) {\r\n\r\n\t\tmodule.exports = Public;\r\n\r\n\t} else {\r\n\r\n\t\twindow[publicName] = Public;\r\n\r\n\t}\r\n\r\n})(typeof module === 'object' && module && typeof module.exports === 'object' && module.exports);\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/merge/merge.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/merge/merge.js\n// module chunks = main","/**\n  # normalice\n\n  Normalize an ice server configuration object (or plain old string) into a format\n  that is usable in all browsers supporting WebRTC.  Primarily this module is designed\n  to help with the transition of the `url` attribute of the configuration object to\n  the `urls` attribute.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n**/\n\nvar protocols = [\n  'stun:',\n  'turn:'\n];\n\nmodule.exports = function(input) {\n  var url = (input || {}).url || input;\n  var protocol;\n  var parts;\n  var output = {};\n\n  // if we don't have a string url, then allow the input to passthrough\n  if (typeof url != 'string' && (! (url instanceof String))) {\n    return input;\n  }\n\n  // trim the url string, and convert to an array\n  url = url.trim();\n\n  // if the protocol is not known, then passthrough\n  protocol = protocols[protocols.indexOf(url.slice(0, 5))];\n  if (! protocol) {\n    return input;\n  }\n\n  // now let's attack the remaining url parts\n  url = url.slice(5);\n  parts = url.split('@');\n\n  output.username = input.username;\n  output.credential = input.credential;\n  // if we have an authentication part, then set the credentials\n  if (parts.length > 1) {\n    url = parts[1];\n    parts = parts[0].split(':');\n\n    // add the output credential and username\n    output.username = parts[0];\n    output.credential = (input || {}).credential || parts[1] || '';\n  }\n\n  output.url = protocol + url;\n  output.urls = [ output.url ];\n\n  return output;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/normalice/index.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/normalice/index.js\n// module chunks = main","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all field are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // dpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n        event.candidate.candidate = serializedCandidate;\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc.localDescription.sdp =\n          SDPUtils.getDescription(pc.localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if ((kind === 'application' && protocol === 'DTLS/SCTP') || rejected) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc.remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc.remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc.remoteDescription.sdp =\n              SDPUtils.getDescription(pc.remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc.remoteDescription.sdp = sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function() {\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    var fixStatsType = function(stat) {\n      return {\n        inboundrtp: 'inbound-rtp',\n        outboundrtp: 'outbound-rtp',\n        candidatepair: 'candidate-pair',\n        localcandidate: 'local-candidate',\n        remotecandidate: 'remote-candidate'\n      }[stat.type] || stat.type;\n    };\n    return new Promise(function(resolve) {\n      // shim getStats with maplike support\n      var results = new Map();\n      Promise.all(promises).then(function(res) {\n        res.forEach(function(result) {\n          Object.keys(result).forEach(function(id) {\n            result[id].type = fixStatsType(result[id]);\n            results.set(id, result[id]);\n          });\n        });\n        resolve(results);\n      });\n    });\n  };\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/rtcpeerconnection-shim/rtcpeerconnection.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/rtcpeerconnection-shim/rtcpeerconnection.js\n// module chunks = main","var grammar = module.exports = {\n  v: [{\n      name: 'version',\n      reg: /^(\\d*)$/\n  }],\n  o: [{ //o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: \"%s %s %d %s IP%d %s\"\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  //k: [{}], // outdated thing ignored\n  t: [{ //t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: \"%d %d\"\n  }],\n  c: [{ //c=IN IP4 10.47.197.26\n      name: 'connection',\n      reg: /^IN IP(\\d) (\\S*)/,\n      names: ['version', 'ip'],\n      format: \"IN IP%d %s\"\n  }],\n  b: [{ //b=AS:4000\n      push: 'bandwidth',\n      reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n      names: ['type', 'limit'],\n      format: \"%s:%s\"\n  }],\n  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31\n      // NB: special - pushes to session\n      // TODO: rtp/fmtp should be filtered by the payloads found here?\n      reg: /^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,\n      names: ['type', 'port', 'protocol', 'payloads'],\n      format: \"%s %d %s %s\"\n  }],\n  a: [\n    { //a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding) ?\n          \"rtpmap:%d %s/%s/%s\":\n          o.rate ?\n          \"rtpmap:%d %s/%s\":\n          \"rtpmap:%d %s\";\n      }\n    },\n    {\n      //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      //a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: \"fmtp:%d %s\"\n    },\n    { //a=control:streamid=0\n        name: 'control',\n        reg: /^control:(.*)/,\n        format: \"control:%s\"\n    },\n    { //a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null) ?\n          \"rtcp:%d %s IP%d %s\":\n          \"rtcp:%d\";\n      }\n    },\n    { //a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: \"rtcp-fb:%d trr-int %d\"\n    },\n    { //a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null) ?\n          \"rtcp-fb:%s %s %s\":\n          \"rtcp-fb:%s %s\";\n      }\n    },\n    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      //a=extmap:1/recvonly URI-gps-string\n      push: 'ext',\n      reg: /^extmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,\n      names: ['value', 'uri', 'config'], // value may include \"/direction\" suffix\n      format: function (o) {\n        return (o.config != null) ?\n          \"extmap:%s %s %s\":\n          \"extmap:%s %s\";\n      }\n    },\n    {\n      //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null) ?\n          \"crypto:%d %s %s %s\":\n          \"crypto:%d %s %s\";\n      }\n    },\n    { //a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: \"setup:%s\"\n    },\n    { //a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: \"mid:%s\"\n    },\n    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: \"msid:%s\"\n    },\n    { //a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*)/,\n      format: \"ptime:%d\"\n    },\n    { //a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*)/,\n      format: \"maxptime:%d\"\n    },\n    { //a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    { //a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    { //a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: \"ice-ufrag:%s\"\n    },\n    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: \"ice-pwd:%s\"\n    },\n    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: \"fingerprint:%s %s\"\n    },\n    {\n      //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0\n      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0\n      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0\n      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation'],\n      format: function (o) {\n        var str = \"candidate:%s %d %s %d %s %d typ %s\";\n\n        str += (o.raddr != null) ? \" raddr %s rport %d\" : \"%v%v\";\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? \" tcptype %s\" : \"%v\";\n\n        if (o.generation != null) {\n          str += \" generation %d\";\n        }\n        return str;\n      }\n    },\n    { //a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: \"remote-candidates:%s\"\n    },\n    { //a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: \"ice-options:%s\"\n    },\n    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: \"ssrcs\",\n      reg: /^ssrc:(\\d*) ([\\w_]*):(.*)/,\n      names: ['id', 'attribute', 'value'],\n      format: \"ssrc:%d %s:%s\"\n    },\n    { //a=ssrc-group:FEC 1 2\n      push: \"ssrcGroups\",\n      reg: /^ssrc-group:(\\w*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: \"ssrc-group:%s %s\"\n    },\n    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: \"msidSemantic\",\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: \"msid-semantic: %s %s\" // space after \":\" is not accidental\n    },\n    { //a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: \"group:%s %s\"\n    },\n    { //a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    { //a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    { // any a= that we don't understand is kepts verbatim on media.invalid\n      push: 'invalid',\n      names: [\"value\"]\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = \"%s\";\n    }\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/grammar.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-transform/lib/grammar.js\n// module chunks = main","var parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseFmtpConfig = parser.parseFmtpConfig;\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/index.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-transform/lib/index.js\n// module chunks = main","var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar fmtpReducer = function (acc, expr) {\n  var s = expr.split('=');\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  }\n  return acc;\n};\n\nexports.parseFmtpConfig = function (str) {\n  return str.split(/\\;\\s?/).reduce(fmtpReducer, {});\n};\n\nexports.parsePayloads = function (str) {\n  return str.split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/parser.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-transform/lib/parser.js\n// module chunks = main","var grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n      case '%%':\n        return '%';\n      case '%s':\n        return String(arg);\n      case '%d':\n        return Number(arg);\n      case '%v':\n        return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // \"v=0\" must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = \" \"; // \"s= \" must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = \"\";\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-transform/lib/writer.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-transform/lib/writer.js\n// module chunks = main","/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nmodule.exports = function arrayEquals(array) {\n    // if the other array is a falsy value, return\n    if (!array)\n        return false;\n\n    // compare lengths - can save a lot of time\n    if (this.length != array.length)\n        return false;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (this[i] instanceof Array && array[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!arrayEquals.apply(this[i], [array[i]]))\n                return false;\n        } else if (this[i] != array[i]) {\n            // Warning - two different object instances will never be equal:\n            // {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/array-equals.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-translator/lib/array-equals.js\n// module chunks = main","/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexports.Interop = require('./interop');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/index.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-translator/lib/index.js\n// module chunks = main","/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* global RTCSessionDescription */\n/* global RTCIceCandidate */\n/* jshint -W097 */\n\"use strict\";\n\nvar transform = require('./transform');\nvar arrayEquals = require('./array-equals');\n\nfunction Interop() {\n\n    /**\n     * This map holds the most recent Unified Plan offer/answer SDP that was\n     * converted to Plan B, with the SDP type ('offer' or 'answer') as keys and\n     * the SDP string as values.\n     *\n     * @type {{}}\n     */\n    this.cache = {\n        mlB2UMap : {},\n        mlU2BMap : {}\n    };\n}\n\nmodule.exports = Interop;\n\n/**\n * Changes the candidate args to match with the related Unified Plan\n */\nInterop.prototype.candidateToUnifiedPlan = function(candidate) {\n    var cand = new RTCIceCandidate(candidate);\n\n    cand.sdpMLineIndex = this.cache.mlB2UMap[cand.sdpMLineIndex];\n    /* TODO: change sdpMid to (audio|video)-SSRC */\n\n    return cand;\n};\n\n/**\n * Changes the candidate args to match with the related Plan B\n */\nInterop.prototype.candidateToPlanB = function(candidate) {\n    var cand = new RTCIceCandidate(candidate);\n\n    if (cand.sdpMid.indexOf('audio') === 0) {\n      cand.sdpMid = 'audio';\n    } else if (cand.sdpMid.indexOf('video') === 0) {\n      cand.sdpMid = 'video';\n    } else {\n      throw new Error('candidate with ' + cand.sdpMid + ' not allowed');\n    }\n\n    cand.sdpMLineIndex = this.cache.mlU2BMap[cand.sdpMLineIndex];\n\n    return cand;\n};\n\n/**\n * Returns the index of the first m-line with the given media type and with a\n * direction which allows sending, in the last Unified Plan description with\n * type \"answer\" converted to Plan B. Returns {null} if there is no saved\n * answer, or if none of its m-lines with the given type allow sending.\n * @param type the media type (\"audio\" or \"video\").\n * @returns {*}\n */\nInterop.prototype.getFirstSendingIndexFromAnswer = function(type) {\n    if (!this.cache.answer) {\n        return null;\n    }\n\n    var session = transform.parse(this.cache.answer);\n    if (session && session.media && Array.isArray(session.media)){\n        for (var i = 0; i < session.media.length; i++) {\n            if (session.media[i].type == type &&\n                (!session.media[i].direction /* default to sendrecv */ ||\n                    session.media[i].direction === 'sendrecv' ||\n                    session.media[i].direction === 'sendonly')){\n                return i;\n            }\n        }\n    }\n\n    return null;\n};\n\n/**\n * This method transforms a Unified Plan SDP to an equivalent Plan B SDP. A\n * PeerConnection wrapper transforms the SDP to Plan B before passing it to the\n * application.\n *\n * @param desc\n * @returns {*}\n */\nInterop.prototype.toPlanB = function(desc) {\n    var self = this;\n    //#region Preliminary input validation.\n\n    if (typeof desc !== 'object' || desc === null ||\n        typeof desc.sdp !== 'string') {\n        console.warn('An empty description was passed as an argument.');\n        return desc;\n    }\n\n    // Objectify the SDP for easier manipulation.\n    var session = transform.parse(desc.sdp);\n\n    // If the SDP contains no media, there's nothing to transform.\n    if (typeof session.media === 'undefined' ||\n        !Array.isArray(session.media) || session.media.length === 0) {\n        console.warn('The description has no media.');\n        return desc;\n    }\n\n    // Try some heuristics to \"make sure\" this is a Unified Plan SDP. Plan B\n    // SDP has a video, an audio and a data \"channel\" at most.\n    if (session.media.length <= 3 && session.media.every(function(m) {\n            return ['video', 'audio', 'data'].indexOf(m.mid) !== -1;\n        })) {\n        console.warn('This description does not look like Unified Plan.');\n        return desc;\n    }\n\n    //#endregion\n\n    // HACK https://bugzilla.mozilla.org/show_bug.cgi?id=1113443\n    var sdp = desc.sdp;\n    var rewrite = false;\n    for (var i = 0; i < session.media.length; i++) {\n        var uLine = session.media[i];\n        uLine.rtp.forEach(function(rtp) {\n            if (rtp.codec === 'NULL')\n            {\n                rewrite = true;\n                var offer = transform.parse(self.cache.offer);\n                rtp.codec = offer.media[i].rtp[0].codec;\n            }\n        });\n    }\n    if (rewrite) {\n        sdp = transform.write(session);\n    }\n\n    // Unified Plan SDP is our \"precious\". Cache it for later use in the Plan B\n    // -> Unified Plan transformation.\n    this.cache[desc.type] = sdp;\n\n    //#region Convert from Unified Plan to Plan B.\n\n    // We rebuild the session.media array.\n    var media = session.media;\n    session.media = [];\n\n    // Associative array that maps channel types to channel objects for fast\n    // access to channel objects by their type, e.g. type2bl['audio']->channel\n    // obj.\n    var type2bl = {};\n\n    // Used to build the group:BUNDLE value after the channels construction\n    // loop.\n    var types = [];\n\n    media.forEach(function(uLine) {\n        // rtcp-mux is required in the Plan B SDP.\n        if ((typeof uLine.rtcpMux !== 'string' ||\n            uLine.rtcpMux !== 'rtcp-mux') &&\n            uLine.direction !== 'inactive') {\n            throw new Error('Cannot convert to Plan B because m-lines ' +\n                'without the rtcp-mux attribute were found.');\n        }\n\n        // If we don't have a channel for this uLine.type OR the selected is\n        // inactive, then select this uLine as the channel basis.\n        if (typeof type2bl[uLine.type] === 'undefined' ||\n            type2bl[uLine.type].direction === 'inactive') {\n            type2bl[uLine.type] = uLine;\n        }\n\n        if (uLine.protocol != type2bl[uLine.type].protocol) {\n          throw new Error('Cannot convert to Plan B because m-lines ' +\n              'have different protocols and this library does not have ' +\n              'support for that');\n        }\n\n        if (uLine.payloads != type2bl[uLine.type].payloads) {\n          throw new Error('Cannot convert to Plan B because m-lines ' +\n              'have different payloads and this library does not have ' +\n              'support for that');\n        }\n\n    });\n\n    // Implode the Unified Plan m-lines/tracks into Plan B channels.\n    media.forEach(function(uLine) {\n        if (uLine.type === 'application') {\n            session.media.push(uLine);\n            types.push(uLine.mid);\n            return;\n        }\n\n        // Add sources to the channel and handle a=msid.\n        if (typeof uLine.sources === 'object') {\n            Object.keys(uLine.sources).forEach(function(ssrc) {\n                if (typeof type2bl[uLine.type].sources !== 'object')\n                    type2bl[uLine.type].sources = {};\n\n                // Assign the sources to the channel.\n                type2bl[uLine.type].sources[ssrc] =\n                    uLine.sources[ssrc];\n\n                if (typeof uLine.msid !== 'undefined') {\n                    // In Plan B the msid is an SSRC attribute. Also, we don't\n                    // care about the obsolete label and mslabel attributes.\n                    //\n                    // Note that it is not guaranteed that the uLine will\n                    // have an msid. recvonly channels in particular don't have\n                    // one.\n                    type2bl[uLine.type].sources[ssrc].msid =\n                        uLine.msid;\n                }\n                // NOTE ssrcs in ssrc groups will share msids, as\n                // draft-uberti-rtcweb-plan-00 mandates.\n            });\n        }\n\n        // Add ssrc groups to the channel.\n        if (typeof uLine.ssrcGroups !== 'undefined' &&\n                Array.isArray(uLine.ssrcGroups)) {\n\n            // Create the ssrcGroups array, if it's not defined.\n            if (typeof type2bl[uLine.type].ssrcGroups === 'undefined' ||\n                    !Array.isArray(type2bl[uLine.type].ssrcGroups)) {\n                type2bl[uLine.type].ssrcGroups = [];\n            }\n\n            type2bl[uLine.type].ssrcGroups =\n                type2bl[uLine.type].ssrcGroups.concat(\n                    uLine.ssrcGroups);\n        }\n\n        if (type2bl[uLine.type] === uLine) {\n            // Plan B mids are in ['audio', 'video', 'data']\n            uLine.mid = uLine.type;\n\n            // Plan B doesn't support/need the bundle-only attribute.\n            delete uLine.bundleOnly;\n\n            // In Plan B the msid is an SSRC attribute.\n            delete uLine.msid;\n\n\t    if (uLine.type == media[0].type) {\n\t      types.unshift(uLine.type);\n\t      // Add the channel to the new media array.\n\t      session.media.unshift(uLine);\n\t    } else {\n\t      types.push(uLine.type);\n\t      // Add the channel to the new media array.\n\t      session.media.push(uLine);\n\t    }\n        }\n    });\n\n    if (typeof session.groups !== 'undefined') {\n      // We regenerate the BUNDLE group with the new mids.\n      session.groups.some(function(group) {\n\t  if (group.type === 'BUNDLE') {\n\t      group.mids = types.join(' ');\n\t      return true;\n\t  }\n      });\n    }\n\n    // msid semantic\n    session.msidSemantic = {\n        semantic: 'WMS',\n        token: '*'\n    };\n\n    var resStr = transform.write(session);\n\n    return new RTCSessionDescription({\n        type: desc.type,\n        sdp: resStr\n    });\n\n    //#endregion\n};\n\n/* follow rules defined in RFC4145 */\nfunction addSetupAttr(uLine) {\n    if (typeof uLine.setup === 'undefined') {\n        return;\n    }\n\n    if (uLine.setup === \"active\") {\n            uLine.setup = \"passive\";\n    } else if (uLine.setup === \"passive\") {\n        uLine.setup = \"active\";\n    }\n}\n\n/**\n * This method transforms a Plan B SDP to an equivalent Unified Plan SDP. A\n * PeerConnection wrapper transforms the SDP to Unified Plan before passing it\n * to FF.\n *\n * @param desc\n * @returns {*}\n */\nInterop.prototype.toUnifiedPlan = function(desc) {\n    var self = this;\n    //#region Preliminary input validation.\n\n    if (typeof desc !== 'object' || desc === null ||\n        typeof desc.sdp !== 'string') {\n        console.warn('An empty description was passed as an argument.');\n        return desc;\n    }\n\n    var session = transform.parse(desc.sdp);\n\n    // If the SDP contains no media, there's nothing to transform.\n    if (typeof session.media === 'undefined' ||\n        !Array.isArray(session.media) || session.media.length === 0) {\n        console.warn('The description has no media.');\n        return desc;\n    }\n\n    // Try some heuristics to \"make sure\" this is a Plan B SDP. Plan B SDP has\n    // a video, an audio and a data \"channel\" at most.\n    if (session.media.length > 3 || !session.media.every(function(m) {\n            return ['video', 'audio', 'data'].indexOf(m.mid) !== -1;\n        })) {\n        console.warn('This description does not look like Plan B.');\n        return desc;\n    }\n\n    // Make sure this Plan B SDP can be converted to a Unified Plan SDP.\n    var mids = [];\n    session.media.forEach(function(m) {\n        mids.push(m.mid);\n    });\n\n    var hasBundle = false;\n    if (typeof session.groups !== 'undefined' &&\n        Array.isArray(session.groups)) {\n        hasBundle = session.groups.every(function(g) {\n            return g.type !== 'BUNDLE' ||\n                arrayEquals.apply(g.mids.sort(), [mids.sort()]);\n        });\n    }\n\n    if (!hasBundle) {\n        var mustBeBundle = false;\n\n        session.media.forEach(function(m) {\n            if (m.direction !== 'inactive') {\n                mustBeBundle = true;\n            }\n        });\n\n        if (mustBeBundle) {\n            throw new Error(\"Cannot convert to Unified Plan because m-lines that\" +\n              \" are not bundled were found.\");\n        }\n    }\n\n    //#endregion\n\n\n    //#region Convert from Plan B to Unified Plan.\n\n    // Unfortunately, a Plan B offer/answer doesn't have enough information to\n    // rebuild an equivalent Unified Plan offer/answer.\n    //\n    // For example, if this is a local answer (in Unified Plan style) that we\n    // convert to Plan B prior to handing it over to the application (the\n    // PeerConnection wrapper called us, for instance, after a successful\n    // createAnswer), we want to remember the m-line at which we've seen the\n    // (local) SSRC. That's because when the application wants to do call the\n    // SLD method, forcing us to do the inverse transformation (from Plan B to\n    // Unified Plan), we need to know to which m-line to assign the (local)\n    // SSRC. We also need to know all the other m-lines that the original\n    // answer had and include them in the transformed answer as well.\n    //\n    // Another example is if this is a remote offer that we convert to Plan B\n    // prior to giving it to the application, we want to remember the mid at\n    // which we've seen the (remote) SSRC.\n    //\n    // In the iteration that follows, we use the cached Unified Plan (if it\n    // exists) to assign mids to ssrcs.\n\n    var type;\n    if (desc.type === 'answer') {\n        type = 'offer';\n    } else if (desc.type === 'offer') {\n        type = 'answer';\n    } else {\n        throw new Error(\"Type '\" + desc.type + \"' not supported.\");\n    }\n\n    var cached;\n    if (typeof this.cache[type] !== 'undefined') {\n        cached = transform.parse(this.cache[type]);\n    }\n\n    var recvonlySsrcs = {\n        audio: {},\n        video: {}\n    };\n\n    // A helper map that sends mids to m-line objects. We use it later to\n    // rebuild the Unified Plan style session.media array.\n    var mid2ul = {};\n    var bIdx = 0;\n    var uIdx = 0;\n\n    var sources2ul = {};\n\n    var candidates;\n    var iceUfrag;\n    var icePwd;\n    var fingerprint;\n    var payloads = {};\n    var rtcpFb = {};\n    var rtp = {};\n\n    session.media.forEach(function(bLine) {\n        if ((typeof bLine.rtcpMux !== 'string' ||\n            bLine.rtcpMux !== 'rtcp-mux') &&\n            bLine.direction !== 'inactive') {\n            throw new Error(\"Cannot convert to Unified Plan because m-lines \" +\n                \"without the rtcp-mux attribute were found.\");\n        }\n\n        if (bLine.type === 'application') {\n            mid2ul[bLine.mid] = bLine;\n            return;\n        }\n\n        // With rtcp-mux and bundle all the channels should have the same ICE\n        // stuff.\n        var sources = bLine.sources;\n        var ssrcGroups = bLine.ssrcGroups;\n        var port = bLine.port;\n\n        /* Chrome adds different candidates even using bundle, so we concat the candidates list */\n        if (typeof bLine.candidates != 'undefined') {\n            if (typeof candidates != 'undefined') {\n                candidates = candidates.concat(bLine.candidates);\n            } else {\n                candidates = bLine.candidates;\n            }\n        }\n\n        if ((typeof iceUfrag != 'undefined') && (typeof bLine.iceUfrag != 'undefined') && (iceUfrag != bLine.iceUfrag)) {\n            throw new Error(\"Only BUNDLE supported, iceUfrag must be the same for all m-lines.\\n\" +\n                            \"\\tLast iceUfrag: \" + iceUfrag + \"\\n\" +\n                            \"\\tNew iceUfrag: \" + bLine.iceUfrag\n            );\n        }\n\n        if (typeof bLine.iceUfrag != 'undefined') {\n                iceUfrag = bLine.iceUfrag;\n        }\n\n        if ((typeof icePwd != 'undefined') && (typeof bLine.icePwd != 'undefined') && (icePwd != bLine.icePwd)) {\n            throw new Error(\"Only BUNDLE supported, icePwd must be the same for all m-lines.\\n\" +\n                            \"\\tLast icePwd: \" + icePwd + \"\\n\" +\n                            \"\\tNew icePwd: \" + bLine.icePwd\n            );\n        }\n\n        if (typeof bLine.icePwd != 'undefined') {\n                icePwd = bLine.icePwd;\n        }\n\n        if ((typeof fingerprint != 'undefined') && (typeof bLine.fingerprint != 'undefined') &&\n            (fingerprint.type != bLine.fingerprint.type || fingerprint.hash != bLine.fingerprint.hash)) {\n            throw new Error(\"Only BUNDLE supported, fingerprint must be the same for all m-lines.\\n\" +\n                            \"\\tLast fingerprint: \" + JSON.stringify(fingerprint) + \"\\n\" +\n                            \"\\tNew fingerprint: \" + JSON.stringify(bLine.fingerprint)\n            );\n        }\n\n        if (typeof bLine.fingerprint != 'undefined') {\n                fingerprint = bLine.fingerprint;\n        }\n\n        payloads[bLine.type] = bLine.payloads;\n        rtcpFb[bLine.type] = bLine.rtcpFb;\n        rtp[bLine.type] = bLine.rtp;\n\n        // inverted ssrc group map\n        var ssrc2group = {};\n        if (typeof ssrcGroups !== 'undefined' && Array.isArray(ssrcGroups)) {\n            ssrcGroups.forEach(function (ssrcGroup) {\n                // XXX This might brake if an SSRC is in more than one group\n                // for some reason.\n                if (typeof ssrcGroup.ssrcs !== 'undefined' &&\n                    Array.isArray(ssrcGroup.ssrcs)) {\n                    ssrcGroup.ssrcs.forEach(function (ssrc) {\n                        if (typeof ssrc2group[ssrc] === 'undefined') {\n                            ssrc2group[ssrc] = [];\n                        }\n\n                        ssrc2group[ssrc].push(ssrcGroup);\n                    });\n                }\n            });\n        }\n\n        // ssrc to m-line index.\n        var ssrc2ml = {};\n\n        if (typeof sources === 'object') {\n\n            // We'll use the \"bLine\" object as a prototype for each new \"mLine\"\n            // that we create, but first we need to clean it up a bit.\n            delete bLine.sources;\n            delete bLine.ssrcGroups;\n            delete bLine.candidates;\n            delete bLine.iceUfrag;\n            delete bLine.icePwd;\n            delete bLine.fingerprint;\n            delete bLine.port;\n            delete bLine.mid;\n\n            // Explode the Plan B channel sources with one m-line per source.\n            Object.keys(sources).forEach(function(ssrc) {\n\n                // The (unified) m-line for this SSRC. We either create it from\n                // scratch or, if it's a grouped SSRC, we re-use a related\n                // mline. In other words, if the source is grouped with another\n                // source, put the two together in the same m-line.\n                var uLine;\n\n                // We assume here that we are the answerer in the O/A, so any\n                // offers which we translate come from the remote side, while\n                // answers are local. So the check below is to make that we\n                // handle receive-only SSRCs in a special way only if they come\n                // from the remote side.\n                if (desc.type==='offer') {\n                    // We want to detect SSRCs which are used by a remote peer\n                    // in an m-line with direction=recvonly (i.e. they are\n                    // being used for RTCP only).\n                    // This information would have gotten lost if the remote\n                    // peer used Unified Plan and their local description was\n                    // translated to Plan B. So we use the lack of an MSID\n                    // attribute to deduce a \"receive only\" SSRC.\n                    if (!sources[ssrc].msid) {\n                        recvonlySsrcs[bLine.type][ssrc] = sources[ssrc];\n                        // Receive-only SSRCs must not create new m-lines. We\n                        // will assign them to an existing m-line later.\n                        return;\n                    }\n                }\n\n                if (typeof ssrc2group[ssrc] !== 'undefined' &&\n                    Array.isArray(ssrc2group[ssrc])) {\n                    ssrc2group[ssrc].some(function (ssrcGroup) {\n                        // ssrcGroup.ssrcs *is* an Array, no need to check\n                        // again here.\n                        return ssrcGroup.ssrcs.some(function (related) {\n                            if (typeof ssrc2ml[related] === 'object') {\n                                uLine = ssrc2ml[related];\n                                return true;\n                            }\n                        });\n                    });\n                }\n\n                if (typeof uLine === 'object') {\n                    // the m-line already exists. Just add the source.\n                    uLine.sources[ssrc] = sources[ssrc];\n                    delete sources[ssrc].msid;\n                } else {\n                    // Use the \"bLine\" as a prototype for the \"uLine\".\n                    uLine = Object.create(bLine);\n                    ssrc2ml[ssrc] = uLine;\n\n                    if (typeof sources[ssrc].msid !== 'undefined') {\n                        // Assign the msid of the source to the m-line. Note\n                        // that it is not guaranteed that the source will have\n                        // msid. In particular \"recvonly\" sources don't have an\n                        // msid. Note that \"recvonly\" is a term only defined\n                        // for m-lines.\n                        uLine.msid = sources[ssrc].msid;\n                        delete sources[ssrc].msid;\n                    }\n\n                    // We assign one SSRC per media line.\n                    uLine.sources = {};\n                    uLine.sources[ssrc] = sources[ssrc];\n                    uLine.ssrcGroups = ssrc2group[ssrc];\n\n                    // Use the cached Unified Plan SDP (if it exists) to assign\n                    // SSRCs to mids.\n                    if (typeof cached !== 'undefined' &&\n                        typeof cached.media !== 'undefined' &&\n                        Array.isArray(cached.media)) {\n\n                        cached.media.forEach(function (m) {\n                            if (typeof m.sources === 'object') {\n                                Object.keys(m.sources).forEach(function (s) {\n                                    if (s === ssrc) {\n                                        uLine.mid = m.mid;\n                                    }\n                                });\n                            }\n                        });\n                    }\n\n                    if (typeof uLine.mid === 'undefined') {\n\n                        // If this is an SSRC that we see for the first time\n                        // assign it a new mid. This is typically the case when\n                        // this method is called to transform a remote\n                        // description for the first time or when there is a\n                        // new SSRC in the remote description because a new\n                        // peer has joined the conference. Local SSRCs should\n                        // have already been added to the map in the toPlanB\n                        // method.\n                        //\n                        // Because FF generates answers in Unified Plan style,\n                        // we MUST already have a cached answer with all the\n                        // local SSRCs mapped to some m-line/mid.\n\n                        uLine.mid = [bLine.type, '-', ssrc].join('');\n                    }\n\n                    // Include the candidates in the 1st media line.\n                    uLine.candidates = candidates;\n                    uLine.iceUfrag = iceUfrag;\n                    uLine.icePwd = icePwd;\n                    uLine.fingerprint = fingerprint;\n                    uLine.port = port;\n\n                    mid2ul[uLine.mid] = uLine;\n                    sources2ul[uIdx] = uLine.sources;\n\n                    self.cache.mlU2BMap[uIdx] = bIdx;\n                    if (typeof self.cache.mlB2UMap[bIdx] === 'undefined') {\n                      self.cache.mlB2UMap[bIdx] = uIdx;\n                    }\n                    uIdx++;\n                }\n            });\n        } else {\n          var uLine = bLine;\n\n          uLine.candidates = candidates;\n          uLine.iceUfrag = iceUfrag;\n          uLine.icePwd = icePwd;\n          uLine.fingerprint = fingerprint;\n          uLine.port = port;\n\n          mid2ul[uLine.mid] = uLine;\n\n          self.cache.mlU2BMap[uIdx] = bIdx;\n          if (typeof self.cache.mlB2UMap[bIdx] === 'undefined') {\n            self.cache.mlB2UMap[bIdx] = uIdx;\n          }\n        }\n\n        bIdx++;\n    });\n\n    // Rebuild the media array in the right order and add the missing mLines\n    // (missing from the Plan B SDP).\n    session.media = [];\n    mids = []; // reuse\n\n    if (desc.type === 'answer') {\n\n        // The media lines in the answer must match the media lines in the\n        // offer. The order is important too. Here we assume that Firefox is\n        // the answerer, so we merely have to use the reconstructed (unified)\n        // answer to update the cached (unified) answer accordingly.\n        //\n        // In the general case, one would have to use the cached (unified)\n        // offer to find the m-lines that are missing from the reconstructed\n        // answer, potentially grabbing them from the cached (unified) answer.\n        // One has to be careful with this approach because inactive m-lines do\n        // not always have an mid, making it tricky (impossible?) to find where\n        // exactly and which m-lines are missing from the reconstructed answer.\n\n        for (var i = 0; i < cached.media.length; i++) {\n            var uLine = cached.media[i];\n\n            delete uLine.msid;\n            delete uLine.sources;\n            delete uLine.ssrcGroups;\n\n            if (typeof sources2ul[i] === 'undefined') {\n              if (!uLine.direction\n                  || uLine.direction === 'sendrecv')\n                  uLine.direction = 'recvonly';\n              else if (uLine.direction === 'sendonly')\n                  uLine.direction = 'inactive';\n            } else {\n              if (!uLine.direction\n                  || uLine.direction === 'sendrecv')\n                  uLine.direction = 'sendrecv';\n              else if (uLine.direction === 'recvonly')\n                  uLine.direction = 'sendonly';\n            }\n\n            uLine.sources = sources2ul[i];\n            uLine.candidates = candidates;\n            uLine.iceUfrag = iceUfrag;\n            uLine.icePwd = icePwd;\n            uLine.fingerprint = fingerprint;\n\n            uLine.rtp = rtp[uLine.type];\n            uLine.payloads = payloads[uLine.type];\n            uLine.rtcpFb = rtcpFb[uLine.type];\n\n            session.media.push(uLine);\n\n            if (typeof uLine.mid === 'string') {\n                // inactive lines don't/may not have an mid.\n                mids.push(uLine.mid);\n            }\n        }\n    } else {\n\n        // SDP offer/answer (and the JSEP spec) forbids removing an m-section\n        // under any circumstances. If we are no longer interested in sending a\n        // track, we just remove the msid and ssrc attributes and set it to\n        // either a=recvonly (as the reofferer, we must use recvonly if the\n        // other side was previously sending on the m-section, but we can also\n        // leave the possibility open if it wasn't previously in use), or\n        // a=inactive.\n\n        if (typeof cached !== 'undefined' &&\n            typeof cached.media !== 'undefined' &&\n            Array.isArray(cached.media)) {\n            cached.media.forEach(function(uLine) {\n                mids.push(uLine.mid);\n                if (typeof mid2ul[uLine.mid] !== 'undefined') {\n                    session.media.push(mid2ul[uLine.mid]);\n                } else {\n                    delete uLine.msid;\n                    delete uLine.sources;\n                    delete uLine.ssrcGroups;\n\n                    if (!uLine.direction\n                        || uLine.direction === 'sendrecv') {\n                        uLine.direction = 'sendonly';\n                    }\n                    if (!uLine.direction\n                        || uLine.direction === 'recvonly') {\n                        uLine.direction = 'inactive';\n                    }\n\n                    addSetupAttr (uLine);\n                    session.media.push(uLine);\n                }\n            });\n        }\n\n        // Add all the remaining (new) m-lines of the transformed SDP.\n        Object.keys(mid2ul).forEach(function(mid) {\n            if (mids.indexOf(mid) === -1) {\n                mids.push(mid);\n                if (mid2ul[mid].direction === 'recvonly') {\n                    // This is a remote recvonly channel. Add its SSRC to the\n                    // appropriate sendrecv or sendonly channel.\n                    // TODO(gp) what if we don't have sendrecv/sendonly\n                    // channel?\n\n                    var done = false;\n\n                    session.media.some(function (uLine) {\n                        if ((uLine.direction === 'sendrecv' ||\n                            uLine.direction === 'sendonly') &&\n                            uLine.type === mid2ul[mid].type) {\n                            // mid2ul[mid] shouldn't have any ssrc-groups\n                            Object.keys(mid2ul[mid].sources).forEach(\n                                function (ssrc) {\n                                uLine.sources[ssrc] =\n                                    mid2ul[mid].sources[ssrc];\n                            });\n\n                            done = true;\n                            return true;\n                        }\n                    });\n\n                    if (!done) {\n                        session.media.push(mid2ul[mid]);\n                    }\n                } else {\n                    session.media.push(mid2ul[mid]);\n                }\n            }\n        });\n    }\n\n    // After we have constructed the Plan Unified m-lines we can figure out\n    // where (in which m-line) to place the 'recvonly SSRCs'.\n    // Note: we assume here that we are the answerer in the O/A, so any offers\n    // which we translate come from the remote side, while answers are local\n    // (and so our last local description is cached as an 'answer').\n    [\"audio\", \"video\"].forEach(function (type) {\n        if (!session || !session.media || !Array.isArray(session.media))\n            return;\n\n        var idx = null;\n        if (Object.keys(recvonlySsrcs[type]).length > 0) {\n            idx = self.getFirstSendingIndexFromAnswer(type);\n            if (idx === null){\n                // If this is the first offer we receive, we don't have a\n                // cached answer. Assume that we will be sending media using\n                // the first m-line for each media type.\n\n                for (var i = 0; i < session.media.length; i++) {\n                    if (session.media[i].type === type) {\n                        idx = i;\n                        break;\n                    }\n                }\n            }\n        }\n\n        if (idx && session.media.length > idx) {\n            var mLine = session.media[idx];\n            Object.keys(recvonlySsrcs[type]).forEach(function(ssrc) {\n                if (mLine.sources && mLine.sources[ssrc]) {\n                    console.warn(\"Replacing an existing SSRC.\");\n                }\n                if (!mLine.sources) {\n                    mLine.sources = {};\n                }\n\n                mLine.sources[ssrc] = recvonlySsrcs[type][ssrc];\n            });\n        }\n    });\n\n    if (typeof session.groups !== 'undefined') {\n      // We regenerate the BUNDLE group (since we regenerated the mids)\n      session.groups.some(function(group) {\n\t  if (group.type === 'BUNDLE') {\n\t      group.mids = mids.join(' ');\n\t      return true;\n\t  }\n      });\n    }\n\n    // msid semantic\n    session.msidSemantic = {\n        semantic: 'WMS',\n        token: '*'\n    };\n\n    var resStr = transform.write(session);\n\n    // Cache the transformed SDP (Unified Plan) for later re-use in this\n    // function.\n    this.cache[desc.type] = resStr;\n\n    return new RTCSessionDescription({\n        type: desc.type,\n        sdp: resStr\n    });\n\n    //#endregion\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/interop.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-translator/lib/interop.js\n// module chunks = main","/* Copyright @ 2015 Atlassian Pty Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar transform = require('sdp-transform');\n\nexports.write = function(session, opts) {\n\n  if (typeof session !== 'undefined' &&\n      typeof session.media !== 'undefined' &&\n      Array.isArray(session.media)) {\n\n    session.media.forEach(function (mLine) {\n      // expand sources to ssrcs\n      if (typeof mLine.sources !== 'undefined' &&\n        Object.keys(mLine.sources).length !== 0) {\n          mLine.ssrcs = [];\n          Object.keys(mLine.sources).forEach(function (ssrc) {\n            var source = mLine.sources[ssrc];\n            Object.keys(source).forEach(function (attribute) {\n              mLine.ssrcs.push({\n                id: ssrc,\n                attribute: attribute,\n                value: source[attribute]\n              });\n            });\n          });\n          delete mLine.sources;\n        }\n\n      // join ssrcs in ssrc groups\n      if (typeof mLine.ssrcGroups !== 'undefined' &&\n        Array.isArray(mLine.ssrcGroups)) {\n          mLine.ssrcGroups.forEach(function (ssrcGroup) {\n            if (typeof ssrcGroup.ssrcs !== 'undefined' &&\n                Array.isArray(ssrcGroup.ssrcs)) {\n              ssrcGroup.ssrcs = ssrcGroup.ssrcs.join(' ');\n            }\n          });\n        }\n    });\n  }\n\n  // join group mids\n  if (typeof session !== 'undefined' &&\n      typeof session.groups !== 'undefined' && Array.isArray(session.groups)) {\n\n    session.groups.forEach(function (g) {\n      if (typeof g.mids !== 'undefined' && Array.isArray(g.mids)) {\n        g.mids = g.mids.join(' ');\n      }\n    });\n  }\n\n  return transform.write(session, opts);\n};\n\nexports.parse = function(sdp) {\n  var session = transform.parse(sdp);\n\n  if (typeof session !== 'undefined' && typeof session.media !== 'undefined' &&\n      Array.isArray(session.media)) {\n\n    session.media.forEach(function (mLine) {\n      // group sources attributes by ssrc\n      if (typeof mLine.ssrcs !== 'undefined' && Array.isArray(mLine.ssrcs)) {\n        mLine.sources = {};\n        mLine.ssrcs.forEach(function (ssrc) {\n          if (!mLine.sources[ssrc.id])\n          mLine.sources[ssrc.id] = {};\n        mLine.sources[ssrc.id][ssrc.attribute] = ssrc.value;\n        });\n\n        delete mLine.ssrcs;\n      }\n\n      // split ssrcs in ssrc groups\n      if (typeof mLine.ssrcGroups !== 'undefined' &&\n        Array.isArray(mLine.ssrcGroups)) {\n          mLine.ssrcGroups.forEach(function (ssrcGroup) {\n            if (typeof ssrcGroup.ssrcs === 'string') {\n              ssrcGroup.ssrcs = ssrcGroup.ssrcs.split(' ');\n            }\n          });\n        }\n    });\n  }\n  // split group mids\n  if (typeof session !== 'undefined' &&\n      typeof session.groups !== 'undefined' && Array.isArray(session.groups)) {\n\n    session.groups.forEach(function (g) {\n      if (typeof g.mids === 'string') {\n        g.mids = g.mids.split(' ');\n      }\n    });\n  }\n\n  return session;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp-translator/lib/transform.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp-translator/lib/transform.js\n// module chunks = main"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n}\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/sdp/sdp.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/sdp/sdp.js\n// module chunks = main","/**\n * UAParser.js v0.7.17\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>\n * Dual licensed under GPLv2 & MIT\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.17',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var margedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    margedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    margedRegexes[i] = regexes[i];\n                }\n            }\n            return margedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            //var result = {},\n            var i = 0, j, k, p, q, matches, match;//, args = arguments;\n\n            /*// construct object barebones\n            for (p = 0; p < args[1].length; p++) {\n                q = args[1][p];\n                result[typeof q === OBJ_TYPE ? q[0] : q] = undefined;\n            }*/\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n            // console.log(this);\n            //return this;\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]+)*/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n            // Trident based\n            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]+)*/i,                                            // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser\n            ], [NAME, VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge)\\/((\\d+)?[\\w\\.]+)/i                                          // Microsoft Edge\n            ], [NAME, VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i\n                                                                                // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(konqueror)\\/([\\w\\.]+)/i,                                          // Konqueror\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/([\\w\\.-]+)/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]+)*/i,                                        // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n\n            /* /////////////////////\n            // Media players BEGIN\n            ////////////////////////\n\n            , [\n\n            /(apple(?:coremedia|))\\/((\\d+)[\\w\\._]+)/i,                          // Generic Apple CoreMedia\n            /(coremedia) v((\\d+)[\\w\\._]+)/i\n            ], [NAME, VERSION], [\n\n            /(aqualung|lyssna|bsplayer)\\/((\\d+)?[\\w\\.-]+)/i                     // Aqualung/Lyssna/BSPlayer\n            ], [NAME, VERSION], [\n\n            /(ares|ossproxy)\\s((\\d+)[\\w\\.-]+)/i                                 // Ares/OSSProxy\n            ], [NAME, VERSION], [\n\n            /(audacious|audimusicstream|amarok|bass|core|dalvik|gnomemplayer|music on console|nsplayer|psp-internetradioplayer|videos)\\/((\\d+)[\\w\\.-]+)/i,\n                                                                                // Audacious/AudiMusicStream/Amarok/BASS/OpenCORE/Dalvik/GnomeMplayer/MoC\n                                                                                // NSPlayer/PSP-InternetRadioPlayer/Videos\n            /(clementine|music player daemon)\\s((\\d+)[\\w\\.-]+)/i,               // Clementine/MPD\n            /(lg player|nexplayer)\\s((\\d+)[\\d\\.]+)/i,\n            /player\\/(nexplayer|lg player)\\s((\\d+)[\\w\\.-]+)/i                   // NexPlayer/LG Player\n            ], [NAME, VERSION], [\n            /(nexplayer)\\s((\\d+)[\\w\\.-]+)/i                                     // Nexplayer\n            ], [NAME, VERSION], [\n\n            /(flrp)\\/((\\d+)[\\w\\.-]+)/i                                          // Flip Player\n            ], [[NAME, 'Flip Player'], VERSION], [\n\n            /(fstream|nativehost|queryseekspider|ia-archiver|facebookexternalhit)/i\n                                                                                // FStream/NativeHost/QuerySeekSpider/IA Archiver/facebookexternalhit\n            ], [NAME], [\n\n            /(gstreamer) souphttpsrc (?:\\([^\\)]+\\)){0,1} libsoup\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // Gstreamer\n            ], [NAME, VERSION], [\n\n            /(htc streaming player)\\s[\\w_]+\\s\\/\\s((\\d+)[\\d\\.]+)/i,              // HTC Streaming Player\n            /(java|python-urllib|python-requests|wget|libcurl)\\/((\\d+)[\\w\\.-_]+)/i,\n                                                                                // Java/urllib/requests/wget/cURL\n            /(lavf)((\\d+)[\\d\\.]+)/i                                             // Lavf (FFMPEG)\n            ], [NAME, VERSION], [\n\n            /(htc_one_s)\\/((\\d+)[\\d\\.]+)/i                                      // HTC One S\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(mplayer)(?:\\s|\\/)(?:(?:sherpya-){0,1}svn)(?:-|\\s)(r\\d+(?:-\\d+[\\w\\.-]+){0,1})/i\n                                                                                // MPlayer SVN\n            ], [NAME, VERSION], [\n\n            /(mplayer)(?:\\s|\\/|[unkow-]+)((\\d+)[\\w\\.-]+)/i                      // MPlayer\n            ], [NAME, VERSION], [\n\n            /(mplayer)/i,                                                       // MPlayer (no other info)\n            /(yourmuze)/i,                                                      // YourMuze\n            /(media player classic|nero showtime)/i                             // Media Player Classic/Nero ShowTime\n            ], [NAME], [\n\n            /(nero (?:home|scout))\\/((\\d+)[\\w\\.-]+)/i                           // Nero Home/Nero Scout\n            ], [NAME, VERSION], [\n\n            /(nokia\\d+)\\/((\\d+)[\\w\\.-]+)/i                                      // Nokia\n            ], [NAME, VERSION], [\n\n            /\\s(songbird)\\/((\\d+)[\\w\\.-]+)/i                                    // Songbird/Philips-Songbird\n            ], [NAME, VERSION], [\n\n            /(winamp)3 version ((\\d+)[\\w\\.-]+)/i,                               // Winamp\n            /(winamp)\\s((\\d+)[\\w\\.-]+)/i,\n            /(winamp)mpeg\\/((\\d+)[\\w\\.-]+)/i\n            ], [NAME, VERSION], [\n\n            /(ocms-bot|tapinradio|tunein radio|unknown|winamp|inlight radio)/i  // OCMS-bot/tap in radio/tunein/unknown/winamp (no other info)\n                                                                                // inlight radio\n            ], [NAME], [\n\n            /(quicktime|rma|radioapp|radioclientapplication|soundtap|totem|stagefright|streamium)\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // QuickTime/RealMedia/RadioApp/RadioClientApplication/\n                                                                                // SoundTap/Totem/Stagefright/Streamium\n            ], [NAME, VERSION], [\n\n            /(smp)((\\d+)[\\d\\.]+)/i                                              // SMP\n            ], [NAME, VERSION], [\n\n            /(vlc) media player - version ((\\d+)[\\w\\.]+)/i,                     // VLC Videolan\n            /(vlc)\\/((\\d+)[\\w\\.-]+)/i,\n            /(xbmc|gvfs|xine|xmms|irapp)\\/((\\d+)[\\w\\.-]+)/i,                    // XBMC/gvfs/Xine/XMMS/irapp\n            /(foobar2000)\\/((\\d+)[\\d\\.]+)/i,                                    // Foobar2000\n            /(itunes)\\/((\\d+)[\\d\\.]+)/i                                         // iTunes\n            ], [NAME, VERSION], [\n\n            /(wmplayer)\\/((\\d+)[\\w\\.-]+)/i,                                     // Windows Media Player\n            /(windows-media-player)\\/((\\d+)[\\w\\.-]+)/i\n            ], [[NAME, /-/g, ' '], VERSION], [\n\n            /windows\\/((\\d+)[\\w\\.-]+) upnp\\/[\\d\\.]+ dlnadoc\\/[\\d\\.]+ (home media server)/i\n                                                                                // Windows Media Server\n            ], [VERSION, [NAME, 'Windows']], [\n\n            /(com\\.riseupradioalarm)\\/((\\d+)[\\d\\.]*)/i                          // RiseUP Radio Alarm\n            ], [NAME, VERSION], [\n\n            /(rad.io)\\s((\\d+)[\\d\\.]+)/i,                                        // Rad.io\n            /(radio.(?:de|at|fr))\\s((\\d+)[\\d\\.]+)/i\n            ], [[NAME, 'rad.io'], VERSION]\n\n            //////////////////////\n            // Media players END\n            ////////////////////*/\n\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+;))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i                         // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple']], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/[\\w\\.]+.*silk\\//i                               // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/[\\w\\.]+.*silk\\//i                  // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]+)*/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))/i                         // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i,                               // HTC\n            /(zte)-(\\w+)*/i,                                                    // ZTE\n            /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]+)*/i\n                                                                                // Alcatel/GeeksPhone/Lenovo/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p)/i                                                      // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?(:?\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w+)*/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)*/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w+)*/i                                                       // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]+)*/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android\\s3\\.[\\s\\w;-]{10}(a\\d{3})/i                                 // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w+)*/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google']], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)\\s/i                                          // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel xl|pixel)\\s/i                                   // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+(\\w+)\\s+build\\/hm\\1/i,                                    // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d\\w)?)\\s+build/i,    // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+)?)\\s+build/i      // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)?(?:[\\s_]*[\\w\\s]+)?)\\s+build/i          // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu Tablet\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, TABLET]], [\n\n            /android.+a000(1)\\s+build/i                                         // OnePlus\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Venue[\\d\\s]*)\\s+build/i                          // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(zte)?.+(k\\d{2})\\s+build/i                        // ZTE K Series Tablet\n            ], [[VENDOR, 'ZTE'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2}x?.*)\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(.+)\\s+build/i          // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?.+)\\s+build/i                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?.+)\\s+build/i                         // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-?)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(.*\\b)\\s+build/i             // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q.+)\\s+build/i                           // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /(android.+)[;\\/].+build/i                                          // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n\n\n        /*//////////////////////////\n            // TODO: move to string map\n            ////////////////////////////\n\n            /(C6603)/i                                                          // Sony Xperia Z C6603\n            ], [[MODEL, 'Xperia Z C6603'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n            /(C6903)/i                                                          // Sony Xperia Z 1\n            ], [[MODEL, 'Xperia Z 1'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /(SM-G900[F|H])/i                                                   // Samsung Galaxy S5\n            ], [[MODEL, 'Galaxy S5'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G7102)/i                                                       // Samsung Galaxy Grand 2\n            ], [[MODEL, 'Galaxy Grand 2'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G530H)/i                                                       // Samsung Galaxy Grand Prime\n            ], [[MODEL, 'Galaxy Grand Prime'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G313HZ)/i                                                      // Samsung Galaxy V\n            ], [[MODEL, 'Galaxy V'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T805)/i                                                        // Samsung Galaxy Tab S 10.5\n            ], [[MODEL, 'Galaxy Tab S 10.5'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n            /(SM-G800F)/i                                                       // Samsung Galaxy S5 Mini\n            ], [[MODEL, 'Galaxy S5 Mini'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T311)/i                                                        // Samsung Galaxy Tab 3 8.0\n            ], [[MODEL, 'Galaxy Tab 3 8.0'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n\n            /(T3C)/i                                                            // Advan Vandroid T3C\n            ], [MODEL, [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN T1J\\+)/i                                                    // Advan Vandroid T1J+\n            ], [[MODEL, 'Vandroid T1J+'], [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN S4A)/i                                                      // Advan Vandroid S4A\n            ], [[MODEL, 'Vandroid S4A'], [VENDOR, 'Advan'], [TYPE, MOBILE]], [\n\n            /(V972M)/i                                                          // ZTE V972M\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n\n            /(i-mobile)\\s(IQ\\s[\\d\\.]+)/i                                        // i-mobile IQ\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(IQ6.3)/i                                                          // i-mobile IQ IQ 6.3\n            ], [[MODEL, 'IQ 6.3'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n            /(i-mobile)\\s(i-style\\s[\\d\\.]+)/i                                   // i-mobile i-STYLE\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(i-STYLE2.1)/i                                                     // i-mobile i-STYLE 2.1\n            ], [[MODEL, 'i-STYLE 2.1'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n\n            /(mobiistar touch LAI 512)/i                                        // mobiistar touch LAI 512\n            ], [[MODEL, 'Touch LAI 512'], [VENDOR, 'mobiistar'], [TYPE, MOBILE]], [\n\n            /////////////\n            // END TODO\n            ///////////*/\n\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]+).*(gecko)/i                                           // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s]+\\w)*/i,                  // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]+)*/i,                                    // Blackberry\n            /(tizen)[\\/\\s]([\\w\\.]+)/i,                                          // Tizen\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[\\/\\s-]?([\\w\\.]+)*/i,\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki\n            /linux;.+(sailfish);/i                                              // Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i                 // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w+)*/i,                                           // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]+)*/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]+)*/i,                                       // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]+)*/i                                               // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.]+\\d)*/i                                           // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i                   // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                  // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]+(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i                 // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]+)*/i,                            // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,                               // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS\n            /(unix)\\s?([\\w\\.]+)*/i                                              // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    /*\n    var Browser = function (name, version) {\n        this[NAME] = name;\n        this[VERSION] = version;\n    };\n    var CPU = function (arch) {\n        this[ARCHITECTURE] = arch;\n    };\n    var Device = function (vendor, model, type) {\n        this[VENDOR] = vendor;\n        this[MODEL] = model;\n        this[TYPE] = type;\n    };\n    var Engine = Browser;\n    var OS = Browser;\n    */\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n        //var browser = new Browser();\n        //var cpu = new CPU();\n        //var device = new Device();\n        //var engine = new Engine();\n        //var os = new OS();\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            //browser = new Browser();\n            //cpu = new CPU();\n            //device = new Device();\n            //engine = new Engine();\n            //os = new OS();\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    //UAParser.Utils = util;\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        // TODO: test!!!!!!!!\n        /*\n        if (require && require.main === module && process) {\n            // cli\n            var jsonize = function (arr) {\n                var res = [];\n                for (var i in arr) {\n                    res.push(new UAParser(arr[i]).getResult());\n                }\n                process.stdout.write(JSON.stringify(res, null, 2) + '\\n');\n            };\n            if (process.stdin.isTTY) {\n                // via args\n                jsonize(process.argv.slice(2));\n            } else {\n                // via pipe\n                var str = '';\n                process.stdin.on('readable', function() {\n                    var read = process.stdin.read();\n                    if (read !== null) {\n                        str += read;\n                    }\n                });\n                process.stdin.on('end', function () {\n                    jsonize(str.replace(/\\n$/, '').split('\\n'));\n                });\n            }\n        }\n        */\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if (typeof $ !== UNDEF_TYPE) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/ua-parser-js/src/ua-parser.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/ua-parser-js/src/ua-parser.js\n// module chunks = main","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/index.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/uuid/index.js\n// module chunks = main","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/lib/bytesToUuid.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/uuid/lib/bytesToUuid.js\n// module chunks = main","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/lib/rng-browser.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/uuid/lib/rng-browser.js\n// module chunks = main","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/v1.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/uuid/v1.js\n// module chunks = main","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/uuid/v4.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/uuid/v4.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_core.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_core.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_factory.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/adapter_factory.js\n// module chunks = main","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        InvalidStateError: 'NotReadableError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotReadableError',\n        MediaDeviceKillSwitchOn: 'NotReadableError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/chrome/getusermedia.js\n// module chunks = main","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    };\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/common_shim.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/common_shim.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/edge_shim.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/edge/getusermedia.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/firefox/getusermedia.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/safari/safari_shim.js\n// module chunks = main","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/utils.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/webrtc-adapter/src/js/utils.js\n// module chunks = main","/*\r\nWildEmitter.js is a slim little event emitter by @henrikjoreteg largely based\r\non @visionmedia's Emitter from UI Kit.\r\n\r\nWhy? I wanted it standalone.\r\n\r\nI also wanted support for wildcard emitters like this:\r\n\r\nemitter.on('*', function (eventName, other, event, payloads) {\r\n\r\n});\r\n\r\nemitter.on('somenamespace*', function (eventName, payloads) {\r\n\r\n});\r\n\r\nPlease note that callbacks triggered by wildcard registered events also get\r\nthe event name as the first argument.\r\n*/\r\n\r\nmodule.exports = WildEmitter;\r\n\r\nfunction WildEmitter() { }\r\n\r\nWildEmitter.mixin = function (constructor) {\r\n    var prototype = constructor.prototype || constructor;\r\n\r\n    prototype.isWildEmitter= true;\r\n\r\n    // Listen on the given `event` with `fn`. Store a group name if present.\r\n    prototype.on = function (event, groupName, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        func._groupName = group;\r\n        (this.callbacks[event] = this.callbacks[event] || []).push(func);\r\n        return this;\r\n    };\r\n\r\n    // Adds an `event` listener that will be invoked a single\r\n    // time then automatically removed.\r\n    prototype.once = function (event, groupName, fn) {\r\n        var self = this,\r\n            hasGroup = (arguments.length === 3),\r\n            group = hasGroup ? arguments[1] : undefined,\r\n            func = hasGroup ? arguments[2] : arguments[1];\r\n        function on() {\r\n            self.off(event, on);\r\n            func.apply(this, arguments);\r\n        }\r\n        this.on(event, group, on);\r\n        return this;\r\n    };\r\n\r\n    // Unbinds an entire group\r\n    prototype.releaseGroup = function (groupName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item, i, len, handlers;\r\n        for (item in this.callbacks) {\r\n            handlers = this.callbacks[item];\r\n            for (i = 0, len = handlers.length; i < len; i++) {\r\n                if (handlers[i]._groupName === groupName) {\r\n                    //console.log('removing');\r\n                    // remove it and shorten the array we're looping through\r\n                    handlers.splice(i, 1);\r\n                    i--;\r\n                    len--;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    // Remove the given callback for `event` or all\r\n    // registered callbacks.\r\n    prototype.off = function (event, fn) {\r\n        this.callbacks = this.callbacks || {};\r\n        var callbacks = this.callbacks[event],\r\n            i;\r\n\r\n        if (!callbacks) return this;\r\n\r\n        // remove all handlers\r\n        if (arguments.length === 1) {\r\n            delete this.callbacks[event];\r\n            return this;\r\n        }\r\n\r\n        // remove specific handler\r\n        i = callbacks.indexOf(fn);\r\n        callbacks.splice(i, 1);\r\n        if (callbacks.length === 0) {\r\n            delete this.callbacks[event];\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /// Emit `event` with the given args.\r\n    // also calls any `*` handlers\r\n    prototype.emit = function (event) {\r\n        this.callbacks = this.callbacks || {};\r\n        var args = [].slice.call(arguments, 1),\r\n            callbacks = this.callbacks[event],\r\n            specialCallbacks = this.getWildcardCallbacks(event),\r\n            i,\r\n            len,\r\n            item,\r\n            listeners;\r\n\r\n        if (callbacks) {\r\n            listeners = callbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, args);\r\n            }\r\n        }\r\n\r\n        if (specialCallbacks) {\r\n            len = specialCallbacks.length;\r\n            listeners = specialCallbacks.slice();\r\n            for (i = 0, len = listeners.length; i < len; ++i) {\r\n                if (!listeners[i]) {\r\n                    break;\r\n                }\r\n                listeners[i].apply(this, [event].concat(args));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    // Helper for for finding special wildcard event handlers that match the event\r\n    prototype.getWildcardCallbacks = function (eventName) {\r\n        this.callbacks = this.callbacks || {};\r\n        var item,\r\n            split,\r\n            result = [];\r\n\r\n        for (item in this.callbacks) {\r\n            split = item.split('*');\r\n            if (item === '*' || (split.length === 2 && eventName.slice(0, split[0].length) === split[0])) {\r\n                result = result.concat(this.callbacks[item]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n};\r\n\r\nWildEmitter.mixin(WildEmitter);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/wildemitter/wildemitter.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/wildemitter/wildemitter.js\n// module chunks = main","/*!\n * EventEmitter v5.2.4 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n;(function (exports) {\n    'use strict';\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define(function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(this || {}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/openvidu/openvidu-browser/node_modules/wolfy87-eventemitter/EventEmitter.js\n// module id = ../../../../../../../../../openvidu/openvidu-browser/node_modules/wolfy87-eventemitter/EventEmitter.js\n// module chunks = main","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"footer.page-footer {\\n  margin: 0;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<div id=\\\"sticky-footer-div\\\">\\n\\n  <header *ngIf=\\\"!isVideoSessionUrl()\\\">\\n    <navbar></navbar>\\n  </header>\\n\\n  <main>\\n    <router-outlet></router-outlet>\\n  </main>\\n\\n  <footer *ngIf=\\\"!isVideoSessionUrl()\\\" class=\\\"page-footer secondaryColor-back\\\">\\n    <app-footer></app-footer>\\n  </footer>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\n\nexport class AppComponent {\n\n  constructor(private router: Router){}\n\n  isVideoSessionUrl(){\n    return (this.router.url.substring(0, '/session/'.length) === '/session/');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule }      from '@angular/core';\nimport { FormsModule }   from '@angular/forms';\nimport { HttpModule }    from '@angular/http';\n\nimport { routing } from './app.routing';\n\nimport { MaterializeModule }   from 'angular2-materialize';\nimport { FileSelectDirective } from 'ng2-file-upload';\nimport { FileDropDirective }   from 'ng2-file-upload';\n\nimport { MaterialModule } from '@angular/material';\n\nimport { InterventionAskedPipe }  from './pipes/intervention-asked.pipe';\n\nimport { AppComponent }           from './app.component';\nimport { NavbarComponent }        from './components/navbar/navbar.component';\nimport { FooterComponent }        from './components/footer/footer.component';\nimport { LoginModalComponent }    from './components/login-modal/login-modal.component';\nimport { PresentationComponent }  from './components/presentation/presentation.component';\nimport { DashboardComponent }     from './components/dashboard/dashboard.component';\nimport { CourseDetailsComponent } from './components/course-details/course-details.component'\nimport { SettingsComponent }      from './components/settings/settings.component';\nimport { ErrorMessageComponent }  from './components/error-message/error-message.component';\nimport { CommentComponent }       from './components/comment/comment.component';\nimport { FileGroupComponent }     from './components/file-group/file-group.component';\nimport { VideoSessionComponent }  from './components/video-session/video-session.component';\nimport { FileUploaderComponent }  from './components/file-uploader/file-uploader.component';\nimport { StreamComponent }        from './components/video-session/stream.component';\nimport { ChatLineComponent }      from './components/chat-line/chat-line.component';\n\nimport { AuthenticationService }  from './services/authentication.service';\nimport { CourseService }          from './services/course.service';\nimport { SessionService }         from './services/session.service';\nimport { ForumService }           from './services/forum.service';\nimport { FileService }            from './services/file.service';\nimport { CourseDetailsModalDataService }  from './services/course-details-modal-data.service';\nimport { LoginModalService }      from './services/login-modal.service';\nimport { UploaderModalService }   from './services/uploader-modal.service';\nimport { UserService }            from './services/user.service';\nimport { AnimationService }       from './services/animation.service';\nimport { VideoSessionService }    from './services/video-session.service';\n\nimport { CalendarModule }         from 'angular-calendar';\nimport { CalendarComponent }      from './components/calendar/calendar.component';\nimport { TimeAgoPipe }            from 'time-ago-pipe';\nimport { DragulaModule }          from 'ng2-dragula/ng2-dragula';\nimport { EditorModule }           from 'primeng/components/editor/editor';\nimport { ReCaptchaModule }        from 'angular2-recaptcha';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    MaterializeModule,\n    MaterialModule.forRoot(),\n    routing,\n    CalendarModule.forRoot(),\n    DragulaModule,\n    EditorModule,\n    ReCaptchaModule,\n  ],\n  declarations: [\n    AppComponent,\n    PresentationComponent,\n    DashboardComponent,\n    CourseDetailsComponent,\n    NavbarComponent,\n    FooterComponent,\n    LoginModalComponent,\n    SettingsComponent,\n    ErrorMessageComponent,\n    CommentComponent,\n    FileGroupComponent,\n    CalendarComponent,\n    TimeAgoPipe,\n    FileSelectDirective,\n    FileDropDirective,\n    VideoSessionComponent,\n    FileUploaderComponent,\n    StreamComponent,\n    ChatLineComponent,\n    InterventionAskedPipe\n  ],\n  providers: [\n    AuthenticationService,\n    CourseService,\n    SessionService,\n    ForumService,\n    FileService,\n    CourseDetailsModalDataService,\n    LoginModalService,\n    UploaderModalService,\n    UserService,\n    AnimationService,\n    VideoSessionService,\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.module.ts","import { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PresentationComponent } from './components/presentation/presentation.component';\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\nimport { CourseDetailsComponent } from './components/course-details/course-details.component';\nimport { SettingsComponent } from './components/settings/settings.component';\nimport { VideoSessionComponent } from './components/video-session/video-session.component';\n\nconst appRoutes: Routes = [\n  {\n    path: '',\n    component: PresentationComponent,\n    pathMatch: 'full',\n  },\n  {\n    path: 'courses',\n    component: DashboardComponent\n  },\n  {\n    path: 'courses/:id/:tabId',\n    component: CourseDetailsComponent\n  },\n  {\n    path: 'settings',\n    component: SettingsComponent\n  },\n  {\n    path: 'session/:id',\n    component: VideoSessionComponent\n  },\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes, { useHash: true });\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/app.routing.ts","export class Chatline {\n\n  public type: string; //[system-msg, system-err, own-msg, stranger-msg]\n  public author: string;\n  public picture: string;\n  public message: string;\n  public color: string;\n\n  constructor(type: string, author: string, picture: string, message: string, color: string){\n    this.type = type;\n    this.author = author;\n    this.picture = picture;\n    this.message = message;\n    this.color = color;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/chatline.ts","import { User } from './user';\n\nexport class Comment {\n\n  public id?: number;\n  public message: string;\n  public videourl: string;\n  public audioonly: boolean;\n  public date: Date;\n  public replies: Comment[];\n  public commentParent: Comment;\n  public user: User;\n\n  constructor(message: string, videourl: string, audioonly: boolean, commentParent: Comment) {\n    this.message = message;\n    this.videourl = videourl;\n    this.audioonly = audioonly;\n    this.replies = [];\n    this.commentParent = commentParent;\n    this.user = null; //Backend will take care of it\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/comment.ts","import { Course }     from './course';\nimport { Session }    from './session';\nimport { Forum }      from './forum';\nimport { User }       from './user';\nimport { FileGroup }  from './file-group';\n\nexport class CourseDetails {\n\n  public id?: number;\n  public info: string;\n  public forum: Forum;\n  public files: FileGroup[];\n  public course: Course;\n\n  constructor(forum: Forum, files: FileGroup[]){\n    this.info = '';\n    this.forum = forum;\n    this.files = files;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/course-details.ts","import { Session }        from './session';\nimport { Forum }          from './forum';\nimport { User }           from './user';\nimport { CourseDetails }  from './course-details';\n\nexport class Course {\n\n  public id?: number;\n  public title: string;\n  public image: string;\n  public teacher: User;\n  public courseDetails: CourseDetails;\n  public sessions: Session[];\n  public attenders: User[];\n\n  constructor(title: string, image: string, courseDetails: CourseDetails){\n    this.title = title;\n    this.teacher = null; //Backend will take care of it\n    this.image = image;\n    this.courseDetails = courseDetails;\n    this.sessions = [];\n    this.attenders = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/course.ts","import { Comment } from './comment';\nimport { User } from './user';\n\nexport class Entry {\n\n  public id?: number;\n  public title: string;\n  public date: Date;\n  public comments: Comment[];\n  public user: User;\n\n  constructor(title: string, comments: Comment[]) {\n    this.title = title;\n    this.comments = comments;\n    this.user = null; //Backend will take care of it\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/entry.ts","import { File } from './file';\n\nexport class FileGroup {\n\n  public id?: number;\n  public title: string;\n  public files: File[];\n  public fileGroups: FileGroup[];\n  public fileGroupParent: FileGroup;\n\n  constructor(title: string, fileGroupParent: FileGroup){\n    this.title = title;\n    this.fileGroupParent = fileGroupParent;\n    this.files = [];\n    this.fileGroups = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/file-group.ts","export class File {\n\n  public id?: number;\n  public type: number; // 0 -> web-link | 1 -> pdf | 2 -> video\n  public name: string;\n  public link: string;\n\n  constructor(type: number, name: string, link: string){\n    this.type = type;\n    this.name = name;\n    this.link = link;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/file.ts","import { Entry } from './entry';\n\nexport class Forum {\n\n  public id?: number;\n  public activated: boolean;\n  public entries: Entry[];\n\n  constructor(activated: boolean){\n    this.activated = activated;\n    this.entries = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/forum.ts","import { Course } from './course';\n\nexport class Session {\n\n  public id?: number;\n  public title: string;\n  public description: string;\n  public date: number;\n  public course: Course;\n\n  constructor(title: string, description: string, date: number){\n    this.title = title;\n    this.description = description;\n    this.date = date;\n    this.course = null; //Backend will take care of it\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/session.ts","import { Course } from './course';\n\nexport class User {\n\n  public id?: number;\n  public name: string;\n  public nickName: string;\n  public roles: string[];\n  public picture: string;\n  public registrationDate: Date;\n  public passwordHash?: string;\n  public courses: Course[];\n\n  constructor(u: User){\n    this.id = u.id;\n    this.name = u.name;\n    this.nickName = u.nickName;\n    this.roles = u.roles;\n    this.picture = u.picture;\n    this.registrationDate = u.registrationDate;\n    this.courses = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/classes/user.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".calendar-container {\\n  position: relative;\\n}\\n\\n.my-calendar-header {\\n  min-width: 365px;\\n}\\n\\ni.material-icons {\\n  cursor: pointer;\\n  font-size: 30px;\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n\\ni.material-icons:hover {\\n  color: #91a59b;\\n}\\n\\n.calendar-icon-group {\\n  float: right;\\n}\\n\\n.calendar-title {\\n  font-weight: 300 !important;\\n  text-align: left !important;\\n}\\n\\n\\n.loader-calendar {\\n  height: 4px;\\n  width: 100%;\\n  position: relative;\\n  overflow: hidden;\\n  background-color: rgba(221, 221, 221, 0.5);\\n}\\n.loader-calendar:before{\\n  display: block;\\n  position: absolute;\\n  content: \\\"\\\";\\n  left: -200px;\\n  width: 200px;\\n  height: 4px;\\n  background-color: #375646;\\n  animation: loading 0.5s linear infinite;\\n}\\n\\n@keyframes loading {\\n    from {left: -200px; width: 30%;}\\n    50% {width: 30%;}\\n    70% {width: 70%;}\\n    80% { left: 50%;}\\n    95% {left: 120%;}\\n    to {left: 100%;}\\n}\\n\\n/*Mobile Phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .my-calendar-header {\\n    min-width: 0;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.css\n// module id = ../../../../../src/app/components/calendar/calendar.component.css\n// module chunks = main","module.exports = \"<div class=\\\"calendar-container\\\">\\n    <div class=\\\"row no-margin my-calendar-header\\\">\\n      <div class=\\\"col l7 m7 s7 no-padding-lateral\\\">\\n        <h3 class=\\\"calendar-title\\\">{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>\\n      </div>\\n      <div *ngIf=\\\"!loadingSessions\\\" class=\\\"col l5 m5 s5 no-padding-lateral\\\">\\n        <div class=\\\"calendar-icon-group\\\">\\n          <i class=\\\"material-icons no-padding-left\\\" (click)=\\\"decrement()\\\">chevron_left</i>\\n          <i class=\\\"material-icons\\\" (click)=\\\"today()\\\">today</i>\\n          <i class=\\\"material-icons\\\" (click)=\\\"increment()\\\">chevron_right</i>\\n        </div>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"!loadingSessions\\\">\\n      <mwl-calendar-month-view [viewDate]=\\\"viewDate\\\" [events]=\\\"events\\\" [activeDayIsOpen]=\\\"activeDayIsOpen\\\" (dayClicked)=\\\"dayClicked($event.day)\\\"></mwl-calendar-month-view>\\n    </div>\\n    <div *ngIf=\\\"loadingSessions\\\" class=\\\"loader-calendar\\\"></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.html\n// module id = ../../../../../src/app/components/calendar/calendar.component.html\n// module chunks = main","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService }   from '../../services/authentication.service';\nimport { Session } from '../../classes/session';\nimport {\n  startOfDay,\n  subDays,\n  addDays,\n  endOfMonth,\n  isSameDay,\n  isSameMonth,\n  addWeeks,\n  subWeeks,\n  addMonths,\n  subMonths\n} from 'date-fns';\nimport {\n  CalendarEvent,\n  CalendarEventAction\n} from 'angular-calendar';\n\nconst colors: any = {\n  red: {\n    primary: '#ad2121',\n    secondary: '#FAE3E3'\n  },\n  blue: {\n    primary: '#1e90ff',\n    secondary: '#D1E8FF'\n  },\n  yellow: {\n    primary: '#e3bc08',\n    secondary: '#FDF1BA'\n  }\n};\n\nclass MyCalendarEvent implements CalendarEvent {\n  start: Date;\n  title: string;\n  color = colors.red;\n  actions: CalendarEventAction[];\n  session: Session;\n}\n\n@Component({\n  selector: 'calendar-app',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.css'],\n})\nexport class CalendarComponent implements OnInit {\n\n  view: string = 'month';\n\n  viewDate: Date = new Date();\n\n  events: MyCalendarEvent[] = [];\n\n  activeDayIsOpen: boolean = false;\n\n  loadingSessions: boolean = true;\n\n  constructor(private authenticationService: AuthenticationService, private router: Router) { }\n\n  ngOnInit() {\n    this.getAllSessions();\n  }\n\n  increment(): void {\n    const addFn: any = {\n      day: addDays,\n      week: addWeeks,\n      month: addMonths\n    }[this.view];\n    this.viewDate = addFn(this.viewDate, 1);\n    this.activeDayIsOpen = false;\n  }\n\n  decrement(): void {\n    const subFn: any = {\n      day: subDays,\n      week: subWeeks,\n      month: subMonths\n    }[this.view];\n    this.viewDate = subFn(this.viewDate, 1);\n    this.activeDayIsOpen = false;\n  }\n\n  today(): void {\n    this.viewDate = new Date();\n    this.activeDayIsOpen = true;\n  }\n\n  dayClicked({date, events}: { date: Date, events: CalendarEvent[] }): void {\n    if (isSameMonth(date, this.viewDate)) {\n      if (\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\n        events.length === 0\n      ) {\n        this.activeDayIsOpen = false;\n      } else {\n        this.activeDayIsOpen = true;\n        this.viewDate = date;\n      }\n    }\n  }\n\n  getAllSessions() {\n    let userCourses = this.authenticationService.getCurrentUser().courses;\n    for (let c of userCourses){\n      for (let s of c.sessions) {\n\n        /*By default when selecting sessions from the database their field\n        \"Course\" is not retrieved in order to avoid inifinite recursiveness*/\n        s.course = c;\n\n        let d: Date;\n        d = new Date(s.date);\n        let min = d.getMinutes();\n        let minutesString = min.toString();\n        if (min < 10) { minutesString = \"0\" + minutesString; }\n        this.events.push({\n          start: d,\n          title: s.title + '  |  ' + d.getHours() + ':' + minutesString,\n          color: colors.red,\r\n          actions: [\r\n            {\r\n              label: '<i class=\"material-icons calendar-event-icon\">forward</i>',\r\n              onClick: ({event}: { event: CalendarEvent }): void => {\r\n                this.router.navigate(['/courses', s.course.id, 1]);\r\n              }\r\n            }],\r\n            session: s,\r\n        });\r\n          }\n      }\n      this.loadingSessions = false;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/calendar/calendar.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".outer-message {\\n  display: block;\\n}\\n\\n.system-msg {\\n  color: #BDBDBD;\\n  font-style: italic;\\n  margin-top: 5px;\\n  display: inline-block;\\n  margin-bottom: 5px;\\n}\\n\\n.own-msg {\\n  text-align: right;\\n}\\n\\n.own-msg .message-content {\\n  background-color: rgba(142, 195, 168, 0.46);\\n  margin-left: 15px;\\n  text-align: left;\\n  display: inline-block;\\n  margin-top: 3px;\\n  margin-bottom: 3px;\\n  padding-top: 5px;\\n  padding-right: 5px;\\n  padding-bottom: 5px;\\n  padding-left: 5px;\\n  line-height: 1.3;\\n}\\n\\n.own-msg .message-header {\\n  display: block;\\n  margin-top: 7px;\\n}\\n\\n.own-msg .message-header img {\\n  width: 2.7em;\\n  margin-bottom: -6px;\\n  background-color: #c5ddd1;\\n  border-bottom-right-radius: 0% !important;\\n}\\n\\n.stranger-msg {\\n  text-align: left;\\n}\\n\\n.stranger-msg .message-content {\\n  background-color: #d0d0d0;\\n  margin-right: 15px;\\n  text-align: left;\\n  display: inline-block;\\n  margin-top: 3px;\\n  margin-bottom: 3px;\\n  padding-top: 5px;\\n  padding-right: 5px;\\n  padding-bottom: 5px;\\n  padding-left: 5px;\\n  line-height: 1.3;\\n}\\n\\n.stranger-msg .message-header {\\n  display: block;\\n  margin-top: 7px;\\n}\\n\\n.stranger-msg .message-header img {\\n  width: 2.7em;\\n  margin-bottom: -6px;\\n  background-color: #d0d0d0;\\n  border-bottom-left-radius: 0% !important;\\n}\\n\\n.user-name {\\n  font-size: small;\\n  font-weight: 600;\\n}\\n\\n.user-message {\\n  font-size: small;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.css\n// module id = ../../../../../src/app/components/chat-line/chat-line.component.css\n// module chunks = main","module.exports = \"<div class=\\\"outer-message\\\">\\n\\n  <div *ngIf=\\\"(this.chatLine.type === 'own-msg') || (this.chatLine.type === 'stranger-msg')\\\" [ngClass]=\\\"[this.chatLine.type]\\\">\\n    <div class=\\\"message-header\\\">\\n      <img *ngIf=\\\"this.chatLine.type === 'stranger-msg'\\\" [src]=\\\"this.chatLine.picture\\\" class=\\\"circle responsive-img\\\">\\n      <span class='user-name' [style.color]=\\\"this.chatLine.color\\\">{{this.chatLine.author}}</span>\\n      <img *ngIf=\\\"this.chatLine.type === 'own-msg'\\\" [src]=\\\"this.chatLine.picture\\\" class=\\\"circle responsive-img\\\">\\n    </div>\\n    <div class=\\\"message-content\\\">\\n      <span class='user-message'>{{this.chatLine.message}}</span>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"(this.chatLine.type === 'system-msg') || (this.chatLine.type === 'system-err')\\\" [ngClass]=\\\"[this.chatLine.type]\\\">\\n    {{this.chatLine.message}}\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.html\n// module id = ../../../../../src/app/components/chat-line/chat-line.component.html\n// module chunks = main","import { Component, Input } from '@angular/core';\n\nimport { Chatline } from '../../classes/chatline';\n\n@Component({\n  selector: 'app-chat-line',\n  templateUrl: './chat-line.component.html',\n  styleUrls: ['./chat-line.component.css']\n})\nexport class ChatLineComponent {\n\n  @Input()\n  public chatLine: Chatline;\n\n  constructor() { }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/chat-line/chat-line.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".comment-div {\\n  padding-left: 20px;\\n}\\n\\n.row-margin-bottom {\\n  margin-bottom: 10px;\\n}\\n\\n.user-name {\\n  display: inline-block;\\n  font-size: small;\\n  font-weight: 300;\\n}\\n\\n.message {\\n  display: inline-block;\\n}\\n\\n.message-itself {\\n  word-wrap: break-word;\\n}\\n\\n.video-itself {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  border-radius: 6px;\\n  overflow: hidden;\\n  margin-top: 25px;\\n  margin-bottom: 25px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.video-itself video {\\n  width: 500px;\\n}\\n\\n.replay-icon {\\n  font-size: 20px;\\n  color: rgba(94, 97, 95, 0.51);\\n  cursor: pointer;\\n}\\n\\n.replay-icon:hover {\\n  color: #91a59b;\\n}\\n\\n.user-date-separator {\\n  display: inline-block;\\n  padding-right: 10px;\\n  padding-left: 10px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.css\n// module id = ../../../../../src/app/components/comment/comment.component.css\n// module chunks = main","module.exports = \"<div class=\\\"comment-div\\\">\\n  <div class=\\\"row row-margin-bottom\\\">\\n    <div class=\\\"col l11 m11 s11\\\" [class.teacher-forum]=\\\"isCommentTeacher(this.comment)\\\">\\n      <div *ngIf=\\\"!!comment.message\\\" class=\\\"message-itself\\\">{{comment.message}}</div>\\n      <div *ngIf=\\\"!!comment.videourl\\\" class=\\\"video-itself\\\">\\n        <video [attr.id]=\\\"comment.videourl\\\" [src]=\\\"comment.videourl\\\" (mouseenter)=\\\"onHovering($event)\\\" (mouseleave)=\\\"onUnhovering($event)\\\"\\n          [attr.poster]=\\\"comment.audioonly ? 'assets/images/volume.png' : ''\\\" [style.background-color]=\\\"comment.audioonly ? 'rgb(77,77,77)' : ''\\\"\\n          [style.max-height]=\\\"comment.audioonly ? '375px' : ''\\\"></video>\\n      </div>\\n      <div class=\\\"user-name forum-comment-author\\\" [class.teacher-name]=\\\"isCommentTeacher(comment)\\\">{{comment.user.nickName}}</div>\\n      <div class=\\\"user-date-separator\\\">-</div>\\n      <div class=\\\"user-name\\\">{{comment.date | date}} - {{comment.date | date:'H:mm' }}</div>\\n    </div>\\n    <div class=\\\"col l1 m1 s1 no-padding-left right-align\\\">\\n      <a href=\\\"#course-details-modal\\\" [title]=\\\"'Send replay'\\\" (click)=\\\"updatePostModalMode(1, 'New replay', null, this.comment, null); this.animationService.animateIfSmall()\\\">\\n        <i class=\\\"material-icons replay-icon\\\">feedback</i>\\n      </a>\\n      <a href=\\\"#course-details-modal\\\" [title]=\\\"'Send video replay'\\\" (click)=\\\"updatePostModalMode(6, 'New video replay', null, this.comment, null); this.animationService.animateIfSmall()\\\">\\n        <i class=\\\"material-icons replay-icon\\\">videocam</i>\\n      </a>\\n    </div>\\n  </div>\\n\\n  <div *ngFor=\\\"let replay of comment.replies; let i = index\\\">\\n    <app-comment [comment]=\\\"replay\\\"></app-comment>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.html\n// module id = ../../../../../src/app/components/comment/comment.component.html\n// module chunks = main","import { Component, OnInit, Input } from '@angular/core';\n\nimport { Comment }    from '../../classes/comment';\nimport { Entry }      from '../../classes/entry';\nimport { FileGroup }  from '../../classes/file-group';\n\nimport { CourseDetailsModalDataService } from '../../services/course-details-modal-data.service';\nimport { AnimationService }      from '../../services/animation.service';\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.component.html',\n  styleUrls: ['./comment.component.css']\n})\nexport class CommentComponent implements OnInit {\n\n  @Input()\n  public comment: Comment;\n\n  constructor(private courseDetailsModalDataService: CourseDetailsModalDataService, private animationService: AnimationService) {}\n\n  ngOnInit() {}\n\n  updatePostModalMode(mode: number, title: string, header: Entry, commentReplay: Comment, fileGroup: FileGroup){\n    let objs = [mode, title, header, commentReplay, fileGroup];\n    this.courseDetailsModalDataService.announcePostMode(objs);\n  }\n\n  isCommentTeacher(comment: Comment){\n    return (comment.user.roles.indexOf('ROLE_TEACHER') > -1);\n  }\n\n  onHovering(event) {\n    $(event.target).attr(\"controls\", \"\");\n  }\n\n  onUnhovering(event) {\n    $(event.target).removeAttr(\"controls\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/comment/comment.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#tabs-course-details{\\n  margin-bottom: 30px;\\n}\\n\\n/*Text editor*/\\n.ql-editor-custom {\\n  box-sizing: initial;\\n  cursor: initial;\\n  line-height: initial;\\n  height: initial;\\n  outline: initial;\\n  overflow-y: initial;\\n  padding: 20px;\\n  -o-tab-size: initial;\\n     tab-size: initial;\\n  -moz-tab-size: initial;\\n  text-align: initial;\\n  white-space: initial;\\n  word-wrap: initial;\\n}\\n\\n#textEditorRowButtons{\\n  padding-top: 10px;\\n  margin: 0;\\n}\\n/*Text editor*/\\n\\n.course-detail-div {\\n  padding-top: 30px;\\n}\\n\\n.comments-col{\\n  padding-left: 0;\\n}\\n\\n.tab-template-content {\\n  width: 100%;\\n  height: 100%;\\n  padding: 15px 15px 15px 15px;\\n}\\n\\n.tab-template-content-2 {\\n  width: inherit !important;\\n  height: inherit !important;\\n  padding: 15px 15px 15px 15px;\\n}\\n\\n.md-tab-label-aux {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.md-tab-label-aux:hover {\\n  color: #375646;\\n}\\n\\n.md-tab-label-aux i {\\n  padding-top: 10px;\\n}\\n\\na.btn-floating {\\n  background-color: #e0e0e0;\\n}\\n\\n.delete-attenders-div {\\n  float: right;\\n  padding-right: 10px;\\n  height: 30px;\\n}\\n\\n.del-attender-icon {\\n  cursor: pointer;\\n}\\n\\n.del-attender-icon:hover {\\n  color: #91a59b;\\n}\\n\\n.user-attender-row {\\n  background-color: #f3f3f3;\\n  border-radius: 3px;\\n  margin-top: 10px !important;\\n  margin-bottom: 5px !important;\\n}\\n\\n.att-row-padding {\\n  padding: 20px;\\n}\\n\\n.att-info-tooltip {\\n  cursor: pointer;\\n}\\n\\n#tooltip-file{\\n  position: absolute;\\n  margin-left: 10px;\\n  margin-top: 10px;\\n}\\n\\n/*Forum view*/\\n\\n.entries-side-view {\\n  height: 100%;\\n}\\n\\n#entries-sml-btn {\\n  color: #375646;\\n  cursor: pointer;\\n}\\n\\n#entries-sml-btn:hover {\\n  color: #91a59b;\\n}\\n\\n.session-data {\\n  padding: 25px 25px 25px 25px;\\n  display: list-item !important;\\n  transition: all .2s ease-out !important;\\n}\\n\\n.session-data a {\\n  color: inherit !important;\\n}\\n\\n.session-title {\\n  font-weight: bold;\\n  font-size: 20px;\\n}\\n\\n.entry-row-sep {\\n  margin-bottom: 10px !important;\\n}\\n\\n.entry-title {\\n  cursor: pointer;\\n  padding: 8px 0 8px 0;\\n  display: list-item !important;\\n  transition: all .2s ease-out !important;\\n}\\n\\n.entry-title:hover {\\n  background-color: rgba(224, 224, 224, 0.5);\\n}\\n\\n.entry-title a {\\n  color: #375646;\\n  font-weight: bold;\\n}\\n\\n.user-name {\\n  display: inline-block;\\n  font-size: small;\\n  font-weight: 300;\\n}\\n\\n.user-date-separator {\\n  display: inline-block;\\n  padding-right: 10px;\\n  padding-left: 10px;\\n}\\n\\n.user-date-column {\\n  text-align: right;\\n}\\n\\n.last-comment-row {\\n  font-size: 13px;\\n  font-weight: 300;\\n  color: #375345;\\n}\\n\\n.entry-user {\\n  display: inline-block;\\n  font-size: small;\\n  font-weight: 500;\\n}\\n\\n.comment-section-title {\\n  font-weight: bold;\\n}\\n\\n.comment-block {\\n  padding: 8px 0 4px 0;\\n}\\n\\n.comment-divider {\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.forum-icon {\\n  font-size: 22px;\\n  color: #5e615f;\\n  cursor: pointer;\\n}\\n\\n.forum-icon:hover {\\n  color: #91a59b;\\n}\\n\\n.back-icon {\\n  font-size: 28px;\\n  color: #375646;\\n  cursor: pointer;\\n}\\n\\n.div-entry-icon {\\n  padding-top: 10px;\\n}\\n\\n.course-title {\\n  font-weight: 300;\\n}\\n\\n#inputDate {\\n  cursor: pointer;\\n}\\n\\n#inputTime {\\n  cursor: pointer;\\n}\\n\\n.userImage {\\n  display: inline !important;\\n}\\n\\n.attender-col {\\n  margin: inherit !important;\\n}\\n\\n.p-name{\\n  font-size: small;\\n  color: #828282;\\n}\\n\\n#record-form-div {\\n  margin-top: 10px;\\n  margin-bottom: 30px;\\n}\\n\\n#record-error-div {\\n  margin-top: 20px;\\n}\\n\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .p-nickName {\\n    margin: 0;\\n  }\\n\\n  .p-name {\\n    font-size: small;\\n    color: #828282;\\n    margin: 0;\\n  }\\n}\\n\\n@media only screen and (min-width: 993px) {\\n  .userImage {\\n    width: 70px;\\n    height: 70px;\\n  }\\n}\\n\\n@media only screen and (max-width: 992px) {\\n  .userImage {\\n    width: 45px;\\n    height: 45px;\\n  }\\n}\\n\\n/*Active Session*/\\n.session-ready{\\n  background-color: rgba(55, 86, 70, 0.15);\\n  cursor: pointer;\\n}\\n\\n@keyframes sessionReadyFrames{\\n  0% {\\n    transform:  scaleX(1.00) scaleY(1.00) ;\\n  }\\n  50% {\\n    transform:  scaleX(1.06) scaleY(1.06) ;\\n  }\\n  100% {\\n    transform:  scaleX(1.00) scaleY(1.00) ;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.css\n// module id = ../../../../../src/app/components/course-details/course-details.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"!this.course\\\" class=\\\"loading\\\"></div>\\n\\n<div *ngIf=\\\"this.course\\\" class=\\\"container course-detail-div\\\">\\n\\n\\n  <!--POST DIALOG-->\\n  <div id=\\\"course-details-modal\\\" class=\\\"modal my-modal-class course-details-modal\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"actions2\\\">\\n\\n    <div *ngIf=\\\"processingPost\\\" class=\\\"loading\\\"></div>\\n\\n    <div class=\\\"modal-content\\\" [class.filtered]=\\\"processingPost\\\">\\n      <p class=\\\"p-bold-modal-header\\\">{{this.postModalTitle}}</p>\\n      <h5 *ngIf=\\\"isCurrentPostMode(['1', '6'])\\\">{{this.postModalEntry?.title}}</h5>\\n      <p *ngIf=\\\"isCurrentPostMode(['1', '6'])\\\">{{this.postModalCommentReplay?.message}}</p>\\n      <div class=\\\"row no-margin\\\">\\n\\n        <form materialize #courseDetailsForm id=\\\"courseDetailsForm\\\" class=\\\"col s12\\\" (ngSubmit)=\\\"onCourseDetailsSubmit(); courseDetailsForm.reset();\\\">\\n          <div class=\\\"row no-margin\\\">\\n\\n            <div *ngIf=\\\"isCurrentPostMode(['0', '2', '3', '4'])\\\" class=\\\"row row-mobile\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputTitle\\\" name=\\\"inputTitle\\\" id=\\\"input-post-title\\\" type=\\\"text\\\" class=\\\"validate\\\" autocomplete=\\\"off\\\" required>\\n                <label *ngIf=\\\"isCurrentPostMode(['0', '3'])\\\" for=\\\"inputTitle\\\">Entry title</label>\\n                <label *ngIf=\\\"isCurrentPostMode(['2'])\\\" for=\\\"inputTitle\\\">Session title</label>\\n                <label *ngIf=\\\"isCurrentPostMode(['4'])\\\" for=\\\"inputTitle\\\">File group title</label>\\n              </div>\\n            </div>\\n\\n            <div *ngIf=\\\"isCurrentPostMode(['0', '1', '2'])\\\" class=\\\"row row-mobile\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <textarea maxlength=\\\"2500\\\" [(ngModel)]=\\\"inputComment\\\" name=\\\"inputComment\\\" id=\\\"input-post-comment\\\" class=\\\"materialize-textarea validate\\\" required></textarea>\\n                <label *ngIf=\\\"isCurrentPostMode(['0', '1'])\\\" for=\\\"inputComment\\\">Write your comment here</label>\\n                <label *ngIf=\\\"isCurrentPostMode(['2'])\\\" for=\\\"inputComment\\\">Description</label>\\n              </div>\\n            </div>\\n\\n            <div *ngIf=\\\"isCurrentPostMode(['3', '6'])\\\" class=\\\"row row-mobile\\\">\\n              <div class=\\\"col s12 center-align\\\">\\n                <a *ngIf=\\\"!this.publisher\\\" (click)=\\\"recordVideo(this.getPublisherOptions('video'))\\\" class=\\\"waves-effect waves-light btn\\\">Record video</a>\\n                <div *ngIf=\\\"!this.publisherErrorMessage\\\">\\n                  <div id=\\\"record-form-div\\\">\\n                    <form *ngIf=\\\"!!this.publisher\\\">\\n                        <input name=\\\"record-radio\\\" type=\\\"radio\\\" id=\\\"record-video\\\" value=\\\"video\\\" checked (change)=\\\"recordRadioChange($event)\\\" [disabled]=\\\"!recordRadioEnabled\\\"/>\\n                        <label for=\\\"record-video\\\">Video</label>\\n                        <input name=\\\"record-radio\\\" type=\\\"radio\\\" id=\\\"record-audio\\\" value=\\\"audio\\\" (change)=\\\"recordRadioChange($event)\\\" [disabled]=\\\"!recordRadioEnabled\\\"/>\\n                        <label for=\\\"record-audio\\\">Audio</label>\\n                        <input name=\\\"record-radio\\\" type=\\\"radio\\\" id=\\\"record-screen\\\" value=\\\"screen\\\" (change)=\\\"recordRadioChange($event)\\\" [disabled]=\\\"!recordRadioEnabled\\\"/>\\n                        <label for=\\\"record-screen\\\">Screen</label>\\n                    </form>\\n                  </div>\\n                  <div id=\\\"post-video\\\"></div>\\n                </div>\\n                <div id=\\\"record-error-div\\\" *ngIf=\\\"!!this.publisherErrorMessage\\\">\\n                  <app-error-message (eventShowable)=\\\"cleanRecording()\\\" [errorTitle]=\\\"'Error when initializing a Publisher!'\\\" [errorContent]=\\\"publisherErrorMessage\\\" [customClass]=\\\"'fail'\\\" [closable]=\\\"true\\\"></app-error-message>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row no-margin\\\">\\n              <div class=\\\"col l6 m6 s6\\\">\\n                <div *ngIf=\\\"isCurrentPostMode(['2'])\\\" class=\\\"row\\\">\\n                  <label for=\\\"inputDate\\\">Date</label>\\n                  <div class=\\\"input-field col s12\\\">\\n                    <input [(ngModel)]=\\\"inputDate\\\" name=\\\"inputDate\\\" id=\\\"input-post-date\\\" type=\\\"date\\\" required>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col l6 m6 s6\\\">\\n                <div *ngIf=\\\"isCurrentPostMode(['2'])\\\" class=\\\"row\\\">\\n                  <label for=\\\"inputTime\\\">Time</label>\\n                  <div class=\\\"input-field col s12\\\">\\n                    <input type=\\\"time\\\" [(ngModel)]=\\\"inputTime\\\" name=\\\"inputTime\\\" id=\\\"input-post-time\\\" class=\\\"validate\\\" required>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div *ngIf=\\\"isCurrentPostMode(['5'])\\\" class=\\\"row\\\">\\n\\n              <app-file-uploader (onCompleteFileUpload)=\\\"filesUploadCompleted($event)\\\" (onUploadStarted)=\\\"filesUploadStarted($event)\\\" [uniqueID]=\\\"1\\\" [isMultiple]=\\\"true\\\" [URLUPLOAD]=\\\"this.url_file_upload\\\" [typeOfFile]=\\\"'files'\\\" [buttonText]=\\\"'Select files'\\\"></app-file-uploader>\\n\\n            </div>\\n\\n          </div>\\n          <div class=\\\"row no-margin-bottom right-align\\\">\\n            <a *ngIf=\\\"!isCurrentPostMode(['5'])\\\" (click)=\\\"courseDetailsForm.reset(); this.cleanRecording()\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button cancel-modal-btn\\\">Cancel</a>\\n            <a *ngIf=\\\"isCurrentPostMode(['5'])\\\" (click)=\\\"courseDetailsForm.reset(); this.uploaderModalService.announceUploaderClosed(true);\\\" id=\\\"close-upload-modal-btn\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button\\\">Close</a>\\n            <button id=\\\"post-modal-btn\\\" *ngIf=\\\"!isCurrentPostMode(['5', '3'])\\\" type=\\\"submit\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Send</button>\\n          </div>\\n        </form>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <!--POST DIALOG-->\\n\\n\\n\\n  <!--PUT/DELETE DIALOG-->\\n  <div *ngIf=\\\"this.authenticationService.isTeacher()\\\" id=\\\"put-delete-modal\\\" class=\\\"modal my-modal-class course-details-modal\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"actions3\\\">\\n\\n    <div *ngIf=\\\"processingPut\\\" class=\\\"loading\\\"></div>\\n\\n    <div class=\\\"modal-content\\\" [class.filtered]=\\\"processingPut\\\">\\n      <p class=\\\"p-bold-modal-header\\\">{{this.putdeleteModalTitle}}</p>\\n      <div class=\\\"row no-margin\\\">\\n\\n        <form materialize #putDeleteForm class=\\\"col s12\\\" (ngSubmit)=\\\"onPutDeleteSubmit(); putDeleteForm.reset(); this.allowSessionDeletion = false;\\\">\\n\\n          <div *ngIf=\\\"isCurrentPutdeleteMode(['0'])\\\" class=\\\"row no-margin\\\">\\n            <div class=\\\"row row-mobile\\\">\\n              <label for=\\\"inputSessionTitle\\\">Session title</label>\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputSessionTitle\\\" name=\\\"inputSessionTitle\\\" id=\\\"input-put-title\\\" type=\\\"text\\\" class=\\\"validate\\\" required>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row row-mobile\\\">\\n              <label for=\\\"inputSessionDescription\\\">Description</label>\\n              <div class=\\\"input-field col s12\\\">\\n                <textarea [(ngModel)]=\\\"inputSessionDescription\\\" name=\\\"inputSessionDescription\\\" id=\\\"input-put-comment\\\" class=\\\"materialize-textarea validate\\\" required></textarea>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col l6 m6 s6\\\">\\n                <div class=\\\"row row-mobile\\\">\\n                  <label for=\\\"inputSessionDate\\\">Date</label>\\n                  <div class=\\\"input-field col s12\\\">\\n                    <input [(ngModel)]=\\\"this.updatedSessionDate\\\" name=\\\"inputSessionDate\\\" id=\\\"input-put-date\\\" type=\\\"date\\\" [value]=\\\"this.updatedSessionDate\\\" required>\\n                  </div>\\n                </div>\\n              </div>\\n              <div class=\\\"col l6 m6 s6\\\">\\n                <div class=\\\"row row-mobile\\\">\\n                  <label for=\\\"inputSessionTime\\\">Time</label>\\n                  <div class=\\\"input-field col s12\\\">\\n                    <input [(ngModel)]=\\\"this.inputSessionTime\\\" type=\\\"time\\\" name=\\\"inputSessionTime\\\" id=\\\"input-put-time\\\" class=\\\"validate\\\" [value]=\\\"this.inputSessionTime\\\" required>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div *ngIf=\\\"isCurrentPutdeleteMode(['1'])\\\" class=\\\"row no-margin-lateral\\\">\\n            <input #forumCheckbox type=\\\"checkbox\\\" class=\\\"filled-in\\\" id=\\\"delete-checkbox\\\" name=\\\"delete-checkbox\\\" (change)=\\\"this.allowForumEdition = forumCheckbox.checked\\\"/>\\n            <label for=\\\"delete-checkbox\\\" id=\\\"label-forum-checkbox\\\">Allow forum {{this.checkboxForumEdition}}?</label>\\n          </div>\\n\\n          <div *ngIf=\\\"isCurrentPutdeleteMode(['2', '3'])\\\" class=\\\"row no-margin\\\">\\n            <div class=\\\"row\\\">\\n              <label *ngIf=\\\"isCurrentPutdeleteMode(['2'])\\\" for=\\\"inputFileTitle\\\">File group title</label>\\n              <label *ngIf=\\\"isCurrentPutdeleteMode(['3'])\\\" for=\\\"inputFileTitle\\\">File name</label>\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputFileTitle\\\" name=\\\"inputFileTitle\\\" id=\\\"input-file-title\\\" type=\\\"text\\\" class=\\\"validate\\\" required>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div *ngIf=\\\"isCurrentPutdeleteMode(['4'])\\\" id=\\\"tabs-attenders\\\" class=\\\"row no-margin\\\">\\n            <md-tab-group [(selectedIndex)]=\\\"this.attenderTabSelected\\\">\\n              <md-tab>\\n                <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\">SIMPLE</div></template>\\n                <template md-tab-content>\\n                  <div class=\\\"row no-margin att-row-padding\\\">\\n                    <div class=\\\"input-field col s12\\\">\\n                      <input [(ngModel)]=\\\"inputAttenderSimple\\\" name=\\\"inputAttenderSimple\\\" id=\\\"input-attender-simple\\\" type=\\\"email\\\" class=\\\"validate\\\" required>\\n                      <label for=\\\"inputAttenderSimple\\\">Attender email</label>\\n                    </div>\\n                  </div>\\n                </template>\\n              </md-tab>\\n              <md-tab>\\n                <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\">MULTIPLE</div></template>\\n                <template md-tab-content>\\n                  <div class=\\\"row no-margin att-row-padding\\\">\\n                    <i materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped att-info-tooltip\\\" data-position=\\\"right\\\" data-delay=\\\"65\\\" data-html=\\\"true\\\" data-tooltip=\\\"<p class='att-tooltip-text'>We always separate by <b>WHITE SPACES</b><br>and <b>NEW LINES</b>. If there's any other<br>combination of characters that should<br>be taken into account as separator,<br>include it here</p>\\\">info</i>\\n                    <div class=\\\"input-field col l4 m4 s6\\\">\\n                      <input [(ngModel)]=\\\"inputAttenderSeparator\\\" name=\\\"inputAttenderSeparator\\\" id=\\\"input-attender-separator\\\" type=\\\"text\\\" class=\\\"validate\\\">\\n                      <label for=\\\"inputAttenderSeparator\\\">SEPARATOR</label>\\n                    </div>\\n                    <div class=\\\"input-field col s12\\\">\\n                      <textarea maxlength=\\\"1500\\\" [(ngModel)]=\\\"inputAttenderMultiple\\\" name=\\\"inputAttenderMultiple\\\" id=\\\"input-attender-multiple\\\" class=\\\"materialize-textarea validate\\\" required></textarea>\\n                      <label for=\\\"inputAttenderMultiple\\\">Attender emails</label>\\n                    </div>\\n                  </div>\\n                </template>\\n              </md-tab>\\n              <md-tab>\\n                <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\">FILE UPLOAD</div></template>\\n                <template md-tab-content>\\n                  <i id=\\\"tooltip-file\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped att-info-tooltip\\\" data-position=\\\"right\\\" data-delay=\\\"65\\\" data-html=\\\"true\\\" data-tooltip=\\\"<p class='att-tooltip-text'>We will automatically find and add<br>to the course all the <b>EMAILS</b> in the file</p>\\\">info</i>\\n                  <div class=\\\"row no-margin att-row-padding\\\">\\n\\n                    <app-file-uploader (onCompleteFileUpload)=\\\"fileReaderUploadCompleted($event)\\\" (onUploadStarted)=\\\"fileReaderUploadStarted($event)\\\" [uniqueID]=\\\"2\\\" [URLUPLOAD]=\\\"this.URL_FILE_READER_UPLOAD + this.course.id\\\" [isMultiple]=\\\"false\\\" [typeOfFile]=\\\"'file'\\\" [buttonText]=\\\"'Upload file'\\\"></app-file-uploader>\\n\\n                  </div>\\n                </template>\\n              </md-tab>\\n            </md-tab-group>\\n          </div>\\n\\n          <div class=\\\"row no-margin-bottom right-align\\\">\\n            <div *ngIf=\\\"isCurrentPutdeleteMode(['0'])\\\" class=\\\"valign-wrapper delete-div\\\">\\n              <a id=\\\"delete-session-btn\\\" (click)=\\\"this.deleteSession(); putDeleteForm.reset(); this.allowSessionDeletion = false;\\\" class=\\\"waves-effect btn-flat modal-footer-button float-to-left\\\" [class.disabled]=\\\"!this.allowSessionDeletion\\\">Delete</a>\\n              <div class=\\\"float-to-left\\\">\\n                <input #deleteCheckbox type=\\\"checkbox\\\" class=\\\"filled-in\\\" id=\\\"delete-checkbox\\\" name=\\\"delete-checkbox\\\" (change)=\\\"this.allowSessionDeletion = deleteCheckbox.checked\\\"/>\\n                <label for=\\\"delete-checkbox\\\" id=\\\"label-delete-checkbox\\\">Allow deletion?</label>\\n              </div>\\n            </div>\\n            <a (click)=\\\"putDeleteForm.reset(); this.allowSessionDeletion = false; this.allowForumEdition = false; this.uploaderModalService.announceUploaderClosed(true);\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button cancel-modal-btn\\\">Cancel</a>\\n            <button id=\\\"put-modal-btn\\\" *ngIf=\\\"!((this.putdeleteModalMode === 4) && (this.attenderTabSelected === 2))\\\" type=\\\"submit\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\" [class.disabled]=\\\"isCurrentPutdeleteMode(['1']) && (!this.allowForumEdition)\\\">Send</button>\\n          </div>\\n        </form>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <!--PUT/DELETE DIALOG-->\\n\\n\\n\\n  <div class=\\\"row valign-wrapper\\\">\\n    <div class=\\\"col l1 m1 s2 valign\\\"><a id=\\\"back-to-dashboard-btn\\\" routerLink=\\\"/courses\\\" [title]=\\\"'Back to courses'\\\" class=\\\"btn-floating\\\"><i class=\\\"material-icons medium back-icon\\\">arrow_back</i></a></div>\\n    <div class=\\\"col l11 m11 s10 valign\\\">\\n      <h4 id=\\\"main-course-title\\\" class=\\\"course-title\\\">{{course.title}}</h4></div>\\n  </div>\\n\\n  <!--TABS-->\\n  <div id=\\\"tabs-course-details\\\" class=\\\"row\\\">\\n    <md-tab-group [selectedIndex]=\\\"this.tabId\\\">\\n\\n      <md-tab><!--Course Info Tab-->\\n        <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\" (click)=\\\"changeUrlTab(0)\\\"><i id=\\\"info-tab-icon\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped\\\" data-position=\\\"top\\\" data-delay=\\\"65\\\" data-tooltip=\\\"Course info\\\">home</i></div></template>\\n        <template md-tab-content>\\n\\n            <div *ngIf=\\\"processingCourseInfo\\\" class=\\\"loading\\\"></div>\\n\\n            <div class=\\\"tab-template-content\\\" [class.filtered]=\\\"processingCourseInfo\\\">\\n              <div class=\\\"row no-margin\\\">\\n                <a *ngIf=\\\"this.authenticationService.isTeacher() && !this.welcomeTextEdition\\\" (click)=\\\"this.welcomeTextEdition = true\\\" class=\\\"right\\\" [title]=\\\"'Edit info'\\\">\\n                  <i id=\\\"edit-course-info\\\" class=\\\"material-icons add-element-icon\\\">edit</i>\\n                </a>\\n              </div>\\n              <div *ngIf=\\\"!this.welcomeTextEdition && this.course.courseDetails.info\\\" class=\\\"ql-editor ql-editor-custom\\\" [innerHTML]=\\\"this.course.courseDetails.info\\\"></div>\\n              <div *ngIf=\\\"this.welcomeTextEdition\\\">\\n                <p-editor *ngIf=\\\"!this.welcomeTextPreview\\\" [(ngModel)]=\\\"this.welcomeText\\\" [style]=\\\"{'height':'320px'}\\\"></p-editor>\\n                <div *ngIf=\\\"this.welcomeTextPreview\\\" class=\\\"ql-editor ql-editor-custom\\\" [innerHTML]=\\\"this.welcomeText\\\"></div>\\n                <div id=\\\"textEditorRowButtons\\\" class=\\\"row no-margin-bottom right-align\\\">\\n                  <a (click)=\\\"this.closeUpdateCourseInfo()\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Cancel</a>\\n                  <button id=\\\"send-info-btn\\\" (click)=\\\"this.updateCourseInfo(); this.closeUpdateCourseInfo()\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Send</button>\\n                  <a (click)=\\\"this.welcomeTextPreview = !this.welcomeTextPreview; this.previewButton = (this.welcomeTextPreview ? 'edit' : 'preview');\\\" class=\\\"left waves-effect btn-flat modal-footer-button\\\">{{this.previewButton}}</a>\\n                </div>\\n              </div>\\n              <div *ngIf=\\\"!this.course.courseDetails.info && !this.welcomeTextEdition\\\"><app-error-message [errorTitle]=\\\"'There is no info yet'\\\" [errorContent]=\\\"''\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></div>\\n            </div>\\n          </template>\\n      </md-tab>\\n\\n      <md-tab><!--Sessions Tab-->\\n        <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\" (click)=\\\"changeUrlTab(1)\\\"><i id=\\\"sessions-tab-icon\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped\\\" data-position=\\\"top\\\" data-delay=\\\"65\\\" data-tooltip=\\\"Sessions\\\">school</i></div></template>\\n        <template md-tab-content>\\n            <div class=\\\"tab-template-content\\\">\\n              <div class=\\\"row no-margin\\\">\\n                <a href=\\\"#course-details-modal\\\" *ngIf=\\\"this.authenticationService.isTeacher()\\\" (click)=\\\"updatePostModalMode(2, 'New session', null, null, null); this.animationService.animateIfSmall()\\\" class=\\\"right\\\" [title]=\\\"'New session'\\\">\\n                  <i id=\\\"add-session-icon\\\" class=\\\"material-icons add-element-icon\\\">add_circle_outline</i>\\n                </a>\\n              </div>\\n              <ul>\\n                <div *ngFor=\\\"let session of this.course.sessions; let last1 = last\\\">\\n                  <li class=\\\"session-data\\\">\\n                    <div class=\\\"row no-margin\\\">\\n                      <div (click)=\\\"goToSessionVideo(session)\\\" [class.session-ready]=\\\"this.isSessionReady(session)\\\" class=\\\"col l7 m6 s6\\\">\\n                        <div class=\\\"session-title\\\">{{session.title}}</div>\\n                        <div class=\\\"session-description\\\">{{session.description}}</div>\\n                      </div>\\n                      <div class=\\\"col l4 m5 s5 right-align session-datetime\\\">\\n                        {{numberToDate(session.date) | date}} - {{numberToDate(session.date) | date:'H:mm' }}\\n                      </div>\\n                      <div class=\\\"col l1 m1 s1 right-align no-padding-lateral\\\">\\n                        <a href=\\\"#put-delete-modal\\\" *ngIf=\\\"this.authenticationService.isTeacher()\\\" (click)=\\\"updatePutDeleteModalMode(0, 'Modify session'); this.changeUpdatedSession(session); this.animationService.animateIfSmall()\\\" [title]=\\\"'Modify session'\\\">\\n                          <i class=\\\"edit-session-icon material-icons forum-icon\\\">mode_edit</i>\\n                        </a>\\n                      </div>\\n                    </div>\\n                  </li>\\n                  <li *ngIf=\\\"!last1\\\"><div class=\\\"divider\\\"></div></li>\\n                </div>\\n            </ul>\\n            <div *ngIf=\\\"this.course.sessions.length === 0\\\"><app-error-message [errorTitle]=\\\"'There are no sessions'\\\" [errorContent]=\\\"''\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></div>\\n            </div>\\n          </template>\\n      </md-tab>\\n\\n      <md-tab><!--Forum Tab-->\\n        <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\" (click)=\\\"changeUrlTab(2)\\\"><i id=\\\"forum-tab-icon\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped\\\" data-position=\\\"top\\\" data-delay=\\\"65\\\" data-tooltip=\\\"Forum\\\">forum</i></div></template>\\n        <template md-tab-content>\\n          <div class=\\\"tab-template-content row no-margin\\\" [class.tab-template-content-2]=\\\"!this.course.courseDetails?.forum.activated || !this.course.courseDetails?.forum.entries.length > 0\\\">\\n\\n            <!--Forum view-->\\n            <ul class=\\\"entries-side-view row no-margin\\\" [class.hide]=\\\"this.fadeAnim === 'commentsShown'\\\">\\n              <div *ngIf=\\\"this.course.courseDetails?.forum.activated\\\">\\n                <div *ngFor=\\\"let entry of this.course.courseDetails?.forum.entries; let last2 = last\\\">\\n                  <li (mousedown)=\\\"this.fadeAnim = 'commentsHidden';\\\" (click)=\\\"this.selectedEntry = entry; this.fadeAnim = 'commentsShown';\\\" class=\\\"entry-title waves-effect\\\" [class.teacher-forum]=\\\"isEntryTeacher(entry)\\\">\\n                    <div class=\\\"row no-margin entry-row-sep\\\">\\n                      <div class=\\\"col l6 m6 s6\\\">\\n                        <a class=\\\"forum-entry-title\\\" [title]=\\\"entry.title\\\">{{entry.title}}</a>\\n                      </div>\\n                      <div class=\\\"col l6 m6 s6 user-date-column\\\">\\n                        <div class=\\\"row no-margin\\\">\\n                          <div class=\\\"col l6 m6 s6 user-name forum-entry-author\\\" [class.teacher-name]=\\\"isEntryTeacher(entry)\\\">{{entry?.user?.nickName}}</div>\\n                          <div class=\\\"col l6 m6 s6 user-name forum-entry-date\\\">{{entry?.date | timeAgo}}</div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    <div *ngIf=\\\"entry.comments.length > 0\\\" class=\\\"row no-margin last-comment-row\\\">\\n                      <div class=\\\"col\\\">Last comment:</div>\\n                      <div class=\\\"col\\\">{{getLastEntryComment(entry)?.user?.nickName}}, {{getLastEntryComment(entry)?.date | timeAgo}}</div>\\n                    </div>\\n                    <div *ngIf=\\\"entry.comments.length === 0\\\" class=\\\"row no-margin last-comment-row\\\">\\n                      <div class=\\\"col\\\">No comments</div>\\n                    </div>\\n                  </li>\\n                  <li *ngIf=\\\"!last2\\\"><div class=\\\"divider\\\"></div></li>\\n                </div>\\n              </div>\\n              <div class=\\\"center-align div-entry-icon\\\">\\n                <a href=\\\"#course-details-modal\\\" *ngIf=\\\"this.course.courseDetails?.forum.activated\\\" (click)=\\\"updatePostModalMode(0, 'New entry', null, null, null); this.animationService.animateIfSmall()\\\" [title]=\\\"'New entry'\\\">\\n                  <i id=\\\"add-entry-icon\\\" class=\\\"material-icons forum-icon\\\">chat</i>\\n                </a>\\n                <a href=\\\"#course-details-modal\\\" *ngIf=\\\"this.course.courseDetails?.forum.activated\\\" (click)=\\\"updatePostModalMode(3, 'New video entry', null, null, null); this.animationService.animateIfSmall()\\\" [title]=\\\"'New videoentry'\\\">\\n                  <i id=\\\"add-videoentry-icon\\\" class=\\\"material-icons forum-icon\\\">videocam</i>\\n                </a>\\n                <a href=\\\"#put-delete-modal\\\" *ngIf=\\\"this.authenticationService.isTeacher()\\\" (click)=\\\"updatePutDeleteModalMode(1, 'Activate/Deactivate forum'); this.animationService.animateIfSmall()\\\" class=\\\"float-to-right\\\" title=\\\"Activate/Deactivate forum\\\">\\n                    <i id=\\\"edit-forum-icon\\\" class=\\\"material-icons forum-icon\\\">mode_edit</i>\\n                </a>\\n              </div>\\n            </ul>\\n\\n            <div *ngIf=\\\"this.course.courseDetails?.forum.activated\\\" id=\\\"row-of-comments\\\" class=\\\"row no-margin\\\" [@fadeAnim]=\\\"this.fadeAnim\\\" [class.hide]=\\\"this.fadeAnim === 'commentsHidden'\\\">\\n              <div class=\\\"row no-margin-lateral\\\">\\n                <a><i id=\\\"entries-sml-btn\\\" class=\\\"material-icons center-align col l1 m1 s1 no-padding-lateral\\\" (click)=\\\"this.fadeAnim = 'commentsHidden'\\\">arrow_back</i></a>\\n                <div class=\\\"col l10 m10 s10 no-padding-lateral\\\">\\n                  <div class=\\\"row no-margin comment-section-title\\\">\\n                    <div class=\\\"col l6 m6 s6\\\">{{selectedEntry?.title}}</div>\\n                    <div class=\\\"col l6 m6 s6 user-date-column\\\">\\n                      <div class=\\\"row no-margin\\\">\\n                        <div class=\\\"col l6 m6 s6 user-name\\\">{{selectedEntry?.user.nickName}}</div>\\n                        <div class=\\\"col l6 m6 s6 user-name\\\">{{selectedEntry?.date | date}} - {{selectedEntry?.date | date:'H:mm' }}</div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"col l1 m1 s1 no-padding-lateral right-align\\\">\\n                  <a href=\\\"#course-details-modal\\\" [title]=\\\"'New comment'\\\" (click)=\\\"updatePostModalMode(1, 'New comment', selectedEntry, null, null); this.postModalCommentReplay = null; this.animationService.animateIfSmall()\\\">\\n                    <i class=\\\"material-icons forum-icon\\\">chat</i>\\n                  </a>\\n                  <a href=\\\"#course-details-modal\\\" [title]=\\\"'New video comment'\\\" (click)=\\\"updatePostModalMode(6, 'New video comment', selectedEntry, null, null); this.postModalCommentReplay = null; this.animationService.animateIfSmall()\\\">\\n                    <i class=\\\"material-icons forum-icon\\\">videocam</i>\\n                  </a>\\n                </div>\\n              </div>\\n              <div class=\\\"row no-margin comments-col\\\">\\n                <div *ngFor=\\\"let comment of this.selectedEntry?.comments; let last3 = last\\\" class=\\\"comment-block\\\" [class.comment-divider]=\\\"!last3\\\">\\n                  <app-comment [comment]=\\\"comment\\\"></app-comment>\\n                </div>\\n              </div>\\n            </div>\\n            <!--Forum view-->\\n\\n            <div *ngIf=\\\"!this.course.courseDetails?.forum.activated\\\"><app-error-message [errorTitle]=\\\"'The forum is not activated!'\\\" [errorContent]=\\\"'The teacher must activate it before you can comment'\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></div>\\n            <div *ngIf=\\\"this.course.courseDetails?.forum.activated && this.course.courseDetails?.forum.entries.length === 0\\\"><app-error-message [errorTitle]=\\\"'There are no entries yet'\\\" [errorContent]=\\\"'Be the first one! Just click on the icon above'\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></div>\\n          </div>\\n        </template>\\n      </md-tab>\\n\\n      <md-tab><!--Files Tab-->\\n        <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\" (click)=\\\"changeUrlTab(3)\\\"><i id=\\\"files-tab-icon\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped\\\" data-position=\\\"top\\\" data-delay=\\\"65\\\" data-tooltip=\\\"Files\\\">description</i></div></template>\\n        <template md-tab-content>\\n          <div class=\\\"tab-template-content row no-margin\\\">\\n            <div *ngIf=\\\"this.authenticationService.isTeacher()\\\" class=\\\"row no-margin\\\">\\n              <a href=\\\"#course-details-modal\\\" *ngIf=\\\"!allowFilesEdition\\\" (click)=\\\"updatePostModalMode(4, 'New file group', null, null, null); this.animationService.animateIfSmall()\\\" class=\\\"right\\\" [title]=\\\"'New file group'\\\">\\n                <i id=\\\"add-files-icon\\\" class=\\\"material-icons add-element-icon\\\">add_circle_outline</i>\\n              </a>\\n              <i *ngIf=\\\"this.course.courseDetails.files.length > 0\\\" (click)=\\\"this.changeModeEdition()\\\" class=\\\"material-icons add-element-icon right\\\" [title]=\\\"'Modify file groups'\\\">{{this.filesEditionIcon}}</i>\\n            </div>\\n            <div *ngFor=\\\"let fileG of this.course.courseDetails?.files; let last4 = last\\\">\\n              <app-file-group [fileGroup]=\\\"fileG\\\" [courseId]=\\\"this.course.id\\\" [depth]=\\\"0\\\"></app-file-group>\\n              <div *ngIf=\\\"!last4\\\" class=\\\"divider\\\"></div>\\n            </div>\\n            <div *ngIf=\\\"this.course.courseDetails?.files.length === 0\\\"><app-error-message [errorTitle]=\\\"'There are no files associated'\\\" [errorContent]=\\\"'Need something? Just open an entry on the forum'\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></div>\\n          </div>\\n        </template>\\n      </md-tab>\\n\\n      <md-tab><!--Attenders Tab-->\\n        <template md-tab-label><div class=\\\"md-tab-label-aux waves-effect\\\" (click)=\\\"changeUrlTab(4)\\\"><i id=\\\"attenders-tab-icon\\\" materialize=\\\"tooltip\\\" class=\\\"material-icons tooltipped\\\" data-position=\\\"top\\\" data-delay=\\\"65\\\" data-tooltip=\\\"Attenders\\\">supervisor_account</i></div></template>\\n        <template md-tab-content>\\n          <div class=\\\"tab-template-content\\\">\\n            <div *ngIf=\\\"this.authenticationService.isTeacher()\\\" class=\\\"row no-margin\\\">\\n              <a  href=\\\"#put-delete-modal\\\" *ngIf=\\\"!this.allowAttendersEdition\\\" (click)=\\\"updatePutDeleteModalMode(4, 'Add attenders'); this.animationService.animateIfSmall()\\\" class=\\\"right\\\" [title]=\\\"'Add attenders'\\\">\\n                <i id=\\\"add-attenders-icon\\\" class=\\\"material-icons add-element-icon\\\">add_circle_outline</i>\\n              </a>\\n              <i *ngIf=\\\"this.course.attenders.length > 1\\\" (click)=\\\"this.changeModeAttenders()\\\" id=\\\"edit-attenders-icon\\\" class=\\\"material-icons add-element-icon right\\\" [title]=\\\"'Modify attenders'\\\">{{this.attendersEditionIcon}}</i>\\n            </div>\\n\\n            <app-error-message *ngIf=\\\"addAttendersCorrect\\\" (eventShowable)=\\\"addAttendersCorrect = false\\\" [errorTitle]=\\\"attCorrectTitle\\\" [errorContent]=\\\"attCorrectContent\\\" [customClass]=\\\"'correct'\\\" [closable]=\\\"true\\\"></app-error-message>\\n            <app-error-message *ngIf=\\\"addAttendersError\\\" (eventShowable)=\\\"addAttendersError = false\\\" [errorTitle]=\\\"attErrorTitle\\\" [errorContent]=\\\"attErrorContent\\\" [customClass]=\\\"'fail'\\\" [closable]=\\\"true\\\"></app-error-message>\\n\\n            <div class=\\\"row no-margin valign-wrapper user-attender-row attender-row-div\\\">\\n              <div class=\\\"col l2 m2 s3 valign attender-col\\\">\\n                <img materialize=\\\"materialbox\\\" class=\\\"circle materialboxed userImage\\\" src={{this.authenticationService.getCurrentUser().picture}}>\\n              </div>\\n              <div class=\\\"col l5 m5 s9 valign attender-col\\\">\\n                <p class=\\\"attender-name-p\\\">{{this.authenticationService.getCurrentUser().nickName}}</p>\\n              </div>\\n            </div>\\n            <div *ngFor=\\\"let attender of this.course.attenders; let j = index\\\">\\n              <div *ngIf=\\\"attender.id != this.authenticationService.getCurrentUser().id\\\" class=\\\"row no-margin valign-wrapper attender-row-div\\\">\\n                <div class=\\\"col l2 m2 s3 valign attender-col\\\">\\n                  <img materialize=\\\"materialbox\\\" class=\\\"circle materialboxed userImage\\\" src={{attender.picture}}>\\n                </div>\\n                <div class=\\\"col l9 l9 s7 no-margin-left\\\">\\n                  <div class=\\\"row no-margin\\\">\\n                    <div class=\\\"col l6 m6 s12 no-padding-lateral valign attender-col\\\">\\n                      <p class=\\\"p-nickName\\\">{{attender?.nickName}}</p>\\n                    </div>\\n                    <div class=\\\"col l6 m6 s12 no-padding-lateral valign attender-col\\\">\\n                      <p class=\\\"p-name\\\">{{attender?.name}}</p>\\n                    </div>\\n                  </div>\\n                </div>\\n                <i *ngIf=\\\"this.allowAttendersEdition && this.authenticationService.isTeacher() && !this.arrayOfAttDels[j]\\\" (click)=\\\"deleteAttender(attender, j)\\\" class=\\\"material-icons del-attender-icon\\\" [title]=\\\"'Remove ' + attender.nickName\\\">clear</i>\\n                <i *ngIf=\\\"this.allowAttendersEdition && this.authenticationService.isTeacher() && this.arrayOfAttDels[j]\\\" class=\\\"material-icons del-attender-icon rotating\\\">cached</i>\\n              </div>\\n            </div>\\n        </div>\\n        </template>\\n      </md-tab>\\n\\n    </md-tab-group>\\n  </div>\\n  <!--TABS-->\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.html\n// module id = ../../../../../src/app/components/course-details/course-details.component.html\n// module chunks = main","import { Component, OnInit, OnChanges, Input, EventEmitter, trigger, state, animate, transition, style } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { Subscription } from 'rxjs/Subscription';\nimport { environment } from '../../../environments/environment';\n\nimport { MaterializeAction } from 'angular2-materialize';\nimport { FileUploader } from 'ng2-file-upload';\nimport { DragulaService } from 'ng2-dragula/ng2-dragula';\nimport { EditorModule } from 'primeng/components/editor/editor';\n\nimport { CommentComponent } from '../comment/comment.component';\n\nimport { CourseDetailsModalDataService } from '../../services/course-details-modal-data.service';\nimport { UploaderModalService } from '../../services/uploader-modal.service';\nimport { FilesEditionService } from '../../services/files-edition.service';\nimport { CourseService } from '../../services/course.service';\nimport { SessionService } from '../../services/session.service';\nimport { ForumService } from '../../services/forum.service';\nimport { FileService } from '../../services/file.service';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { VideoSessionService } from '../../services/video-session.service';\nimport { AnimationService } from '../../services/animation.service';\n\nimport { Session } from '../../classes/session';\nimport { Course } from '../../classes/course';\nimport { Entry } from '../../classes/entry';\nimport { Comment } from '../../classes/comment';\nimport { FileGroup } from '../../classes/file-group';\nimport { File } from '../../classes/file';\nimport { User } from '../../classes/user';\n\nimport { OpenVidu, LocalRecorder, Publisher } from \"openvidu-browser\";\nimport { Forum } from '../../classes/forum';\n\n\n@Component({\n  selector: 'app-course-details',\n  providers: [FilesEditionService],\n  templateUrl: './course-details.component.html',\n  styleUrls: ['./course-details.component.css'],\n  animations: [\n    trigger('fadeAnim', [\n      state('commentsShown', style({\n        opacity: 1\n      })),\n      state('commentsHidden', style({\n        opacity: 0.2\n      })),\n      transition('commentsHidden => commentsShown', animate('.4s')),\n      transition('commentsShown => commentsHidden', animate('.1s')),\n    ]),\n  ]\n})\nexport class CourseDetailsComponent implements OnInit {\n\n  course: Course;\n  selectedEntry: Entry;\n\n  updatedFileGroup: FileGroup;\n  updatedFile: File;\n\n  fadeAnim = 'commentsHidden';\n  tabId: number = 0;\n\n  //POST MODAL\n  processingPost = false;\n  postModalMode: number = 3; //0 -> New entry | 1 -> New comment | 2 -> New session | 4 -> Add fileGroup | 5 -> Add file | 6 -> New video comment\n  postModalTitle: string = \"New session\";\n  postModalEntry: Entry;\n  postModalCommentReplay: Comment;\n  postModalFileGroup: FileGroup;\n  inputTitle: string;\n  inputComment: string;\n  inputDate: Date;\n  inputTime: string;\n\n  // recording\n  recorder: LocalRecorder;\n  recordRadioEnabled = false;\n  recordType = 'video';\n  publisherErrorMessage = '';\n  recording = false;\n  paused = false;\n  OV: OpenVidu;\n  publisher: Publisher;\n\n  //PUT-DELETE MODAL\n  processingPut = false;\n  putdeleteModalMode: number = 0; //0 -> Modify session | 1 -> Modify forum | 2 -> Modify file group | 3 -> Modify file | 4 -> Add attenders\n  putdeleteModalTitle: string = \"Modify session\";\n  //Sessions\n  inputSessionTitle: string;\n  inputSessionDescription: string;\n  inputSessionDate: Date;\n  inputSessionTime: string;\n  updatedSession: Session;\n  updatedSessionDate: string;\n  allowSessionDeletion = false;\n  //Forum\n  allowForumEdition = false;\n  checkboxForumEdition: string;\n  //Files\n  inputFileTitle: string;\n  //Attenders\n  inputAttenderSimple: string;\n  inputAttenderMultiple: string;\n  inputAttenderSeparator: string = \"\";\n  attenderTabSelected: number = 0;\n\n  //COURSE INFO TAB\n  processingCourseInfo = false;\n  welcomeText: string;\n  welcomeTextEdition = false;\n  welcomeTextPreview = false;\n  previewButton: string = 'preview';\n\n  //FILES TAB\n  allowFilesEdition = false;\n  filesEditionIcon: string = \"mode_edit\";\n\n  //ATTENDERS TAB\n  allowAttendersEdition = false;\n  addAttendersError = false;\n  addAttendersCorrect = false;\n  attErrorTitle: string;\n  attErrorContent: string;\n  attCorrectTitle: string;\n  attCorrectContent: string;\n  attendersEditionIcon: string = \"mode_edit\";\n  arrayOfAttDels = [];\n\n  private actions2 = new EventEmitter<string | MaterializeAction>();\n  private actions3 = new EventEmitter<string | MaterializeAction>();\n\n  subscription1: Subscription; //Subscription to service 'courseDetailsModalDataService' for receiving POST modal dialog changes\n  subscription2: Subscription; //Subscription to service 'courseDetailsModalDataService' for receiving PUT/DELETE modal dialog changes\n  subscription3: Subscription; //Subscription to service 'filesEditionService' for receiving FileGroup deletions\n  subscription4: Subscription; //Subscription to service 'filesEditionService' for receiving FileGroup and File objects that are being updated\n  subscription5: Subscription; //Subscription to Drag and Drop 'drop' event\n\n  private URL_UPLOAD: string;\n  private URL_FILE_READER_UPLOAD: string;\n\n  private url_file_upload: string;\n\n  constructor(\n    private courseService: CourseService,\n    private forumService: ForumService,\n    private fileService: FileService,\n    private sessionService: SessionService,\n    private animationService: AnimationService,\n    private authenticationService: AuthenticationService,\n    private videoSessionService: VideoSessionService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private location: Location,\n    private courseDetailsModalDataService: CourseDetailsModalDataService,\n    private uploaderModalService: UploaderModalService,\n    private filesEditionService: FilesEditionService,\n    private dragulaService: DragulaService) {\n\n    //URL for uploading files changes between development stage and production stage\n    this.URL_UPLOAD = environment.URL_UPLOAD;\n    this.URL_FILE_READER_UPLOAD = environment.URL_EMAIL_FILE_UPLOAD;\n\n    //Activating handles for drag and drop files\n    this.dragulaService.setOptions('drag-bag', {\n      moves: function (el, container, handle) {\n        return handle.className === 'drag-handle material-icons action-file-icon';\n      }\n    });\n\n    //Subscription for receiving POST modal dialog changes\n    this.subscription1 = this.courseDetailsModalDataService.postModeAnnounced$.subscribe(\n      objs => {\n        //objs is an array containing postModalMode, postModalTitle, postModalEntry, postModalCommentReplay and postModalFileGroup in that specific order\n        this.postModalMode = objs[0];\n        this.postModalTitle = objs[1];\n        this.postModalEntry = objs[2];\n        this.postModalCommentReplay = objs[3];\n        this.postModalFileGroup = objs[4];\n      });\n\n    //Subscription for receiving PUT/DELETE modal dialog changes\n    this.subscription2 = this.courseDetailsModalDataService.putdeleteModeAnnounced$.subscribe(\n      objs => {\n        //objs is an array containing putdeleteModalMode and putdeleteModalTitle, in that specific order\n        this.putdeleteModalMode = objs[0];\n        if (objs[1]) this.putdeleteModalTitle = objs[1]; //Only if the string is not empty\n      });\n\n    //Subscription for receiving FileGroup deletions\n    this.subscription3 = this.filesEditionService.fileGroupDeletedAnnounced$.subscribe(\n      fileGroupDeletedId => {\n        //fileGroupDeletedId is the id of the FileGroup that has been deleted by the child component (FileGroupComponent)\n        if (this.recursiveFileGroupDeletion(this.course.courseDetails.files, fileGroupDeletedId)) {\n          if (this.course.courseDetails.files.length == 0) this.changeModeEdition(); //If there are no fileGroups, mode edit is closed\n        }\n      });\n\n    //Subscription for receiving FileGroup and File objects that are being updated by the child component (FileGroupComponent)\n    this.subscription4 = this.filesEditionService.fileFilegroupUpdatedAnnounced$.subscribe(\n      objs => {\n        //objs is an array containing updatedFileGroup and updatedFile, in that specific order\n        if (objs[0]) {\n          this.updatedFileGroup = objs[0];\n          this.inputFileTitle = this.updatedFileGroup.title;\n          this.url_file_upload = this.URL_UPLOAD + this.course.id + \"/file-group/\" + this.updatedFileGroup.id;\n        }\n        if (objs[1]) {\n          this.updatedFile = objs[1];\n          this.inputFileTitle = this.updatedFile.name;\n        }\n      });\n\n    this.subscription5 = this.dragulaService.dropModel.subscribe((value) => {\n      this.changeFilesOrder(value);\n    });\n  }\n\n  ngOnInit() {\n    this.authenticationService.checkCredentials()\n      .then(() => {\n        this.route.params.forEach((params: Params) => {\n          let id = +params['id'];\n          this.tabId = +params['tabId'];\n          this.courseService.getCourse(id).subscribe(\n            course => {\n              this.sortSessionsByDate(course.sessions);\n              this.course = course;\n              this.selectedEntry = this.course.courseDetails.forum.entries[0]; //selectedEntry default to first entry\n              if (this.course.sessions.length > 0) this.changeUpdatedSession(this.course.sessions[0]); //updatedSession default to first session\n              this.updateCheckboxForumEdition(this.course.courseDetails.forum.activated);\n              this.welcomeText = this.course.courseDetails.info;\n            },\n            error => { });\n        });\n      })\n      .catch((e) => { });\n  }\n\n  ngOnDestroy() {\n    this.subscription1.unsubscribe();\n    this.subscription2.unsubscribe();\n    this.subscription3.unsubscribe();\n    this.subscription4.unsubscribe();\n    this.subscription5.unsubscribe();\n    this.dragulaService.destroy('drag-bag');\n  }\n\n  goToSessionVideo(session: Session) {\n    this.videoSessionService.session = session;\n    this.videoSessionService.course = this.course;\n    if (this.isSessionReady(session)) this.router.navigate(['/session', session.id]);\n  }\n\n  updatePostModalMode(mode: number, title: string, header: Entry, commentReplay: Comment, fileGroup: FileGroup) {\n    // mode[0: \"New Entry\", 1: \"New comment\", 2: \"New session\", 3: \"New VideoEntry\", 4: \"New FileGroup\", 5: \"Add files\"]\n    let objs = [mode, title, header, commentReplay, fileGroup];\n    this.courseDetailsModalDataService.announcePostMode(objs);\n  }\n\n  updatePutDeleteModalMode(mode: number, title: string) {\n    let objs = [mode, title];\n    this.courseDetailsModalDataService.announcePutdeleteMode(objs);\n  }\n\n  getLastEntryComment(entry: Entry) {\n    let comment = entry.comments[0];\n    for (let c of entry.comments) {\n      if (c.date > comment.date) comment = c;\n      comment = this.recursiveReplyDateCheck(comment);\n    }\n    return comment;\n  }\n\n  numberToDate(d: number) {\n    return new Date(d);\n  }\n\n  changeUpdatedSession(session: Session) {\n    this.updatedSession = session;\n    this.updatedSessionDate = (new Date(this.updatedSession.date)).toISOString().split(\"T\")[0]; //YYYY-MM-DD format\n    this.inputSessionTitle = this.updatedSession.title;\n    this.inputSessionDescription = this.updatedSession.description;\n    this.inputSessionDate = new Date(this.updatedSession.date);\n    this.inputSessionTime = this.dateToTimeInputFormat(this.inputSessionDate);\n  }\n\n  changeModeEdition() {\n    this.allowFilesEdition = !this.allowFilesEdition;\n    if (this.allowFilesEdition) {\n      this.filesEditionIcon = \"keyboard_arrow_left\";\n    }\n    else {\n      this.filesEditionIcon = \"mode_edit\";\n    }\n    this.filesEditionService.announceModeEdit(this.allowFilesEdition);\n  }\n\n  changeModeAttenders() {\n    this.allowAttendersEdition = !this.allowAttendersEdition;\n    if (this.allowAttendersEdition) {\n      this.attendersEditionIcon = \"keyboard_arrow_left\";\n    }\n    else {\n      this.attendersEditionIcon = \"mode_edit\";\n    }\n  }\n\n  isCurrentPostMode(possiblePostModes: string[]): boolean {\n    return (possiblePostModes.indexOf(this.postModalMode.toString()) > -1);\n  }\n\n  isCurrentPutdeleteMode(possiblePutdeleteModes: string[]): boolean {\n    return (possiblePutdeleteModes.indexOf(this.putdeleteModalMode.toString()) > -1);\n  }\n\n  updateCheckboxForumEdition(b: boolean) {\n    if (b) {\n      this.checkboxForumEdition = \"DEACTIVATION\";\n    } else {\n      this.checkboxForumEdition = \"ACTIVATION\";\n    }\n  }\n\n  filesUploadStarted(event) {\n    console.log(\"File upload started...\");\n  }\n\n  filesUploadCompleted(response) {\n    let fg = JSON.parse(response) as FileGroup;\n    console.log(\"File upload completed (items successfully uploadded). Response: \", fg);\n\n    for (let i = 0; i < this.course.courseDetails.files.length; i++) {\n      if (this.course.courseDetails.files[i].id == fg.id) {\n        this.course.courseDetails.files[i] = fg;\n        this.updatedFileGroup = fg;\n        break;\n      }\n    }\n  }\n\n  //POST new Entry, Comment or Session\n  onCourseDetailsSubmit() {\n\n    this.processingPost = true;\n\n    //If modal is opened in \"New Entry\" mode\n    if (this.postModalMode === 0) {\n      let e = new Entry(this.inputTitle, [new Comment(this.inputComment, '', false, null)]);\n\n      this.forumService.newEntry(e, this.course.courseDetails.id).subscribe( //POST method requires an Entry and the CourseDetails id that contains its Forum\n        response => {\n          this.course.courseDetails.forum.entries.push(response.entry as Entry); //Only on succesful post we update the modified forum\n          this.processingPost = false;\n          this.actions2.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n\n    //If modal is opened in \"New Session\" mode\n    else if (this.postModalMode === 2) {\n      let date = new Date(this.inputDate);\n      let hoursMins = this.inputTime.split(\":\");\n      date.setHours(parseInt(hoursMins[0]), parseInt(hoursMins[1]));\n      let s = new Session(this.inputTitle, this.inputComment, date.getTime());\n      this.sessionService.newSession(s, this.course.id).subscribe(\n        response => {\n          this.sortSessionsByDate(response.sessions);\n          this.course = response;\n\n          this.processingPost = false;\n          this.actions2.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n\n    //If modal is opened in \"New Comment\" mode (replaying or not replaying)\n    else if (this.postModalMode === 1) {\n      let c = new Comment(this.inputComment, '', false, this.postModalCommentReplay);\n      this.forumService.newComment(c, this.selectedEntry.id, this.course.courseDetails.id).subscribe(\n        response => {\n          //Only on succesful post we locally update the created entry\n          let ents = this.course.courseDetails.forum.entries;\n          for (let i = 0; i < ents.length; i++) {\n            if (ents[i].id == this.selectedEntry.id) {\n              this.course.courseDetails.forum.entries[i] = response.entry; //The entry with the required ID is updated\n              this.selectedEntry = this.course.courseDetails.forum.entries[i];\n              break;\n            }\n          }\n\n          this.processingPost = false;\n          this.actions2.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n\n    //If modal is opened in \"New FileGroup\" mode\n    else if (this.postModalMode === 4) {\n      let f = new FileGroup(this.inputTitle, this.postModalFileGroup);\n      this.fileService.newFileGroup(f, this.course.courseDetails.id).subscribe(\n        response => {\n          //Only on succesful post we locally update the entire course details\n          this.course.courseDetails = response;\n\n          this.processingPost = false; // Stop the loading animation\n          this.actions2.emit({ action: \"modal\", params: ['close'] }); // CLose the modal\n          if (!this.allowFilesEdition) this.changeModeEdition(); // Activate file edition view if deactivated\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n\n    //If modal is opened in \"New Videoentry\" mode\n    else if (this.postModalMode === 3) {\n      console.log('Sending new videoentry');\n      let e = new Entry(this.inputTitle, [new Comment(this.inputComment, 'new-url', this.recordType === 'audio', null)]);\n      this.forumService.newEntry(e, this.course.courseDetails.id).subscribe( //POST method requires an Entry and the CourseDetails id that contains its Forum\n        response => {\n          this.recorder.uploadAsMultipartfile(this.URL_UPLOAD + this.course.id + '/comment/' + response.comment.id)\n            .then((responseAsText) => {\n              this.cleanRecording();\n              let comment: Comment = JSON.parse(responseAsText) as Comment;\n              let entry: Entry = response.entry as Entry;\n              let index = entry.comments.map((c) => { return c.id; }).indexOf(response.comment.id);\n              if (index != -1) {\n                entry.comments[index] = comment;\n              }\n              this.course.courseDetails.forum.entries.push(entry); //Only on succesful post we update the modified forum\n              this.processingPost = false;\n              this.actions2.emit({ action: \"modal\", params: ['close'] });\n            })\n            .catch((e) => { });\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n\n    //If modal is opened in \"New Video Comment\" mode (replaying or not replaying)\n    else if (this.postModalMode === 6) {\n      let c = new Comment(this.inputComment, 'new-url', this.recordType === 'audio', this.postModalCommentReplay);\n      this.forumService.newComment(c, this.selectedEntry.id, this.course.courseDetails.id).subscribe(\n        response => {\n          this.recorder.uploadAsMultipartfile(this.URL_UPLOAD + this.course.id + '/comment/' + response.comment.id)\n            .then((responseAsText) => {\n              this.cleanRecording();\n              let comment: Comment = JSON.parse(responseAsText) as Comment;\n              let entry: Entry = response.entry as Entry;\n\n              this.replaceComment(entry.comments, comment);\n\n              let ents = this.course.courseDetails.forum.entries;\n              for (let i = 0; i < ents.length; i++) {\n                if (ents[i].id == this.selectedEntry.id) {\n                  this.course.courseDetails.forum.entries[i] = entry; // The entry with the required ID is updated\n                  this.selectedEntry = this.course.courseDetails.forum.entries[i];\n                  break;\n                }\n              }\n\n              this.processingPost = false;\n              this.actions2.emit({ action: \"modal\", params: ['close'] });\n            })\n            .catch((e) => { });\n        },\n        error => { this.processingPost = false; }\n      );\n    }\n  }\n\n  //PUT existing Session or Forum\n  onPutDeleteSubmit() {\n\n    this.processingPut = true;\n\n    //If modal is opened in PUT existing Session\n    if (this.putdeleteModalMode === 0) {\n      let modifiedDate: number = this.fromInputToNumberDate(this.updatedSessionDate, this.inputSessionTime);\n      let s: Session = new Session(this.inputSessionTitle, this.inputSessionDescription, modifiedDate);\n      s.id = this.updatedSession.id; //The new session must have the same id as the modified session in order to replace it\n      this.sessionService.editSession(s).subscribe(\n        response => {\n          //Only on succesful put we locally update the modified session\n          for (let i = 0; i < this.course.sessions.length; i++) {\n            if (this.course.sessions[i].id == response.id) {\n              this.course.sessions[i] = response; //The session with the required ID is updated\n              this.updatedSession = this.course.sessions[i];\n              break;\n            }\n          }\n          this.processingPut = false;\n          this.actions3.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPut = false; }\n      );\n    }\n\n    //If modal is opened in PUT existing Forum\n    else if (this.putdeleteModalMode === 1) {\n      this.forumService.editForum(!this.course.courseDetails.forum.activated, this.course.courseDetails.id).subscribe(\n        response => {\n          //Only on succesful put we locally update the modified session\n          this.course.courseDetails.forum.activated = response;\n          this.allowForumEdition = false;\n          this.updateCheckboxForumEdition(response);\n\n          this.processingPut = false;\n          this.actions3.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPut = false; }\n      );\n    }\n\n    //If modal is opened in PUT existing FileGroup\n    else if (this.putdeleteModalMode === 2) {\n      let fg: FileGroup = new FileGroup(this.inputFileTitle, null);\n      fg.id = this.updatedFileGroup.id;\n      this.fileService.editFileGroup(fg, this.course.id).subscribe(\n        response => {\n          for (let i = 0; i < this.course.courseDetails.files.length; i++) {\n            if (this.course.courseDetails.files[i].id == response.id) {\n              this.course.courseDetails.files[i] = response; //The root fileGroup with the required ID is updated\n              //this.updatedFileGroup = this.course.courseDetails.files[i];\n              break;\n            }\n          }\n\n          this.processingPut = false;\n          this.actions3.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPut = false; }\n      );\n    }\n\n    //If modal is opened in PUT existing File\n    else if (this.putdeleteModalMode === 3) {\n      let f: File = new File(1, this.inputFileTitle, \"www.newlink.com\");\n      f.id = this.updatedFile.id;\n      this.fileService.editFile(f, this.updatedFileGroup.id, this.course.id).subscribe(\n        response => {\n          for (let i = 0; i < this.course.courseDetails.files.length; i++) {\n            if (this.course.courseDetails.files[i].id == response.id) {\n              this.course.courseDetails.files[i] = response; //The root fileGroup with the required ID is updated\n              //this.updatedFileGroup = this.course.courseDetails.files[i];\n              break;\n            }\n          }\n\n          this.processingPut = false;\n          this.actions3.emit({ action: \"modal\", params: ['close'] });\n        },\n        error => { this.processingPut = false; }\n      );\n    }\n\n    //If modal is opened in Add attenders\n    else if (this.putdeleteModalMode === 4) {\n      //If the attenders are being added in the SIMPLE tab\n      if (this.attenderTabSelected === 0) {\n        console.log(\"Adding one attender in the SIMPLE tab\");\n        let arrayNewAttenders = [this.inputAttenderSimple];\n        this.courseService.addCourseAttenders(this.course.id, arrayNewAttenders).subscribe(\n          response => {\n            let newAttenders = response.attendersAdded as User[];\n            this.course.attenders = this.course.attenders.concat(newAttenders);\n            this.handleAttendersMessage(response);\n\n            this.processingPut = false;\n            this.actions3.emit({ action: \"modal\", params: ['close'] });\n          },\n          error => { this.processingPut = false; }\n        );\n      }\n      //If the attenders are being added in the MULTIPLE tab\n      else if (this.attenderTabSelected === 1) {\n        console.log(\"Adding multiple attenders in the MULTIPLE tab\");\n\n        //The input text is divided into entire words (by whitespaces, new lines and the custom separator)\n        let emailsFiltered = this.inputAttenderMultiple.replace('\\n', ' ').replace('\\r', ' ');\n        if (this.inputAttenderSeparator) {\n          let regExSeparator = new RegExp(this.inputAttenderSeparator, 'g');\n          emailsFiltered = emailsFiltered.replace(regExSeparator, ' ');\n        }\n        let arrayNewAttenders = emailsFiltered.split(/\\s+/).filter(v => v != '');\n\n        this.courseService.addCourseAttenders(this.course.id, arrayNewAttenders).subscribe(\n          response => { //response is an object with 4 arrays: attenders added, attenders that were already added, emails invalid and emails not registered\n            let newAttenders = response.attendersAdded as User[];\n            this.course.attenders = this.course.attenders.concat(newAttenders);\n            this.handleAttendersMessage(response);\n\n            this.processingPut = false;\n            this.actions3.emit({ action: \"modal\", params: ['close'] });\n          },\n          error => { this.processingPut = false; }\n        );\n      }\n      //If the attenders are being added in the FILE UPLOAD tab\n      else if (this.attenderTabSelected === 2) {\n        console.log(\"Adding attenders by file upload in the FILE UPLOAD tab\");\n        this.processingPut = false;\n      }\n    }\n  }\n\n  //DELETE existing Session\n  deleteSession() {\n    this.processingPut = true;\n\n    this.sessionService.deleteSession(this.updatedSession.id).subscribe(\n      response => {\n        //Only on succesful put we locally delete the session\n        for (let i = 0; i < this.course.sessions.length; i++) {\n          if (this.course.sessions[i].id == response.id) {\n            this.course.sessions.splice(i, 1); //The session with the required ID is deleted\n            this.updatedSession = this.course.sessions[0];\n            break;\n          }\n        }\n\n        this.processingPut = false;\n        this.actions3.emit({ action: \"modal\", params: ['close'] });\n      },\n      error => { this.processingPut = false; }\n    );\n  }\n\n  //Remove attender from course\n  deleteAttender(attender: User, j: number) {\n    console.log(\"Deleting attender \" + attender.nickName);\n\n    this.arrayOfAttDels[j] = true; // Start deleting animation\n\n    let c = new Course(this.course.title, this.course.image, this.course.courseDetails);\n    c.id = this.course.id;\n    for (let i = 0; i < this.course.attenders.length; i++) {\n      if (this.course.attenders[i].id !== attender.id) {\n        c.attenders.push(new User(this.course.attenders[i])); //Inserting a new User object equal to the attender but \"courses\" array empty\n      }\n    }\n    this.courseService.deleteCourseAttenders(c).subscribe(\n      response => {\n        this.course.attenders = response;\n        this.arrayOfAttDels[j] = false;\n        if (this.course.attenders.length <= 1) this.changeModeAttenders(); //If there are no attenders, mode edit is closed\n      },\n      error => { this.arrayOfAttDels[j] = false; }\n    );\n  }\n\n  //Updates the course info\n  updateCourseInfo() {\n    console.log(\"Updating course info\");\n\n    this.processingCourseInfo = true;\n\n    let c: Course = new Course(this.course.title, this.course.image, this.course.courseDetails);\n    c.courseDetails.info = this.welcomeText;\n    c.id = this.course.id;\n    this.courseService.editCourse(c, \"updating course info\").subscribe(\n      response => {\n        //Only on succesful put we locally update the modified course\n        this.course = response;\n        this.welcomeText = this.course.courseDetails.info;\n\n        this.processingCourseInfo = false;\n      },\n      error => { this.processingCourseInfo = false; }\n    )\n  }\n\n  //Closes the course info editing mode\n  closeUpdateCourseInfo() {\n    this.welcomeText = this.course.courseDetails.info;\n    this.welcomeTextEdition = false;\n    this.welcomeTextPreview = false;\n    this.previewButton = 'preview';\n  }\n\n  changeUrlTab(tab: number) {\n    this.location.replaceState(\"/courses/\" + this.course.id + \"/\" + tab);\n  }\n\n  isEntryTeacher(entry: Entry) {\n    return (entry.user.roles.indexOf('ROLE_TEACHER') > -1);\n  }\n\n\n  fileReaderUploadStarted(started: boolean) {\n    this.processingPut = started;\n  }\n\n  fileReaderUploadCompleted(response) {\n    console.log(\"File uploaded succesfully. Waiting for the system to add all students...  \");\n    let objResponse = JSON.parse(response);\n    if (\"attendersAdded\" in objResponse) {\n      let newAttenders = objResponse.attendersAdded as User[];\n\n      console.log(\"New attenders added:\");\n      console.log(newAttenders);\n\n      this.course.attenders = this.course.attenders.concat(newAttenders);\n      this.handleAttendersMessage(objResponse);\n\n      this.processingPut = false; // Stop the loading animation\n      this.uploaderModalService.announceUploaderClosed(true); // Clear the uploader file queue\n      this.actions3.emit({ action: \"modal\", params: ['close'] }); // Close the modal\n    } else {\n      this.processingPut = false;\n      console.log(\"There has been an error: \" + response);\n    }\n  }\n\n\n  //INTERNAL AUXILIAR METHODS\n  //Sorts an array of Session by their 'date' attribute (the first are the erliest)\n  sortSessionsByDate(sessionArray: Session[]): void {\n    sessionArray.sort(function (a, b) { return (a.date > b.date) ? 1 : ((b.date > a.date) ? -1 : 0); });\n  }\n\n  //Transforms a Date object into a single string (\"HH:MM\")\n  dateToTimeInputFormat(date: Date): string {\n    let hours = date.getHours() < 10 ? \"0\" + date.getHours().toString() : date.getHours().toString();\n    let minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes().toString() : date.getMinutes().toString();\n    return (hours + \":\" + minutes);\n  }\n\n  //Transforms two strings (\"YYYY-MM-DD\", \"HH:MM\") into a new Date object\n  fromInputToNumberDate(date: string, time: string): number {\n    let newDate: Date = new Date(date); //date parameter has a valid ISO format: YYYY-MM-DD\n    let timeArray = time.split(\":\");\n    newDate.setHours(parseInt(timeArray[0]));\n    newDate.setMinutes(parseInt(timeArray[1]));\n    return newDate.getTime(); //returning miliseconds\n  }\n\n  //Returns the earliest Comment (by 'date' attribute) in the recursive structure of comments which has Comment 'c' as root\n  recursiveReplyDateCheck(c: Comment): Comment {\n    for (let r of c.replies) {\n      if (r.date > c.date) c = r;\n      c = this.recursiveReplyDateCheck(r);\n    }\n    return c;\n  }\n\n  //Delets a fileGroup from this.course.courseDetails.files recursively, given a fileGroup id\n  recursiveFileGroupDeletion(fileGroupLevel: FileGroup[], fileGroupDeletedId: number): boolean {\n    if (fileGroupLevel) {\n      for (let i = 0; i < fileGroupLevel.length; i++) {\n        if (fileGroupLevel[i].id == fileGroupDeletedId) {\n          fileGroupLevel.splice(i, 1);\n          return true;\n        }\n        let deleted = this.recursiveFileGroupDeletion(fileGroupLevel[i].fileGroups, fileGroupDeletedId);\n        if (deleted) return deleted;\n      }\n    }\n  }\n\n  //Creates an error message when there is some problem when adding Attenders to a Course\n  //It also generates a correct feedback message when any student has been correctly added to the Course\n  handleAttendersMessage(response) {\n    let isError = false;\n    let isCorrect = false;\n    this.attErrorContent = \"\";\n    this.attCorrectContent = \"\";\n\n    if (response.attendersAdded.length > 0) {\n      for (let user of response.attendersAdded) {\n        this.attCorrectContent += \"<span class='feedback-list'>\" + user.name + \"</span>\";\n      }\n      isCorrect = true;\n    }\n    if (response.attendersAlreadyAdded.length > 0) {\n      this.attErrorContent += \"<span class='feedback-span'>The following users were already added to the course</span>\";\n      for (let user of response.attendersAlreadyAdded) {\n        this.attErrorContent += \"<span class='feedback-list'>\" + user.name + \"</span>\";\n      }\n      isError = true;\n    }\n    if (response.emailsValidNotRegistered.length > 0) {\n      this.attErrorContent += \"<span class='feedback-span'>The following users are not registered</span>\";\n      for (let email of response.emailsValidNotRegistered) {\n        this.attErrorContent += \"<span class='feedback-list'>\" + email + \"</span>\";\n      }\n      isError = true;\n    }\n    if (response.emailsInvalid) {\n      if (response.emailsInvalid.length > 0) {\n        this.attErrorContent += \"<span class='feedback-span'>These are not valid emails</span>\";\n        for (let email of response.emailsInvalid) {\n          this.attErrorContent += \"<span class='feedback-list'>\" + email + \"</span>\";\n        }\n        isError = true;\n      }\n    }\n    if (isError) {\n      this.attErrorTitle = \"There have been some problems\";\n      this.addAttendersError = true;\n    } else if (response.attendersAdded.length == 0) {\n      this.attErrorTitle = \"No emails there!\";\n      this.addAttendersError = true;\n    }\n    if (isCorrect) {\n      this.attCorrectTitle = \"The following users where properly added\";\n      this.addAttendersCorrect = true;\n    }\n  }\n\n  changeFilesOrder(dragAndDropArray) {\n    const [bagName, el, target, source] = dragAndDropArray;\n    let fileMoved = el.dataset.id;\n    let fileGroupSource = source.dataset.id;\n    let fileGroupTarget = target.dataset.id;\n    let fileNewPosition: number = this.getFilePosition(fileMoved, fileGroupTarget);\n    this.fileService.editFileOrder(fileMoved, fileGroupSource, fileGroupTarget, fileNewPosition, this.course.id).subscribe(\n      response => {\n        this.course.courseDetails.files = response;\n      },\n      error => { }\n    );\n  }\n\n  getFilePosition(fileMoved: number, fileGroupTarget: number): number {\n    let fileGroupFound: FileGroup = null;\n    let i = 0;\n    while (!fileGroupFound && i < this.course.courseDetails.files.length) {\n      fileGroupFound = this.findFileGroup(fileGroupTarget, this.course.courseDetails.files[i]);\n      i++;\n    }\n    if (fileGroupFound) {\n      for (let j = 0; j < fileGroupFound.files.length; j++) {\n        if (fileGroupFound.files[j].id == fileMoved) {\n          return j;\n        }\n      }\n    }\n    else return -1;\n  }\n\n\n  findFileGroup(id: number, currentFileGroup: FileGroup): FileGroup {\n    let i: number;\n    let currentChildFileGroup: FileGroup;\n    let result: FileGroup;\n\n    if (id == currentFileGroup.id) {\n      return currentFileGroup;\n    } else {\n      for (i = 0; i < currentFileGroup.fileGroups.length; i++) {\n        currentChildFileGroup = currentFileGroup.fileGroups[i];\n        result = this.findFileGroup(id, currentChildFileGroup);\n        if (result !== null) {\n          return result;\n        }\n      }\n      return null;\n    }\n  }\n\n  isSessionReady(session: Session) {\n    let d = new Date();\n    //return (d.toDateString() === this.numberToDate(session.date).toDateString());\n    return true;\n  }\n\n  recordVideo(publisherOptions: any) {\n    this.recordRadioEnabled = false;\n    this.OV = new OpenVidu();\n    this.publisher = this.OV.initPublisher(\n      'post-video',\n      publisherOptions,\n      (err) => {\n        if (err) {\n          this.publisherErrorMessage = err.message;\n          console.warn(err);\n          if (err.name === 'SCREEN_EXTENSION_NOT_INSTALLED') {\n            this.publisherErrorMessage = 'In Chrome you need an extension installed to share your screen. Go to <a href=\"' + err.message + '\">this link</a> to install the extension. YOU MUST REFRESH THE PAGE AFTER INSTALLING IT'\n          }\n        }\n      }\n    );\n    this.publisher.on('videoElementCreated', (e) => {\n      if (publisherOptions.audio && !publisherOptions.video) {\n        $(e.element).css({ 'background-color': '#4d4d4d', 'padding': '50px' });\n        $(e.element).attr('poster', 'assets/images/volume.png');\n      }\n    })\n    this.publisher.on('videoPlaying', (e) => {\n      this.recordRadioEnabled = true;\n      this.addRecordingControls(e.element);\n    });\n  }\n\n  startStopRecording() {\n    if (!this.recording) {\n      this.recorder = new LocalRecorder(this.publisher.stream);\n      this.recorder.record();\n      document.getElementById('record-start-stop').innerHTML = 'Finish';\n      document.getElementById('record-pause-resume').style.display = 'inline-block';\n    } else {\n      this.recorder.stop()\n        .then(() => {\n          document.getElementById('post-video').getElementsByTagName('video')[0].style.display = 'none';\n          this.removeRecordingControls();\n          let recordingPreview: HTMLVideoElement = this.recorder.preview('post-video');\n          recordingPreview.controls = true;\n          this.addPostRecordingControls(recordingPreview);\n        })\n        .catch((e) => { });\n    }\n    this.recording = !this.recording;\n  }\n\n  pauseResumeRecording() {\n    if (!this.paused) {\n      this.recorder.pause();\n      document.getElementById('record-pause-resume').innerHTML = 'Resume';\n      document.getElementById('post-video').getElementsByTagName('video')[0].pause();\n    } else {\n      this.recorder.resume();\n      document.getElementById('record-pause-resume').innerHTML = 'Pause';\n      document.getElementById('post-video').getElementsByTagName('video')[0].play();\n    }\n    this.paused = !this.paused;\n  }\n\n  recordRadioChange(event) {\n    this.cleanRecording();\n    this.recordType = event.target.value;\n    this.recordVideo(this.getPublisherOptions(this.recordType));\n  }\n\n  cleanRecording() {\n    if (!!this.recorder) this.recorder.clean();\n    if (!!this.publisher) this.publisher.destroy();\n    delete this.publisher;\n    this.recordRadioEnabled = true;\n    this.publisherErrorMessage = '';\n    this.recordType = 'video';\n    this.removeRecordingControls();\n    this.removePostRecordingControls();\n    let el = document.getElementById('post-video');\n    if (!!el) {\n      el = el.getElementsByTagName('video')[0];\n      if (!!el) {\n        el.outerHTML = '';\n      }\n    }\n    this.recording = false;\n    this.paused = false;\n  }\n\n  repeatRecording(type: string) {\n    this.cleanRecording();\n    this.recordType = type;\n    this.recordVideo(this.getPublisherOptions(type));\n  }\n\n  getPublisherOptions(option: string): any {\n    let options = {};\n    switch (option) {\n      case 'video':\n        options = {\n          audio: true,\n          video: true,\n          quality: 'MEDIUM'\n        }\n        break;\n      case 'audio':\n        options = {\n          audio: true,\n          video: false\n        }\n        break;\n      case 'screen':\n        options = {\n          audio: true,\n          video: true,\n          quality: 'MEDIUM',\n          screen: true\n        }\n        break;\n    }\n    return options;\n  }\n\n  private addRecordingControls(videoElement: HTMLVideoElement): void {\n    const dataNode = document.createElement('div');\n    dataNode.id = 'recording-controls';\n    dataNode.innerHTML =\n      '<a id=\"record-start-stop\" class=\"btn waves-effect button-small button-small-margin\" title=\"Start/End recording\">Start</a>' +\n      '<a id=\"record-pause-resume\" class=\"btn waves-effect button-small button-small-margin\" title=\"Pause/Resume recording\" style=\"display: none\">Pause</a>' +\n      '<a id=\"record-cancel\" class=\"btn waves-effect button-small button-small-margin\" title=\"Cancel recording\">Cancel</a>';\n    videoElement.parentNode.insertBefore(dataNode, videoElement.nextSibling);\n    document.getElementById('record-start-stop').addEventListener('click', this.startStopRecording.bind(this));\n    document.getElementById('record-pause-resume').addEventListener('click', this.pauseResumeRecording.bind(this));\n    document.getElementById('record-cancel').addEventListener('click', this.cleanRecording.bind(this));\n  }\n\n  private removeRecordingControls() {\n    let el = document.getElementById('recording-controls');\n    if (!!el) {\n      el.outerHTML = '';\n    }\n  }\n\n  private addPostRecordingControls(videoElement: HTMLVideoElement): void {\n    const dataNode = document.createElement('div');\n    dataNode.id = 'recording-post-controls';\n    dataNode.innerHTML =\n      '<a id=\"record-post-repeat\" class=\"btn waves-effect button-small button-small-margin\" title=\"Repeat recording\">Repeat</a>' +\n      '<button id=\"record-post-send\" class=\"btn waves-effect button-small button-small-margin\" title=\"Send entry\" type=\"submit\">Send</button>';\n    videoElement.parentNode.insertBefore(dataNode, videoElement.nextSibling);\n    let recordTypeAux = this.recordType;\n    document.getElementById('record-post-repeat').addEventListener('click', this.repeatRecording.bind(this, recordTypeAux));\n  }\n\n  private removePostRecordingControls() {\n    let el = document.getElementById('recording-post-controls');\n    if (!!el) {\n      el.outerHTML = '';\n    }\n  }\n\n  private replaceComment(comments, newComment): boolean {\n    let rep = false;\n    for (let i = 0; i < comments.length; i++) {\n      if (comments[i].id === newComment.id) {\n        comments[i] = newComment;\n        return true;\n      }\n      if (comments[i].replies.length > 0) {\n        let replaced = this.replaceComment(comments[i].replies, newComment);\n        if (replaced) {\n          rep = true;\n          break;\n        }\n      }\n    }\n    return rep;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/course-details/course-details.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".anchor-routing {\\n  color: inherit !important;\\n}\\n\\nli:hover {\\n  background-color: rgba(224, 224, 224, 0.2);\\n  transition: all .2s ease-out;\\n}\\n\\n.dashboard-title {\\n  font-size: 1.5rem;\\n  font-weight: 300;\\n  padding-bottom: 15px;\\n}\\n\\n.course-title {\\n  cursor: pointer;\\n}\\n\\nspan.title {\\n  font-weight: bold;\\n}\\n\\n.session-list-item {\\n  margin-top: 15px;\\n  margin-bottom: 0;\\n}\\n\\nli.collection-item {\\n  position: relative;\\n}\\n\\n.loading-details {\\n  animation: spinIcon 0.7s infinite linear;\\n}\\n\\n.sessionImage {\\n  display: inline;\\n}\\n\\nli.li-warning {\\n  padding-left: 7.5px;\\n  padding-right: 7.5px;\\n}\\n\\n.course-put-icon {\\n  font-size: 20px;\\n  color: #5e615f;\\n  cursor: pointer;\\n}\\n\\n.course-put-icon:hover {\\n  color: #91a59b;\\n}\\n\\n@media only screen and (min-width: 993px) {\\n  .sessionImage {\\n    width: 70px;\\n    height: 70px;\\n  }\\n}\\n\\n@media only screen and (max-width: 992px) {\\n  .sessionImage {\\n    width: 45px;\\n    height: 45px;\\n  }\\n}\\n\\n@media only screen and (min-width: 601px) {\\n  .calendar-div {\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-align: center;\\n    align-items: center;\\n  }\\n}\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .container-ul {\\n    width: 100%;\\n    margin-top: 0;\\n    margin-bottom: 0;\\n  }\\n  .dashboard-title{\\n    text-align: center;\\n  }\\n  .calendar-div{\\n    margin-left: 12px;\\n    margin-right: 12px;\\n    margin-bottom: 35px;\\n  }\\n  .dashboard-col{\\n    margin-top: 30px;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.css\n// module id = ../../../../../src/app/components/dashboard/dashboard.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"!this.courses\\\" class=\\\"loading\\\"></div>\\n\\n<div *ngIf=\\\"this.courses\\\">\\n\\n  <!--POST COURSE DIALOG-->\\n  <div id=\\\"course-modal\\\" class=\\\"modal my-modal-class course-modal\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"actions1\\\">\\n\\n    <div *ngIf=\\\"processingPost\\\" class=\\\"loading\\\"></div>\\n\\n    <div class=\\\"modal-content\\\" [class.filtered]=\\\"processingPost\\\">\\n      <p class=\\\"p-bold-modal-header\\\">New course</p>\\n      <div class=\\\"row no-margin\\\">\\n\\n        <form materialize #courseForm class=\\\"col s12\\\" (ngSubmit)=\\\"onCourseSubmit(); courseForm.reset();\\\">\\n          <div class=\\\"row no-margin\\\">\\n\\n            <div class=\\\"row row-mobile\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputPostCourseName\\\" name=\\\"inputPostCourseName\\\" id=\\\"input-post-course-name\\\" type=\\\"text\\\" class=\\\"validate\\\" autocomplete=\\\"off\\\" required>\\n                <label for=\\\"inputPostCourseName\\\">Course name</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n              <div class=\\\"input-field file-field col s12\\\">\\n                <div>\\n                  <img class=\\\"circle\\\" src=\\\"../assets/images/default_session_image.png\\\">\\n                  <input type=\\\"file\\\" name=\\\"inputPostCourseImage\\\" id=\\\"inputPostCourseImage\\\">\\n                </div>\\n              </div>\\n            </div>\\n\\n          </div>\\n          <div class=\\\"row right-align row-mobile\\\">\\n            <a (click)=\\\"courseForm.reset();\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button cancel-modal-btn\\\">Cancel</a>\\n            <button type=\\\"submit\\\" id=\\\"submit-post-course-btn\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Send</button>\\n          </div>\\n        </form>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <!--POST COURSE DIALOG-->\\n\\n  <!--PUT/DELETE COURSE DIALOG-->\\n  <div *ngIf=\\\"this.courses.length > 0 && this.authenticationService.isLoggedIn() && this.authenticationService.isTeacher()\\\" id=\\\"put-delete-course-modal\\\" class=\\\"modal my-modal-class course-modal\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"actions4\\\">\\n\\n    <div *ngIf=\\\"processingPut\\\" class=\\\"loading\\\"></div>\\n\\n    <div class=\\\"modal-content\\\" [class.filtered]=\\\"processingPut\\\">\\n      <p class=\\\"p-bold-modal-header\\\">Modify course</p>\\n      <div class=\\\"row no-margin\\\">\\n\\n        <form materialize #putDeleteCourseForm class=\\\"col s12\\\" (ngSubmit)=\\\"onPutDeleteCourseSubmit(); putDeleteCourseForm.reset(); this.allowCourseDeletion = false;\\\">\\n          <div class=\\\"row no-margin\\\">\\n\\n            <div class=\\\"row row-mobile\\\">\\n              <label for=\\\"inputPutCourseName\\\">Course name</label>\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputPutCourseName\\\" name=\\\"inputPutCourseName\\\" id=\\\"input-put-course-name\\\" type=\\\"text\\\" class=\\\"validate\\\" required>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n              <div class=\\\"input-field file-field col s12\\\">\\n                <div>\\n                  <img class=\\\"circle\\\" src=\\\"../assets/images/default_session_image.png\\\">\\n                  <input type=\\\"file\\\" name=\\\"inputPutCourseImage\\\" id=\\\"inputPutCourseImage\\\">\\n                </div>\\n              </div>\\n            </div>\\n\\n          </div>\\n          <div class=\\\"row no-margin-bottom right-align\\\">\\n            <div class=\\\"valign-wrapper delete-div\\\">\\n              <a id=\\\"delete-course-btn\\\" (click)=\\\"this.deleteCourse(); putDeleteCourseForm.reset();  this.allowCourseDeletion = false;\\\" class=\\\"waves-effect btn-flat modal-footer-button float-to-left\\\" [class.disabled]=\\\"!this.allowCourseDeletion\\\">Delete</a>\\n              <div class=\\\"float-to-left\\\">\\n                <input #deleteCheckbox type=\\\"checkbox\\\" class=\\\"filled-in\\\" id=\\\"delete-checkbox\\\" name=\\\"delete-checkbox\\\" (change)=\\\"this.allowCourseDeletion = deleteCheckbox.checked\\\"/>\\n                <label for=\\\"delete-checkbox\\\" id=\\\"label-delete-checkbox\\\">Allow deletion?</label>\\n              </div>\\n            </div>\\n            <a (click)=\\\"putDeleteCourseForm.reset(); this.allowCourseDeletion = false;\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button cancel-modal-btn\\\">Cancel</a>\\n            <button type=\\\"submit\\\" id=\\\"submit-put-course-btn\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Send</button>\\n          </div>\\n        </form>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <!--PUT/DELETE COURSE DIALOG-->\\n\\n  <div class=\\\"container container-ul margins-top-bottom\\\">\\n    <div class=\\\"row no-margin\\\">\\n\\n      <div class=\\\"col l6 m5 s12 dashboard-col\\\">\\n        <div class=\\\"dashboard-title\\\">MY COURSES\\n          <a href=\\\"#course-modal\\\" id=\\\"add-new-course-btn\\\" *ngIf=\\\"this.authenticationService.isLoggedIn() && this.authenticationService.isTeacher()\\\" (click)=\\\"this.animationService.animateIfSmall()\\\" [title]=\\\"'Add new course'\\\">\\n            <i id=\\\"add-course-icon\\\" class=\\\"material-icons add-element-icon\\\">add_circle_outline</i>\\n          </a>\\n        </div>\\n        <ul id=\\\"course-list\\\" class=\\\"collection\\\">\\n          <li *ngIf=\\\"courses.length === 0 && this.authenticationService.isStudent()\\\" class=\\\"li-warning\\\"><app-error-message [errorTitle]=\\\"'You do not have any courses'\\\" [errorContent]=\\\"'Your teacher must invite you'\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></li>\\n          <li *ngIf=\\\"courses.length === 0 && this.authenticationService.isTeacher()\\\" class=\\\"li-warning\\\"><app-error-message [errorTitle]=\\\"'You do not have any courses'\\\" [errorContent]=\\\"'You can add one by clicking on the icon above'\\\" [customClass]=\\\"'warning'\\\" [closable]=\\\"false\\\"></app-error-message></li>\\n          <li *ngFor=\\\"let course of courses; let i = index\\\" class=\\\"collection-item course-list-item\\\">\\n            <div class=\\\"row session-list-item valign-wrapper\\\">\\n\\n              <div class=\\\"col l4 m3 s3 valign center-align\\\">\\n                <img materialize=\\\"materialbox\\\" class=\\\"circle materialboxed sessionImage\\\" src={{this.getImage(course)}}>\\n              </div>\\n\\n              <div (click)=\\\"goToCourseDetail(course.id)\\\" class=\\\"col l6 m7 s7 valign course-title\\\">\\n                <span class=\\\"title\\\">{{course?.title}}</span>\\n              </div>\\n\\n              <div class=\\\"col l2 m2 s2 right-align no-padding-lateral\\\">\\n                <a href=\\\"#put-delete-course-modal\\\" *ngIf=\\\"this.authenticationService.isLoggedIn() && this.authenticationService.isTeacher()\\\" (click)=\\\"this.changeUpdatedCourse(course); this.animationService.animateIfSmall()\\\" [title]=\\\"'Modify course'\\\">\\n                  <i class=\\\"material-icons course-put-icon\\\">mode_edit</i>\\n                </a>\\n              </div>\\n\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n\\n      <div class=\\\"col l6 m7 s12 dashboard-col\\\">\\n        <div class=\\\"dashboard-title\\\">MY CALENDAR</div>\\n        <div class=\\\"calendar-div\\\">\\n          <calendar-app></calendar-app>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.html\n// module id = ../../../../../src/app/components/dashboard/dashboard.component.html\n// module chunks = main","import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { MaterializeAction } from 'angular2-materialize';\n\nimport { Course } from '../../classes/course';\nimport { CourseDetails } from '../../classes/course-details';\nimport { Session } from '../../classes/session';\nimport { Forum } from '../../classes/forum';\n\nimport { CalendarComponent } from '../calendar/calendar.component';\n\nimport { CourseService } from '../../services/course.service';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { AnimationService } from '../../services/animation.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css'],\n})\nexport class DashboardComponent implements OnInit {\n\n  courses: Course[];\n\n  //POST MODAL\n  processingPost: boolean = false;\n  inputPostCourseName: string;\n\n  //PUT-DELETE MODAL\n  processingPut: boolean = false;\n  inputPutCourseName: string;\n  inputPutCourseImage: string;\n  updatedCourse: Course;\n  allowCourseDeletion: boolean = false;\n\n  actions1 = new EventEmitter<string | MaterializeAction>();\n  actions4 = new EventEmitter<string | MaterializeAction>();\n\n  constructor(\n    private courseService: CourseService,\n    private authenticationService: AuthenticationService,\n    private animationService: AnimationService,\n    private router: Router,\n  ) { }\n\n  ngOnInit(): void {\n    this.authenticationService.checkCredentials()\n      .then(() => { this.getCourses(); })\n      .catch((e) => { });\n  }\n\n  goToCourseDetail(id): void {\n    this.router.navigate(['/courses', id, 0]);\n  }\n\n  logout() {\n    this.authenticationService.logOut();\n  }\n\n  getCourses(): void {\n    this.courseService.getCourses(this.authenticationService.getCurrentUser()).subscribe(\n      courses => {\n        this.authenticationService.getCurrentUser().courses = courses;\n        this.courses = courses;\n        if (this.courses.length > 0) this.updatedCourse = this.courses[0];\n      },\n      error => { });\n  }\n\n\n  getImage(c: Course) {\n    if (c.image) {\n      return c.image;\n    }\n    else {\n      //return c.teacher.picture;\n      return \"/../assets/images/default_session_image.png\";\n    }\n  }\n\n  //POST new Course\n  onCourseSubmit() {\n    this.processingPost = true;\n\n    let newForum = new Forum(true);\n    let newCourseDetails = new CourseDetails(newForum, []);\n    let newCourse = new Course(this.inputPostCourseName, this.authenticationService.getCurrentUser().picture, newCourseDetails);\n    this.courseService.newCourse(newCourse).subscribe(\n      course => {\n        this.courses.push(course);\n\n        this.processingPost = false;\n        this.actions1.emit({ action: \"modal\", params: ['close'] });\n      },\n      error => { this.processingPost = false; }\n    )\n  }\n\n  //PUT existing Course\n  onPutDeleteCourseSubmit() {\n    this.processingPut = true;\n\n    let c: Course = new Course(this.inputPutCourseName, this.updatedCourse.image, this.updatedCourse.courseDetails);\n    c.id = this.updatedCourse.id;\n    this.courseService.editCourse(c, \"updating course name\").subscribe(\n      response => {\n        //Only on succesful put we locally update the modified course\n        for (let i = 0; i < this.courses.length; i++) {\n          if (this.courses[i].id == response.id) {\n            this.courses[i] = response; //The session with the required ID is updated\n            this.updatedCourse = this.courses[i];\n            break;\n          }\n        }\n\n        this.processingPut = false;\n        this.actions4.emit({ action: \"modal\", params: ['close'] });\n      },\n      error => { this.processingPut = false; }\n    )\n  }\n\n  //DELETE existing Course\n  deleteCourse() {\n    this.courseService.deleteCourse(this.updatedCourse.id).subscribe(\n      response => {\n        //Only on succesful put we locally delete the course\n        for (let i = 0; i < this.courses.length; i++) {\n          if (this.courses[i].id == response.id) {\n            this.courses.splice(i, 1); //The course with the required ID is deleted\n            this.updatedCourse = this.courses[0];\n            break;\n          }\n        }\n        this.actions4.emit({ action: \"modal\", params: ['close'] });\n      },\n      error => { }\n    );\n  }\n\n  changeUpdatedCourse(course: Course) {\n    this.updatedCourse = course;\n    this.inputPutCourseName = this.updatedCourse.title;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/dashboard/dashboard.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".card-panel {\\n  box-shadow: none !important;\\n  text-align: initial;\\n}\\n\\n.fail {\\n  background-color: rgba(167, 56, 65, 0.2);\\n  color: #a73841;\\n}\\n\\n.warning {\\n  background-color: rgba(175, 110, 0, 0.2);\\n  color: #af6e00;\\n}\\n\\n.card-panel.warning {\\n  margin-bottom: 0.5rem;\\n}\\n\\n.correct {\\n  background-color: rgba(55, 86, 70, 0.25);\\n  color: #375546;\\n}\\n\\ni {\\n  cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.css\n// module id = ../../../../../src/app/components/error-message/error-message.component.css\n// module chunks = main","module.exports = \"<div class=\\\"card-panel\\\" [ngClass]=\\\"customClass\\\">\\n  <i *ngIf=\\\"closable\\\" class=\\\"material-icons right\\\" (click)=\\\"closeAlert()\\\">clear</i>\\n  <h5>{{this.errorTitle}}</h5>\\n  <p [innerHTML]=\\\"this.errorContent\\\"></p>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.html\n// module id = ../../../../../src/app/components/error-message/error-message.component.html\n// module chunks = main","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-error-message',\n  templateUrl: './error-message.component.html',\n  styleUrls: ['./error-message.component.css']\n})\nexport class ErrorMessageComponent {\n\n  @Input()\n  errorTitle: string;\n  @Input()\n  errorContent: string;\n  @Input()\n  customClass: string;\n  @Input()\n  closable: boolean;\n  @Input()\n  timeable: number;\n\n  @Output()\n  eventShowable = new EventEmitter<boolean>();\n\n  constructor() { }\n\n  public closeAlert() {\n    this.eventShowable.emit(false);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/error-message/error-message.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".file-group-root {\\n  padding-left: 15px;\\n  margin-bottom: 30px;\\n}\\n\\n.file-group-child {\\n  padding-left: 30px !important;\\n  margin-bottom: 20px !important;\\n}\\n\\n.file-group-title h5 {\\n  font-size: 1.1rem;\\n  font-weight: 300;\\n}\\n\\n.file-group-title-div {\\n  padding-left: 0.656em;\\n  margin-top: 20px;\\n}\\n\\n.buttons-container-div {\\n  padding-bottom: 0.656rem;\\n  margin-bottom: 0.656em;\\n}\\n\\n.mode-edit-icon {\\n  max-height: 24px;\\n  margin-left: 10px;\\n}\\n\\n.chip-file {\\n  display: -ms-flexbox;\\n  display: flex;\\n  min-width: 300px;\\n  cursor: pointer;\\n  padding-left: 0;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -o-user-select: none;\\n  -ms-user-select: none;\\n      user-select: none;\\n}\\n\\n.file-extension {\\n  background-color: #FFFFFF;\\n  border-radius: 15px;\\n  padding: 1px 3px 1px 3px;\\n  margin-right: 2px;\\n  font-size: 13px;\\n  border: 3px solid #e0e0e0;\\n  height: 32px;\\n  line-height: 23px;\\n  min-width: 32px;\\n  text-align: center;\\n}\\n\\nh5 {\\n  display: inline-block;\\n}\\n\\n.disp-inline-flex {\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n}\\n\\n.file-controls {\\n  display: inline-block;\\n}\\n\\n.button-add-file {\\n  margin-left: 5px;\\n  margin-right: 2.5px;\\n  border: 1px solid #e4e4e4;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  font-size: x-small;\\n  font-weight: 500;\\n}\\n\\n.action-file-icon {\\n  cursor: pointer;\\n  margin-left: 3px;\\n  margin-right: 3px;\\n}\\n\\n.action-file-icon:hover {\\n  color: #91a59b;\\n}\\n\\n.drag-bag-editable {\\n  min-height: 35px;\\n}\\n\\n.drag-handle {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.drag-handle:active {\\n  cursor: grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\\n.title-edit {\\n  background-color: rgb(243, 243, 243);\\n}\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .chip-file {\\n    min-width: 230px !important;\\n    margin-bottom: 0px !important;\\n    margin-top: 5px !important;\\n  }\\n  .file-controls {\\n    display: block !important;\\n  }\\n}\\n/*End mobile phones*/\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.css\n// module id = ../../../../../src/app/components/file-group/file-group.component.css\n// module chunks = main","module.exports = \"<div [class.file-group-root]=\\\"this.depth === 0\\\" [class.file-group-child]=\\\"this.depth > 0\\\">\\n  <div class=\\\"file-group-title-div\\\" [class.title-edit]=\\\"this.modeEditActive\\\">\\n    <div class=\\\"file-group-title valign-wrapper\\\">\\n      <h5>{{fileGroup?.title}}</h5>\\n    </div>\\n    <div *ngIf=\\\"this.modeEditActive && this.authenticationService.isTeacher()\\\" class=\\\"buttons-container-div valign-wrapper\\\">\\n      <a href=\\\"#course-details-modal\\\" class=\\\"button-add-file waves-effect btn-flat add-file-btn\\\" (click)=\\\"updatePostModalMode(5, 'Add files'); this.changeUpdatedFileGroup(); this.animationService.animateIfSmall()\\\">Add file</a>\\n      <a href=\\\"#course-details-modal\\\" class=\\\"button-add-file waves-effect btn-flat add-subgroup-btn\\\" (click)=\\\"updatePostModalMode(4, 'New subgroup'); this.animationService.animateIfSmall()\\\">Add subgroup</a>\\n      <a href=\\\"#put-delete-modal\\\" class=\\\"mode-edit-icon\\\" (click)=\\\"updatePutdeleteModalMode(2, 'Modify file group'); this.changeUpdatedFileGroup(); this.animationService.animateIfSmall()\\\" [title]=\\\"'Modify file group'\\\">\\n        <i id=\\\"edit-filegroup-icon\\\" class=\\\"material-icons action-file-icon\\\">mode_edit</i>\\n      </a>\\n      <i *ngIf=\\\"!this.fileGroupDeletion\\\" class=\\\"material-icons action-file-icon delete-filegroup-icon\\\" (click)=\\\"deleteFileGroup()\\\" [title]=\\\"'Delete file group'\\\">clear</i>\\n      <i *ngIf=\\\"this.fileGroupDeletion\\\" class=\\\"material-icons action-file-icon rotating\\\">cached</i>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"drag-bag-editable\\\" [dragula]='\\\"drag-bag\\\"' [dragulaModel]=\\\"fileGroup?.files\\\" [attr.data-id]=\\\"fileGroup.id\\\">\\n    <div *ngFor=\\\"let f of fileGroup?.files; let i = index\\\" [attr.data-id]=\\\"f.id\\\">\\n        <div class=\\\"chip chip-file truncate valign-wrapper disp-inline-flex\\\" (click)=\\\"this.downloadFile(f)\\\">\\n          <span class=\\\"file-extension\\\" [style.background-color]=\\\"getColorByFile(f.link)\\\">{{getFileExtension(f.link)}}</span><div class=\\\"file-name-div valign\\\">{{f.name}}</div>\\n        </div>\\n        <div *ngIf=\\\"this.modeEditActive && this.authenticationService.isTeacher()\\\" class=\\\"file-controls\\\">\\n          <a href=\\\"#put-delete-modal\\\" (click)=\\\"updatePutdeleteModalMode(3, 'Modify file'); this.changeUpdatedFile(f); this.animationService.animateIfSmall()\\\" title=\\\"Modify file\\\">\\n            <i class=\\\"edit-file-name-icon material-icons action-file-icon\\\">mode_edit</i>\\n          </a>\\n          <i *ngIf=\\\"!this.arrayOfDeletions[i]\\\" (click)=\\\"deleteFile(f, i)\\\" class=\\\"material-icons action-file-icon\\\" [title]=\\\"'Delete file'\\\">clear</i>\\n          <i *ngIf=\\\"this.arrayOfDeletions[i]\\\" class=\\\"material-icons action-file-icon rotating\\\">cached</i>\\n          <i class=\\\"drag-handle material-icons action-file-icon\\\" [title]=\\\"'Move file'\\\">reorder</i>\\n        </div>\\n    </div>\\n  </div>\\n\\n  <div *ngFor=\\\"let subFileGroup of fileGroup?.fileGroups\\\">\\n    <app-file-group [fileGroup]=\\\"subFileGroup\\\" [depth]=\\\"this.depth + 1\\\" [courseId]=\\\"this.courseId\\\" ></app-file-group>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.html\n// module id = ../../../../../src/app/components/file-group/file-group.component.html\n// module chunks = main","import { Component, OnInit, Input } from '@angular/core';\n\nimport { Subscription }             from 'rxjs/Subscription';\n\nimport { File }      from '../../classes/file';\nimport { FileGroup } from '../../classes/file-group';\n\nimport { FileService }           from '../../services/file.service';\nimport { FilesEditionService }   from '../../services/files-edition.service';\nimport { CourseDetailsModalDataService } from '../../services/course-details-modal-data.service';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { AnimationService }      from '../../services/animation.service';\n\n\n@Component({\n  selector: 'app-file-group',\n  templateUrl: './file-group.component.html',\n  styleUrls: ['./file-group.component.css']\n})\nexport class FileGroupComponent implements OnInit {\n\n  @Input()\n  public fileGroup: FileGroup;\n\n  @Input()\n  public courseId: number;\n\n  @Input()\n  public depth: number;\n\n  modeEditActive: boolean = false;\n\n  fileGroupDeletion: boolean = false;\n  arrayOfDeletions = [];\n\n  subscription: Subscription;\n\n  typeOfFile = ['language', 'picture_as_pdf', 'videocam'];\n\n  constructor(\n    private fileService: FileService,\n    private filesEditionService: FilesEditionService,\n    private courseDetailsModalDataService: CourseDetailsModalDataService,\n    private authenticationService: AuthenticationService,\n    private animationService: AnimationService) {\n\n    this.subscription = filesEditionService.modeEditAnnounced$.subscribe(\n      active => {\n        this.modeEditActive = active;\n      });\n  }\n\n  ngOnInit() {\n    this.modeEditActive = this.filesEditionService.currentModeEdit;\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  updatePostModalMode(mode: number, title: string) {\n    let objs = [mode, title, null, null, this.fileGroup];\n    this.courseDetailsModalDataService.announcePostMode(objs);\n  }\n\n  updatePutdeleteModalMode(mode: number, title: string) {\n    let objs = [mode, title];\n    this.courseDetailsModalDataService.announcePutdeleteMode(objs);\n  }\n\n  changeUpdatedFileGroup() {\n    let objs = [this.fileGroup, null];\n    this.filesEditionService.announceFileFilegroupUpdated(objs);\n  }\n\n  changeUpdatedFile(file: File) {\n    let objs = [this.fileGroup, file];\n    this.filesEditionService.announceFileFilegroupUpdated(objs);\n  }\n\n  deleteFileGroup() {\n    this.fileGroupDeletion = true;\n    this.fileService.deleteFileGroup(this.fileGroup.id, this.courseId).subscribe(\n      response => {\n        //Only on succesful DELETE we locally delete the fileGroup sending an event to the suscribed parent component (CourseDetailsComponent)\n        this.filesEditionService.announceFileGroupDeleted(response.id);\n        this.fileGroupDeletion = false;\n      },\n      error => { this.fileGroupDeletion = false; }\n    );\n  }\n\n  deleteFile(file: File, i: number) {\n    this.arrayOfDeletions[i] = true;\n    this.fileService.deleteFile(file.id, this.fileGroup.id, this.courseId).subscribe(\n      response => {\n        //Only on succesful delete we locally delete the file\n        for (let i = 0; i < this.fileGroup.files.length; i++) {\n          if (this.fileGroup.files[i].id == response.id) {\n            this.fileGroup.files.splice(i, 1);\n            break;\n          }\n        }\n        this.arrayOfDeletions[i] = false;\n      },\n      error => { this.arrayOfDeletions[i] = false; }\n    );\n  }\n\n  downloadFile(file: File) {\n    this.fileService.downloadFile(this.courseId, file);\n  }\n\n  getFileExtension(fileLink: string) {\n    let lastIndex = fileLink.lastIndexOf(\".\");\n    if (lastIndex < 1) return \"\";\n    return fileLink.substr(lastIndex + 1);\n  }\n\n  getColorByFile(fileLink: string) {\n    let ext = this.getFileExtension(fileLink);\n    switch (ext) {\n      case 'docx':\n        return 'rgba(41, 84, 151, 0.46)';\n      case 'doc':\n        return 'rgba(41, 84, 151, 0.46)';\n      case 'xlsx':\n        return 'rgba(32, 115, 71, 0.46)';\n      case 'xls':\n        return 'rgba(32, 115, 71, 0.46)';\n      case 'ppt':\n        return 'rgba(208, 71, 39, 0.46)';\n      case 'pptx':\n        return 'rgba(208, 71, 39, 0.46)';\n      case 'pdf':\n        return 'rgba(239, 15, 17, 0.5)';\n      case 'jpg':\n        return 'rgba(231, 136, 60, 0.6)';\n      case 'png':\n        return 'rgba(231, 136, 60, 0.6)';\n      case 'rar':\n        return 'rgba(116, 0, 109, 0.46)';\n      case 'zip':\n        return 'rgba(116, 0, 109, 0.46)';\n      case 'txt':\n        return 'rgba(136, 136, 136, 0.46)';\n      default: '#ffffff';\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-group/file-group.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"input[type=\\\"file\\\"] {\\n  display: none;\\n}\\n\\n.queue-progress {\\n  margin-top: 12px !important;\\n  text-align: center;\\n}\\n\\n.error-div {\\n  margin-top: 2em;\\n}\\n\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .file-name-td {\\n    max-width: 8em;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n  .btn-uploader {\\n    padding-left: 8px !important;\\n    padding-right: 8px !important;\\n    font-size: 10px !important;\\n  }\\n  .mobile-file-td {\\n    padding-top: 7px !important;\\n    padding-bottom: 7px !important;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.css\n// module id = ../../../../../src/app/components/file-uploader/file-uploader.component.css\n// module chunks = main","module.exports = \"<div class=\\\"row no-margin\\\">\\n\\n  <div *ngIf=\\\"uploader.queue.length == 0\\\" class=\\\"row no-margin text-centered\\\">\\n    <div class=\\\"col l12 m12 s12\\\">\\n      <label class=\\\"label-input-file waves-effect btn\\\" [attr.for]=\\\"'input-file-' + this.uniqueID\\\">{{buttonText}}</label>\\n      <input *ngIf=\\\"!isMultiple\\\" class=\\\"input-file-uploader\\\" type=\\\"file\\\" [attr.name]=\\\"'input-file-' + this.uniqueID\\\" [attr.id]=\\\"'input-file-' + this.uniqueID\\\" ng2FileSelect [uploader]=\\\"uploader\\\"/>\\n      <input *ngIf=\\\"isMultiple\\\" class=\\\"input-file-uploader\\\" type=\\\"file\\\" [attr.name]=\\\"'input-file-' + this.uniqueID\\\" [attr.id]=\\\"'input-file-' + this.uniqueID\\\" ng2FileSelect [uploader]=\\\"uploader\\\" multiple/>\\n    </div>\\n    <div class=\\\"col l12 m12\\\">\\n      <div class=\\\"input-field\\\">\\n        <div ng2FileDrop [ngClass]=\\\"{'nv-file-over': hasBaseDropZoneOver}\\\" (fileOver)=\\\"fileOverBase($event)\\\" [uploader]=\\\"uploader\\\" class=\\\"file-drop-zone\\\">\\n          Or drop your {{typeOfFile}} here\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row no-margin\\\">\\n    <div *ngIf=\\\"uploader.queue.length > 0\\\" class=\\\"col s12 table-header\\\">\\n      <div *ngIf=\\\"isMultiple\\\">\\n        <h5 class=\\\"table-title\\\">Files to upload</h5>\\n        <p class=\\\"table-subtitle\\\">You have <strong>{{ uploader?.getNotUploadedItems().length }}</strong> files waiting to be uploaded</p>\\n      </div>\\n\\n      <table class=\\\"table\\\">\\n        <thead *ngIf=\\\"isMultiple\\\">\\n          <tr>\\n               <th width=\\\"50%\\\">Name</th>\\n               <th>Status</th>\\n               <th>Actions</th>\\n          </tr>\\n        </thead>\\n\\n        <tbody *ngIf=\\\"isMultiple\\\">\\n            <tr *ngFor=\\\"let item of uploader.queue\\\">\\n              <td class=\\\"table-td file-name-td mobile-file-td\\\"><strong>{{ item?.file?.name }}</strong></td>\\n              <td class=\\\"table-td text-center mobile-file-td\\\">\\n                <span *ngIf=\\\"item.isSuccess\\\"><i class=\\\"icon-status-upload material-icons\\\">done</i></span>\\n                <span *ngIf=\\\"item.isUploading\\\"><i class=\\\"icon-status-upload material-icons\\\">cloud_upload</i></span>\\n                <span *ngIf=\\\"item.isCancel\\\"><i class=\\\"icon-status-upload material-icons\\\">warning</i></span>\\n                <span *ngIf=\\\"item.isError\\\"><i class=\\\"icon-status-upload material-icons\\\">clear</i></span>\\n                <span *ngIf=\\\"!item.isSuccess && !item.isUploading && !item.isCancel && !item.isError\\\"><i class=\\\"material-icons\\\">schedule</i></span>\\n              </td>\\n              <td nowrap class=\\\"table-td mobile-file-td\\\">\\n                <button *ngIf=\\\"!(item.isReady || item.isUploading || item.isSuccess)\\\" type=\\\"button\\\" class=\\\"btn button-small btn-uploader\\\" (click)=\\\"item.upload()\\\">\\n                     Upload\\n                 </button>\\n                <button *ngIf=\\\"item.isUploading\\\" type=\\\"button\\\" class=\\\"btn button-small btn-uploader\\\" (click)=\\\"item.cancel()\\\">\\n                     Cancel\\n                 </button>\\n                <button *ngIf=\\\"!item.isSuccess && !item.isUploading\\\" type=\\\"button\\\" class=\\\"btn button-small btn-uploader\\\" (click)=\\\"item.remove()\\\">\\n                     Cancel\\n                 </button>\\n              </td>\\n            </tr>\\n          </tbody>\\n\\n          <tbody *ngIf=\\\"!isMultiple\\\">\\n            <tr>\\n              <td class=\\\"table-td file-name-td\\\"><strong>{{ uploader.queue[0]?.file?.name }}</strong></td>\\n              <td class=\\\"text-center\\\" class=\\\"table-td\\\">\\n                <span *ngIf=\\\"uploader.queue[0].isSuccess\\\"><i class=\\\"material-icons\\\">done</i></span>\\n                <span *ngIf=\\\"uploader.queue[0].isCancel\\\"><i class=\\\"material-icons\\\">warning</i></span>\\n                <span *ngIf=\\\"uploader.queue[0].isError\\\"><i class=\\\"material-icons\\\">clear</i></span>\\n              </td>\\n              <td nowrap class=\\\"table-td\\\">\\n                <button *ngIf=\\\"!(uploader.queue[0].isReady || uploader.queue[0].isUploading || uploader.queue[0].isSuccess)\\\" type=\\\"button\\\" class=\\\"btn button-small\\\" (click)=\\\"uploader.queue[0].upload()\\\">\\n                     Upload\\n                 </button>\\n                <button *ngIf=\\\"uploader.queue[0].isUploading\\\" type=\\\"button\\\" class=\\\"btn button-small\\\" (click)=\\\"uploader.queue[0].cancel()\\\">\\n                     Cancel\\n                 </button>\\n                <button *ngIf=\\\"!uploader.queue[0].isSuccess && !uploader.queue[0].isUploading\\\" type=\\\"button\\\" class=\\\"btn button-small\\\" (click)=\\\"uploader.queue[0].remove()\\\">\\n                     Cancel\\n                 </button>\\n              </td>\\n            </tr>\\n          </tbody>\\n\\n      </table>\\n\\n      <div *ngIf=\\\"isMultiple\\\" class=\\\"queue-progress\\\">\\n         <div>\\n           <span class=\\\"left\\\">Queue progress</span>\\n           <div class=\\\"progress\\\">\\n               <div class=\\\"determinate\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\n           </div>\\n         </div>\\n         <button *ngIf=\\\"uploader.getNotUploadedItems().length && !uploader.isUploading\\\" id=\\\"upload-all-btn\\\" type=\\\"button\\\" class=\\\"btn btn-file-table\\\" (click)=\\\"uploader.uploadAll()\\\">\\n             Upload all\\n         </button>\\n         <button *ngIf=\\\"uploader.isUploading\\\" type=\\\"button\\\" class=\\\"btn btn-file-table\\\" id=\\\"cancel-all-btn\\\" (click)=\\\"uploader.cancelAll()\\\">\\n             Cancel all\\n         </button>\\n         <button *ngIf=\\\"uploader.getNotUploadedItems().length\\\" type=\\\"button\\\" class=\\\"btn btn-file-table\\\" id=\\\"remove-all-btn\\\" (click)=\\\"uploader.clearQueue()\\\">\\n             Remove all\\n         </button>\\n     </div>\\n\\n    </div>\\n\\n    <div *ngIf=\\\"fileIncorrect\\\" class=\\\"col s12 error-div\\\">\\n      <app-error-message (eventShowable)=\\\"fileIncorrect = false\\\" [errorTitle]=\\\"'Files cannot be bigger than 5MB!'\\\" [errorContent]=\\\"\\\" [customClass]=\\\"'fail'\\\" [closable]=\\\"true\\\"></app-error-message>\\n    </div>\\n\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.html\n// module id = ../../../../../src/app/components/file-uploader/file-uploader.component.html\n// module chunks = main","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { environment } from '../../../environments/environment';\nimport { Constants } from '../../constants';\n\nimport { FileUploader } from 'ng2-file-upload';\n\nimport { UploaderModalService } from '../../services/uploader-modal.service';\n\ndeclare var Materialize: any;\n\n@Component({\n  selector: 'app-file-uploader',\n  templateUrl: './file-uploader.component.html',\n  styleUrls: ['./file-uploader.component.css']\n})\nexport class FileUploaderComponent implements OnInit {\n\n  public uploader: FileUploader;\n  public hasBaseDropZoneOver: boolean = false;\n\n  subscription: Subscription;\n\n  fileIncorrect = false;\n\n  @Input()\n  private uniqueID: number;\n  @Input()\n  private isMultiple: boolean;\n  @Input()\n  private URLUPLOAD: string = \"/test\";\n  @Input()\n  private typeOfFile: string;\n  @Input()\n  private buttonText: string;\n\n  @Output()\n  onCompleteFileUpload = new EventEmitter<any>();\n  @Output()\n  onUploadStarted = new EventEmitter<boolean>();\n\n  constructor(private uploaderModalService: UploaderModalService) {\n\n    //Subscription for clearing the queue\n    this.subscription = this.uploaderModalService.uploaderClosedAnnounced$.subscribe(\n      objs => { this.uploader.clearQueue(); this.fileIncorrect = false; }\n    );\n\n  }\n\n  ngOnInit() {\n    this.uploader = new FileUploader({ url: this.URLUPLOAD, maxFileSize: Constants.FILE_SIZE_LIMIT });\n    this.uploader.onBeforeUploadItem = (item: any) => {\n      this.onUploadStarted.emit(true);\n    }\n    this.uploader.onCompleteItem = (item: any, response: string, status: number, headers: any) => {\n      this.onCompleteFileUpload.emit(response);\n    }\n    this.uploader.onWhenAddingFileFailed = (fileItem, filter, options) => {\n      this.handleFileSizeError();\n    }\n    this.uploader.onCancelItem = (item, response, status, headers) => {\n      console.log(\"File upload canceled\");\n    }\n  }\n\n  ngOnChanges() {\n    if (this.uploader) {\n      this.uploader.destroy();\n      this.uploader = new FileUploader({ url: this.URLUPLOAD, maxFileSize: Constants.FILE_SIZE_LIMIT });\n      this.uploader.onCompleteItem = (item: any, response: string, status: number, headers: any) => {\n        this.onCompleteFileUpload.emit(response);\n      }\n      this.uploader.onWhenAddingFileFailed = (fileItem) => {\n        this.handleFileSizeError();\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n    if (this.uploader) {\n      this.uploader.destroy();\n      this.uploader.clearQueue();\n    }\n  }\n\n  fileOverBase(e: any): void {\n    this.hasBaseDropZoneOver = e;\n  }\n\n  handleFileSizeError() {\n    console.error(\"File too big. \" + this.URLUPLOAD);\n    if (window.innerWidth <= Constants.PHONE_MAX_WIDTH) { // On mobile phones error on toast\n      Materialize.toast('Files cannot be bigger than 5MB!', Constants.TOAST_SHOW_TIME, 'rounded');\n    } else { // On desktop error on error-message\n      this.fileIncorrect = true;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/file-uploader/file-uploader.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.css\n// module id = ../../../../../src/app/components/footer/footer.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col l6 s12\\\">\\n      <h5 class=\\\"white-text\\\">About this project</h5>\\n      <p class=\\\"grey-text text-lighten-4\\\">This application is a final degree project in <a class=\\\"hover-link grey-color\\\" href=\\\"http://www.urjc.es/en/?id=147\\\" target=\\\"_blank\\\"> Universidad Rey Juan Carlos</a><br/>Pablo Fuente Prez</p>\\n    </div>\\n    <div class=\\\"col l3 s6\\\">\\n      <h5 class=\\\"white-text\\\">Technologies</h5>\\n      <ul>\\n        <li><a class=\\\"white-text hover-link\\\" href=\\\"https://angular.io/\\\" target=\\\"_blank\\\">Angular</a></li>\\n        <li><a class=\\\"white-text hover-link\\\" href=\\\"https://www.kurento.org/\\\" target=\\\"_blank\\\">Kurento</a></li>\\n      </ul>\\n    </div>\\n    <div class=\\\"col l3 s6\\\">\\n      <h5 class=\\\"white-text\\\">Connect</h5>\\n      <ul>\\n        <li><a class=\\\"white-text hover-link\\\" href=\\\"https://github.com/pabloFuente/full-teaching\\\" target=\\\"_blank\\\">GitHub repository</a></li>\\n        <li><a class=\\\"white-text hover-link\\\" href=\\\"https://es.linkedin.com/in/pablofuenteperez\\\" target=\\\"_blank\\\">LinkedIn</a></li>\\n      </ul>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"footer-copyright\\\">\\n  <div class=\\\"container\\\">\\n    Frame by <a class=\\\"brown-text text-lighten-3\\\" href=\\\"http://materializecss.com\\\" target=\\\"_blank\\\">Materialize</a>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.html\n// module id = ../../../../../src/app/components/footer/footer.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/footer/footer.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal-content {\\n  padding-bottom: 0 !important;\\n}\\n\\n.row {\\n  margin-bottom: 10px;\\n}\\n\\n.modal-footer-button {\\n  float: none !important;\\n}\\n\\n.signUpColor {\\n  background-color: #2196f3;\\n}\\n\\n.signUpColor:hover {\\n  background-color: rgba(33, 150, 244, 0.7);\\n}\\n\\n.acceptColor-back {\\n  background-color: #375646;\\n}\\n\\n.cancelColor-back {\\n  background-color: #A73841;\\n}\\n\\n.acceptColor-back:hover {\\n  background-color: rgba(55, 86, 70, 0.7);\\n}\\n\\n.cancelColor-back:hover {\\n  background-color: rgba(167, 56, 65, 0.7);\\n}\\n\\n.recaptcha-div-outer {\\n  margin-bottom: 2em;\\n  text-align: center;\\n}\\n\\n.recaptcha-div-inner {\\n  display: inline-block;\\n}\\n\\n#disabled-signup-btn {\\n  background-color: #dadada;\\n  color: #9e9e9e !important;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -o-user-select: none;\\n  -ms-user-select: none;\\n      user-select: none;\\n}\\n\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .margin-top-buttons {\\n    margin-top: 10px;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.css\n// module id = ../../../../../src/app/components/login-modal/login-modal.component.css\n// module chunks = main","module.exports = \"<div id=\\\"login-modal\\\" class=\\\"modal my-modal-class\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"actions\\\">\\n\\n  <div *ngIf=\\\"submitProcessing\\\" class=\\\"loading\\\"></div>\\n\\n  <div class=\\\"modal-content\\\" [class.filtered]=\\\"submitProcessing\\\">\\n    <h4 *ngIf=\\\"loginView\\\" class=\\\"center\\\">Welcome to <a id=\\\"modal-title-trade\\\" class=\\\"app-title-header secondaryColor-color\\\">FullTeaching</a> !</h4>\\n    <div class=\\\"row\\\">\\n\\n      <form materialize #myForm class=\\\"col s12\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n\\n        <div class=\\\"row row-mobile\\\">\\n          <div class=\\\"input-field col s12\\\">\\n            <input [(ngModel)]=\\\"email\\\" name=\\\"email\\\" id=\\\"email\\\" type=\\\"email\\\" class=\\\"validate\\\" required autocomplete=\\\"email\\\">\\n            <label for=\\\"email\\\" data-error=\\\"Not an e-mail format!\\\">Email</label>\\n          </div>\\n        </div>\\n\\n        <div *ngIf=\\\"!loginView\\\" class=\\\"row row-mobile\\\">\\n          <div class=\\\"input-field col s12\\\">\\n            <input [(ngModel)]=\\\"nickName\\\" name=\\\"nickName\\\" id=\\\"nickName\\\" type=\\\"text\\\" class=\\\"validate\\\" required>\\n            <label for=\\\"nickName\\\">Name</label>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row row-mobile\\\">\\n          <div class=\\\"input-field col s12\\\">\\n            <input [(ngModel)]=\\\"password\\\" name=\\\"password\\\" id=\\\"password\\\" type=\\\"password\\\" class=\\\"validate\\\" required>\\n            <label for=\\\"password\\\">Password</label>\\n          </div>\\n        </div>\\n\\n        <div *ngIf=\\\"!loginView\\\" class=\\\"row\\\">\\n          <div class=\\\"input-field col s12\\\">\\n            <input [(ngModel)]=\\\"confirmPassword\\\" name=\\\"confirmPassword\\\" id=\\\"confirmPassword\\\" type=\\\"password\\\" class=\\\"validate\\\">\\n            <label for=\\\"confirmPassword\\\">Confirm password</label>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"recaptcha-div-outer\\\" [class.hide]=\\\"loginView\\\">\\n          <div class=\\\"recaptcha-div-inner\\\">\\n            <re-captcha (captchaResponse)=\\\"handleCorrectCaptcha($event)\\\" site_key=\\\"{{this.captchaPublicKey}}\\\"></re-captcha>\\n          </div>\\n        </div>\\n\\n        <app-error-message *ngIf=\\\"fieldsIncorrect\\\" (eventShowable)=\\\"fieldsIncorrect = false\\\" [errorTitle]=\\\"this.errorTitle\\\" [errorContent]=\\\"this.errorContent\\\" [customClass]=\\\"this.customClass\\\" [closable]=\\\"true\\\"></app-error-message>\\n\\n        <div class=\\\"row center margin-top-buttons\\\">\\n          <button type=\\\"submit\\\" *ngIf=\\\"loginView\\\" id=\\\"log-in-btn\\\" class=\\\"waves-effect waves-light btn-flat white-text acceptColor-back\\\">Log in</button>\\n          <a *ngIf=\\\"!loginView && !this.captchaValidated\\\" id=\\\"disabled-signup-btn\\\" materialize=\\\"tooltip\\\" data-position=\\\"bottom\\\" data-delay=\\\"65\\\" data-html=\\\"true\\\" data-tooltip=\\\"Click on <b><i>I'm not a robot</i></b> above\\\" class=\\\"btn-flat\\\">Sign up</a>\\n          <button type=\\\"submit\\\" *ngIf=\\\"!loginView && this.captchaValidated\\\" id=\\\"sign-up-btn\\\" class=\\\"waves-effect waves-light btn-flat white-text signUpColor\\\">Sign up</button>\\n          <a (click)=\\\"setLoginView(true); myForm.reset(); this.fieldsIncorrect = false;\\\" class=\\\"modal-action modal-close waves-effect waves-light btn-flat white-text cancelColor-back\\\">Close</a>\\n        </div>\\n\\n      </form>\\n\\n    </div>\\n  </div>\\n\\n  <div class=\\\"modal-footer\\\" [class.filtered]=\\\"submitProcessing\\\">\\n    <div *ngIf=\\\"loginView\\\" class=\\\"right-align\\\">Not registered yet?<a (click)=\\\"setLoginView(false)\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Sign up</a></div>\\n    <div *ngIf=\\\"!loginView\\\" class=\\\"right-align\\\">Already registered?<a (click)=\\\"setLoginView(true)\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Log in</a></div>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.html\n// module id = ../../../../../src/app/components/login-modal/login-modal.component.html\n// module chunks = main","import { Component, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { environment } from '../../../environments/environment';\n\nimport { MaterializeAction } from 'angular2-materialize';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { LoginModalService } from '../../services/login-modal.service';\nimport { UserService } from '../../services/user.service';\nimport { Constants } from '../../constants';\n\nimport { User } from '../../classes/user';\n\ndeclare var Materialize: any;\n\n@Component({\n  selector: 'login-modal',\n  templateUrl: './login-modal.component.html',\n  styleUrls: ['./login-modal.component.css'],\n})\n\nexport class LoginModalComponent {\n\n  private email: string;\n  private password: string;\n  private confirmPassword: string;\n  private nickName: string;\n\n  private loginView: boolean;\n  private fieldsIncorrect: boolean;\n  private submitProcessing: boolean;\n  private actions = new EventEmitter<string | MaterializeAction>();\n\n  private captchaValidated: boolean = false;\n  private captchaPublicKey: string;\n  private captchaToken: string;\n\n  //Error message content\n  private errorTitle: string;\n  private errorContent: string;\n  private customClass: string;\n  private toastMessage: string;\n\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private userService: UserService,\n    private router: Router,\n    private loginModalService: LoginModalService) {\n\n    this.loginView = true;\n    this.fieldsIncorrect = false;\n    this.submitProcessing = false;\n    this.errorTitle = 'Invalid field';\n    this.errorContent = 'Please check your email or password';\n    this.customClass = 'fail';\n    this.toastMessage = 'Login error! Check your email or password';\n\n    this.captchaPublicKey = environment.PUBLIC_RECAPTCHA_KEY;\n\n    // Suscription to LoginModal shared service (navbar actions on modal)\n    this.loginModalService.wat$.subscribe((value) => {\n      this.loginView = value;\n    });\n  }\n\n  setLoginView(option: boolean) {\n    this.fieldsIncorrect = false;\n    this.loginView = option;\n  }\n\n  onSubmit() {\n    console.log(\"Submit: email = \" + this.email + \" , password = \" + this.password + \", confirmPassword = \" + this.confirmPassword);\n    this.submitProcessing = true;\n\n    // If login view is activated\n    if (this.loginView) {\n      console.log(\"Logging in...\");\n      this.logIn(this.email, this.password);\n    }\n\n    // If signup view is activated\n    else {\n      console.log(\"Signing up...\");\n      this.signUp();\n    }\n  }\n\n  logIn(user: string, pass: string) {\n    this.authenticationService.logIn(user, pass).subscribe(\n      result => {\n        this.submitProcessing = false;\n\n        console.log(\"Login succesful! LOGGED AS \" + this.authenticationService.getCurrentUser().name);\n\n        // Login successful\n        this.fieldsIncorrect = false;\n        this.actions.emit({ action: \"modal\", params: ['close'] });\n        this.router.navigate(['/courses']);\n      },\n      error => {\n\n        console.log(\"Login failed (error): \" + error);\n\n        this.errorTitle = 'Invalid field';\n        this.errorContent = 'Please check your email or password';\n        this.customClass = 'fail';\n        this.toastMessage = 'Login error! Check your email or password';\n\n        // Login failed\n        this.handleError();\n      }\n    );\n  }\n\n  signUp() {\n\n    //Captcha has not been validated (user must have tricked the front-end in order to enter this if)\n    if (!this.captchaValidated) {\n      this.errorTitle = 'You must validate the captcha!';\n      this.errorContent = '';\n      this.customClass = 'fail';\n      this.toastMessage = 'Your must validate the captcha!';\n      this.handleError();\n    }\n    else {\n\n      //Passwords don't match\n      if (this.password !== this.confirmPassword) {\n        this.errorTitle = 'Your passwords don\\'t match!';\n        this.errorContent = '';\n        this.customClass = 'fail';\n        this.toastMessage = 'Your passwords don\\'t match!';\n        this.handleError();\n      }\n\n      else {\n\n        let regex = new RegExp(Constants.PASS_REGEX);\n\n        if (!(this.password.match(regex))) {\n          this.errorTitle = 'Your password does not have a valid format!';\n          this.errorContent = 'It must be at least 8 characters long and include one uppercase, one lowercase and a number';\n          this.customClass = 'fail';\n          this.toastMessage = 'Password must be 8 characters long, one upperCase, one lowerCase and a number';\n          this.handleError();\n        }\n\n        else {\n\n          let userNameFixed = this.email;\n          let userPasswordFixed = this.password;\n\n          this.userService.newUser(userNameFixed, userPasswordFixed, this.nickName, this.captchaToken).subscribe(\n            result => {\n\n              //Sign up succesful\n              this.logIn(userNameFixed, userPasswordFixed);\n              console.log(\"Sign up succesful!\");\n            },\n            error => {\n\n              console.log(\"Sign up failed (error): \" + error);\n              if (error === 409) { //CONFLICT: Email already in use\n                this.errorTitle = 'Invalid email';\n                this.errorContent = 'That email is already in use';\n                this.customClass = 'fail';\n                this.toastMessage = 'That email is already in use!';\n              }\n              else if (error === 400) { //BAD_REQUEST: Invalid password format\n                this.errorTitle = 'Invalid password format';\n                this.errorContent = 'Our server has rejected that password';\n                this.customClass = 'fail';\n                this.toastMessage = 'That password has not a valid format according to our server!';\n              }\n              else if (error === 403) { //FORBIDDEN: Invalid email format\n                this.errorTitle = 'Invalid email format';\n                this.errorContent = 'Our server has rejected that email';\n                this.customClass = 'fail';\n                this.toastMessage = 'That email has not a valid format according to our server!';\n              }\n              else if (error === 401) { //UNAUTHORIZED: Captcha not validated\n                this.errorTitle = 'Captcha not validated!';\n                this.errorContent = 'I am sorry, but your bot does not work here :)';\n                this.customClass = 'fail';\n                this.toastMessage = 'You must be a human to sign up here!';\n              }\n\n              // Sign up failed\n              this.handleError();\n            }\n          );\n        }\n      }\n    }\n  }\n\n  handleCorrectCaptcha(event) {\n    console.log(\"Captcha SUCCESS\");\n    this.captchaToken = event;\n    this.captchaValidated = true;\n  }\n\n  handleError() {\n    this.submitProcessing = false;\n    if (window.innerWidth <= Constants.PHONE_MAX_WIDTH) { // On mobile phones error on toast\n      Materialize.toast(this.toastMessage, Constants.TOAST_SHOW_TIME, 'rounded');\n    } else { // On desktop error on error-message\n      this.fieldsIncorrect = true;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/login-modal/login-modal.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  #navigation-bar {\\n    position: absolute !important; /*Navbar will be fixed at top of the page in small devices*/\\n  }\\n}\\n/*End mobile phones*/\\n\\n/*Till tablets*/\\n@media only screen and (max-width: 992px) {\\n  .add-session-small {\\n    display: block !important;\\n    float: right !important;\\n  }\\n}\\n\\n\\n.add-session-small {\\n  display: none;\\n}\\n\\n#addSessionButton {\\n  padding-right: 5px !important;\\n}\\n\\n#navigation-bar {\\n  top: 0;\\n  transition: top 0.15s ease-in-out;\\n}\\n\\n.nav-up {\\n  top: -64px !important;\\n}\\n\\na {\\n  color: #333;\\n}\\n\\na.button-collapse {\\n  color: #FFFFFF;\\n}\\n\\nul li {\\n  text-transform: uppercase;\\n}\\n\\n.navbar-button {\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  vertical-align: inherit;\\n}\\n\\n.navbar-button:hover {\\n  background-color: #375646;\\n  color: #61ffae !important;\\n}\\n\\n.dropdown-menu-button a {\\n  background-color: #375646;\\n  color: white;\\n}\\n\\n.dropdown-menu-button a:hover{\\n  background-color: #375646 !important;\\n  color: #61ffae;\\n}\\n\\n.dropdown-content li.divider {\\n  background-color: #96a19b !important;\\n}\\n\\n#arrow-drop-down:hover {\\n  color: #61ffae !important;\\n}\\n\\ni.material-icons {\\n    transition: all .2s ease-out;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.css\n// module id = ../../../../../src/app/components/navbar/navbar.component.css\n// module chunks = main","module.exports = \"<div class=\\\"navbar-fixed\\\">\\n  <nav id=\\\"navigation-bar\\\" class=\\\"secondaryColor-back\\\" role=\\\"navigation\\\">\\n    <div class=\\\"nav-wrapper container\\\">\\n      <a id=\\\"logo-container\\\" href=\\\"/\\\" class=\\\"brand-logo app-title-header white-text\\\">FullTeaching</a>\\n\\n      <!--Logout view-->\\n      <ul *ngIf=\\\"!this.authenticationService.isLoggedIn()\\\" class=\\\"right hide-on-med-and-down\\\">\\n        <li><a href=\\\"#login-modal\\\" (click)=\\\"updateLoginModalView(false)\\\" id=\\\"signUpButton\\\" class=\\\"navbar-button waves-effect white-text\\\">Sign up</a></li>\\n        <li><a href=\\\"#login-modal\\\" (click)=\\\"updateLoginModalView(true)\\\" class=\\\"navbar-button waves-effect white-text\\\">Log in</a></li>\\n      </ul>\\n\\n      <!--Login view-->\\n      <ul *ngIf=\\\"this.authenticationService.isLoggedIn()\\\" class=\\\"right hide-on-med-and-down\\\">\\n        <li><a id=\\\"courses-button\\\" routerLink=\\\"/courses\\\" class=\\\"navbar-button waves-effect white-text\\\">Courses</a></li>\\n        <li><a id=\\\"settings-button\\\" routerLink=\\\"/settings\\\" class=\\\"navbar-button waves-effect white-text\\\">Settings</a></li>\\n        <!-- Dropdown Content -->\\n        <ul id=\\\"dropdown1\\\" class=\\\"dropdown-content\\\">\\n          <li class=\\\"divider\\\"></li>\\n          <li class=\\\"dropdown-menu-button\\\"><a id=\\\"logout-button\\\" class=\\\"waves-effect\\\" (click)=\\\"logout()\\\">Logout</a></li>\\n          <li class=\\\"divider\\\"></li>\\n          <li class=\\\"dropdown-menu-button\\\"><a id=\\\"contact-button\\\" class=\\\"waves-effect\\\">Contact</a></li>\\n        </ul>\\n        <!-- Dropdown Trigger -->\\n        <li><a class=\\\"navbar-button\\\"><i id=\\\"arrow-drop-down\\\" class=\\\"material-icons white-text right dropdown-button\\\" data-activates=\\\"dropdown1\\\" data-beloworigin=\\\"true\\\" materialize=\\\"dropdown\\\" >arrow_drop_down</i></a></li>\\n      </ul>\\n\\n      <!--Side nav mobile-->\\n      <ul *ngIf=\\\"this.authenticationService.isLoggedIn()\\\" id=\\\"nav-mobile\\\" class=\\\"side-nav\\\">\\n        <li><a routerLink=\\\"/courses\\\" class=\\\"waves-effect\\\">Courses</a></li>\\n        <li><a routerLink=\\\"/settings\\\" class=\\\"waves-effect\\\">Settings</a></li>\\n        <li class=\\\"divider\\\"></li>\\n        <li><a class=\\\"waves-effect\\\">Contact</a></li>\\n        <li><a class=\\\"waves-effect\\\" (click)=\\\"logout()\\\">Logout</a></li>\\n      </ul>\\n      <a *ngIf=\\\"this.authenticationService.isLoggedIn()\\\" class=\\\"button-collapse\\\" materialize=\\\"sideNav\\\" data-activates=\\\"nav-mobile\\\" [materializeParams]=\\\"[{closeOnClick: true}, {draggable: true}]\\\"><i class=\\\"material-icons\\\">menu</i></a>\\n    </div>\\n  </nav>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.html\n// module id = ../../../../../src/app/components/navbar/navbar.component.html\n// module chunks = main","import { Component, EventEmitter, Output } from '@angular/core';\nimport { Location }                        from '@angular/common';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { LoginModalService }     from '../../services/login-modal.service';\n\n@Component({\n  selector: 'navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent {\n\n  constructor(private authenticationService: AuthenticationService, private loginModalService: LoginModalService, private location: Location) { }\n\n  updateLoginModalView(b: boolean){\n    this.loginModalService.activateLoginView(b);\n  }\n\n  //Checks if the route is \"/courses\".\n  public addSessionHidden() {\n    let list = [\"/courses\"],\n        route = this.location.path();\n    return (list.indexOf(route) > -1);\n  }\n\n  logout(){\n    this.authenticationService.logOut().subscribe(\n  \t\tresponse => { $(\"div.drag-target\").remove(); }, //This deletes the draggable element for the side menu (external to the menu itself in the DOM)\n  \t\terror => console.log(\"Error when trying to log out: \" + error)\n  \t);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/navbar/navbar.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"nav ul a, nav .brand-logo {\\n  color: #444;\\n}\\n\\np {\\n  line-height: 2rem;\\n}\\n\\n.parallax-container {\\n  min-height: 380px;\\n  line-height: 0;\\n  height: auto;\\n  color: rgba(255, 255, 255, .9);\\n}\\n\\n.parallax-container .section {\\n  width: 100%;\\n}\\n\\n@media only screen and (min-width: 993px) {\\n  .parallax-container .section {\\n    position: absolute;\\n    top: 20%;\\n  }\\n  #index-banner .section {\\n    top: 20%;\\n  }\\n}\\n\\n@media only screen and (max-width: 992px) {\\n  .parallax-container .section {\\n    position: absolute;\\n  }\\n  #index-banner .section {\\n    top: 20%;\\n  }\\n}\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  img.welcome-image {\\n    bottom: -180px !important;\\n    left: -325px !important;\\n    /*CSS transitions*/\\n    transition-property: none !important;\\n    /*CSS transforms*/\\n    transform: none !important;\\n    /*CSS animations*/\\n    animation: none !important;\\n  }\\n\\n  ul.slides li {\\n    /*CSS transitions*/\\n    transition-property: none !important;\\n    /*CSS transforms*/\\n    transform: none !important;\\n    /*CSS animations*/\\n    animation: none !important;\\n  }\\n}\\n/*End Mobile phones*/\\n\\n.fixed-navbar-gap {\\n  top: -64px;\\n  min-height: 444px;\\n}\\n\\n.welcome-image {\\n  -webkit-filter: grayscale(0.25);\\n  filter: grayscale(0.25);\\n}\\n\\n.slider-images {\\n  -webkit-filter: grayscale(1);\\n  filter: grayscale(1);\\n}\\n.slider .slides li .caption {\\n  color: #375646 !important;\\n}\\n\\n.indicator-item.active {\\n  background-color: #375646 !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.css\n// module id = ../../../../../src/app/components/presentation/presentation.component.css\n// module chunks = main","module.exports = \"<login-modal></login-modal>\\n\\n<div id=\\\"index-banner\\\" class=\\\"parallax-container fixed-navbar-gap\\\">\\n  <div class=\\\"section no-pad-bot\\\">\\n    <div class=\\\"container\\\">\\n      <br><br>\\n      <h1 class=\\\"header center app-title-header text-lighten-2 secondaryColor-color\\\">FullTeaching</h1>\\n      <div class=\\\"row center\\\">\\n        <h5 class=\\\"header col s12 light\\\">Rediscover the joy of learning</h5>\\n      </div>\\n      <div class=\\\"row center\\\">\\n        <a href=\\\"#login-modal\\\" id=\\\"download-button\\\" class=\\\"btn-large waves-effect lighten-1 accentColor1-back\\\">Welcome!</a>\\n      </div>\\n      <br><br>\\n\\n    </div>\\n  </div>\\n  <div materialize=\\\"parallax\\\" class=\\\"parallax\\\"><img class=\\\"welcome-image\\\" src=\\\"assets/images/background1.jpg\\\" alt=\\\"Unsplashed background img 1\\\"></div>\\n</div>\\n\\n<!--Slider-->\\n<div class=\\\"container\\\">\\n  <div class=\\\"section\\\">\\n\\n    <!--   Icon Section   -->\\n    <div class=\\\"row\\\">\\n      <div materialize=\\\"slider\\\" class=\\\"slider\\\">\\n        <ul class=\\\"slides\\\">\\n          <li>\\n            <img class=\\\"slider-images\\\" src=\\\"assets/images/slider1.jpg\\\">\\n            <!-- first image -->\\n            <div class=\\\"caption center-align\\\">\\n              <h3>Do not limit yourself</h3>\\n              <h5 class=\\\"light text-lighten-3\\\">Whenever you want. Wherever you are.<br/>Learning should have no limits</h5>\\n            </div>\\n          </li>\\n          <li>\\n            <img class=\\\"slider-images\\\" src=\\\"assets/images/slider2.jpg\\\">\\n            <!-- second image -->\\n            <div class=\\\"caption left-align\\\">\\n              <h3>Connect with your partners</h3>\\n              <h5 class=\\\"light text-lighten-3\\\">Teamwork is the cornerstone of an excellent education</h5>\\n            </div>\\n          </li>\\n          <li>\\n            <img class=\\\"slider-images\\\" src=\\\"assets/images/slider3.jpg\\\">\\n            <!-- third image -->\\n            <div class=\\\"caption left-align\\\">\\n              <h3 class=\\\"white-text\\\">All on the web</h3>\\n              <h5 class=\\\"light text-lighten-3 white-text\\\">FullTeaching lives on the Internet.<br/>No need of apps or any kind of download</h5>\\n            </div>\\n          </li>\\n        </ul>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<!--End Slider-->\\n\\n<div class=\\\"parallax-container valign-wrapper\\\">\\n  <div class=\\\"section no-pad-bot\\\">\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row center\\\">\\n        <h5 class=\\\"header col s12 light\\\">An educational web application for productive teaching and learning</h5>\\n      </div>\\n    </div>\\n  </div>\\n  <div materialize=\\\"parallax\\\" class=\\\"parallax\\\"><img class=\\\"welcome-image\\\" src=\\\"assets/images/background2.jpg\\\" alt=\\\"Unsplashed background img 2\\\"></div>\\n</div>\\n\\n<div class=\\\"container\\\">\\n  <div class=\\\"section\\\">\\n\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col s12 center\\\">\\n        <h3><i class=\\\"mdi-content-send brown-text\\\"></i></h3>\\n        <h4>What makes <a class=\\\"app-title-header secondaryColor-color\\\">FullTeaching</a> special?</h4>\\n        <p class=\\\"light flow-text\\\">FullTeaching makes your online studies much more easier and simpler. Whether you are a teacher or student, FullTeaching provides a powerfull fully web-based platform that allows you to be in class no matter where you are. And how can you do it?\\n          <br/><br/>And all to get what really matters: that you can focus on your studies.\\n        </p>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\\n<div class=\\\"parallax-container valign-wrapper\\\">\\n  <div class=\\\"section no-pad-bot\\\">\\n    <div class=\\\"container\\\">\\n      <div class=\\\"row center\\\">\\n        <h5 class=\\\"header col s12 light\\\">All in your favorite browser</h5>\\n      </div>\\n    </div>\\n  </div>\\n  <div materialize=\\\"parallax\\\" class=\\\"parallax\\\"><img class=\\\"welcome-image\\\" src=\\\"assets/images/background3.jpg\\\" alt=\\\"Unsplashed background img 3\\\"></div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.html\n// module id = ../../../../../src/app/components/presentation/presentation.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from '../../services/authentication.service';\n\n@Component({\n  selector: 'app-presentation',\n  templateUrl: './presentation.component.html',\n  styleUrls: ['./presentation.component.css']\n})\n\nexport class PresentationComponent implements OnInit {\n\n  constructor(private authenticationService: AuthenticationService, private router: Router) { }\n\n  ngOnInit() {\n    //If the user is loggedIn, navigates to dashboard\n    this.authenticationService.checkCredentials()\n      .then(() => { this.router.navigate(['/courses']); })\n      .catch((e) => { });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/presentation/presentation.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".profile-pic {\\n  width: 100%;\\n}\\n\\n.setting-title {\\n  display: inline-block;\\n  font-size: large;\\n  font-variant: small-caps;\\n  font-weight: 500;\\n}\\n\\n.setting-content {\\n  display: inline-block;\\n}\\n\\n.setting-li {\\n  padding: 15px 20px !important;\\n}\\n\\n.setting-section {\\n  font-size: 1.5rem;\\n  font-weight: 300;\\n  padding-bottom: 15px;\\n}\\n\\n.profile-row {\\n  margin-bottom: 30px;\\n}\\n\\n#input-file {\\n  display: none;\\n}\\n\\ndiv.loading.loading-pic{\\n  position: relative !important;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.css\n// module id = ../../../../../src/app/components/settings/settings.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container margins-top-bottom\\\">\\n\\n  <!--CHANGE PASSWORD DIALOG-->\\n  <div id=\\\"password-modal\\\" class=\\\"modal my-modal-class course-modal\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\">\\n\\n    <div *ngIf=\\\"processingPass\\\" class=\\\"loading\\\"></div>\\n\\n    <div class=\\\"modal-content\\\" [class.filtered]=\\\"processingPass\\\">\\n      <p class=\\\"p-bold-modal-header\\\">Change password</p>\\n      <div class=\\\"row no-margin\\\">\\n\\n        <form materialize #passwordForm class=\\\"col s12\\\" (ngSubmit)=\\\"onPasswordSubmit()\\\">\\n          <div class=\\\"row no-margin\\\">\\n\\n            <div class=\\\"row row-mobile\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputCurrentPassword\\\" name=\\\"inputCurrentPassword\\\" id=\\\"inputCurrentPassword\\\" type=\\\"password\\\" class=\\\"validate\\\" required>\\n                <label for=\\\"inputCurrentPassword\\\">Current password</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row row-mobile\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputNewPassword\\\" name=\\\"inputNewPassword\\\" id=\\\"inputNewPassword\\\" type=\\\"password\\\" class=\\\"validate\\\" required>\\n                <label for=\\\"inputNewPassword\\\">New password</label>\\n              </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n              <div class=\\\"input-field col s12\\\">\\n                <input [(ngModel)]=\\\"inputNewPassword2\\\" name=\\\"inputNewPassword2\\\" id=\\\"inputNewPassword2\\\" type=\\\"password\\\" class=\\\"validate\\\" required>\\n                <label for=\\\"inputNewPassword2\\\">Repeat new password</label>\\n              </div>\\n            </div>\\n\\n          </div>\\n\\n          <app-error-message *ngIf=\\\"fieldsIncorrect\\\" (eventShowable)=\\\"fieldsIncorrect = false\\\" [errorTitle]=\\\"this.errorTitle\\\" [errorContent]=\\\"this.errorContent\\\" [customClass]=\\\"this.customClass\\\" [closable]=\\\"true\\\"></app-error-message>\\n\\n          <div class=\\\"row row-mobile right-align\\\">\\n            <a (click)=\\\"passwordForm.reset(); this.fieldsIncorrect = false;\\\" class=\\\"modal-action modal-close waves-effect btn-flat modal-footer-button cancel-modal-btn\\\">Close</a>\\n            <button type=\\\"submit\\\" class=\\\"waves-effect btn-flat modal-footer-button\\\">Send</button>\\n          </div>\\n\\n        </form>\\n\\n      </div>\\n    </div>\\n  </div>\\n  <!--CHANGE PASSWORD DIALOG-->\\n\\n  <div class=\\\"setting-section\\\">PROFILE\\n    <div class=\\\"row divider\\\"></div>\\n  </div>\\n\\n  <div class=\\\"row profile-row\\\">\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n\\n      <div *ngIf=\\\"processingPic\\\" class=\\\"loading loading-pic\\\"></div>\\n\\n      <div class=\\\"row no-margin\\\" [class.filtered]=\\\"processingPic\\\">\\n        <div class=\\\"col s12\\\">\\n          <img *ngIf=\\\"!!this.user\\\" class=\\\"circle profile-pic\\\" src=\\\"{{this.user.picture}}\\\">\\n        </div>\\n        <div class=\\\"col s12\\\">\\n          <div class=\\\"row\\\">\\n\\n            <app-file-uploader *ngIf=\\\"!!this.user\\\" (onCompleteFileUpload)=\\\"pictureUploadCompleted($event)\\\" (onUploadStarted)=\\\"pictureUploadStarted($event)\\\" [uniqueID]=\\\"0\\\" [URLUPLOAD]=\\\"this.URL_UPLOAD + this.user.id\\\" [isMultiple]=\\\"false\\\" [typeOfFile]=\\\"'picture'\\\" [buttonText]=\\\"'Change picture'\\\"></app-file-uploader>\\n\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col l8 m6 s12\\\">\\n      <ul class=\\\"collection\\\">\\n        <li class=\\\"collection-item setting-li\\\">\\n          <div class=\\\"setting-title\\\">Mail</div>\\n          <div *ngIf=\\\"!!this.user\\\" id=\\\"stng-user-mail\\\" class=\\\"setting-content right\\\">{{this.user.name}}</div>\\n        </li>\\n        <li class=\\\"collection-item setting-li\\\">\\n          <div class=\\\"setting-title\\\">Name</div>\\n          <div *ngIf=\\\"!!this.user\\\" class=\\\"setting-content right\\\">{{this.user.nickName}}</div>\\n        </li>\\n        <li class=\\\"collection-item setting-li\\\">\\n          <div class=\\\"setting-title\\\">Registration date</div>\\n          <div *ngIf=\\\"!!this.user\\\" class=\\\"setting-content right\\\">{{this.user.registrationDate | date}}</div>\\n        </li>\\n        <li class=\\\"collection-item setting-li\\\">\\n          <div class=\\\"setting-title\\\">Password</div>\\n          <div class=\\\"setting-content right\\\">\\n            <a href=\\\"#password-modal\\\" class=\\\"btn waves-effect button-small\\\" (click)=\\\"this.animationService.animateIfSmall()\\\">Change password</a>\\n          </div>\\n        </li>\\n      </ul>\\n    </div>\\n\\n  </div>\\n\\n  <div class=\\\"setting-section\\\">DEFAULT SETTINGS\\n    <div class=\\\"row divider\\\"></div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-content\\\">\\n          <span class=\\\"card-title grey-text text-darken-4\\\">Setting 1</span>\\n          <p>About this particular setting</p>\\n          <div class=\\\"switch\\\">\\n            <label>Off<input type=\\\"checkbox\\\"><span class=\\\"lever\\\"></span> On</label>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-content\\\">\\n          <span class=\\\"card-title grey-text text-darken-4\\\">Setting 2</span>\\n          <p>About this particular setting</p>\\n          <div class=\\\"switch\\\">\\n            <label>Off<input type=\\\"checkbox\\\"><span class=\\\"lever\\\"></span> On</label>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-content\\\">\\n          <span class=\\\"card-title grey-text text-darken-4\\\">Setting 3</span>\\n          <p>About this particular setting</p>\\n          <div class=\\\"switch\\\">\\n            <label>Off<input type=\\\"checkbox\\\"><span class=\\\"lever\\\"></span> On</label>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-content\\\">\\n          <span class=\\\"card-title grey-text text-darken-4\\\">Setting 4</span>\\n          <p>About this particular setting</p>\\n          <div class=\\\"switch\\\">\\n            <label>Off<input type=\\\"checkbox\\\"><span class=\\\"lever\\\"></span> On</label>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"col l4 m6 s12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-content\\\">\\n          <span class=\\\"card-title grey-text text-darken-4\\\">Setting 5</span>\\n          <p>About this particular setting</p>\\n          <div class=\\\"switch\\\">\\n            <label>Off<input type=\\\"checkbox\\\"><span class=\\\"lever\\\"></span> On</label>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.html\n// module id = ../../../../../src/app/components/settings/settings.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { environment } from '../../../environments/environment';\n\nimport { FileUploader } from 'ng2-file-upload';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { UserService } from '../../services/user.service';\nimport { AnimationService } from '../../services/animation.service';\nimport { User } from '../../classes/user';\nimport { Constants } from '../../constants';\n\ndeclare var Materialize: any;\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements OnInit {\n\n  private user: User;\n\n  private URL_UPLOAD: string;\n\n  private processingPic: boolean = false;\n  private processingPass: boolean = false;\n\n  private submitProcessing: boolean;\n  private fieldsIncorrect: boolean = false;\n\n  inputCurrentPassword: string;\n  inputNewPassword: string;\n  inputNewPassword2: string;\n\n  //Error message content\n  errorTitle: string;\n  errorContent: string;\n  customClass: string;\n  toastMessage: string;\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private userService: UserService,\n    private animationService: AnimationService) {\n\n    //URL for uploading files changes between development stage and production stage\n    this.URL_UPLOAD = environment.URL_PIC_UPLOAD;\n  }\n\n  ngOnInit() {\n    this.authenticationService.checkCredentials()\n      .then(() => { this.user = this.authenticationService.getCurrentUser(); })\n      .catch((e) => { });\n  }\n\n  pictureUploadStarted(started: boolean) {\n    this.processingPic = started;\n  }\n\n  pictureUploadCompleted(response) {\n    console.log(\"Picture changed successfully: \" + response);\n    this.user.picture = response;\n    this.processingPic = false;\n  }\n\n  onPasswordSubmit() {\n\n    this.processingPass = true;\n\n    //New passwords don't match\n    if (this.inputNewPassword !== this.inputNewPassword2) {\n      this.errorTitle = 'Your passwords don\\'t match!';\n      this.errorContent = '';\n      this.customClass = 'fail';\n      this.toastMessage = 'Your passwords don\\'t match!';\n      this.handleError();\n    }\n    else {\n\n      let regex = new RegExp(Constants.PASS_REGEX);\n\n      //The new password does not have a valid format\n      if (!(this.inputNewPassword.match(regex))) {\n        this.errorTitle = 'Your new password does not have a valid format!';\n        this.errorContent = 'It must be at least 8 characters long and include one uppercase, one lowercase and a number';\n        this.customClass = 'fail';\n        this.toastMessage = 'Your new password must be 8 characters long, one upperCase, one lowerCase and a number';\n        this.handleError();\n      }\n      else {\n        this.userService.changePassword(this.inputCurrentPassword, this.inputNewPassword).subscribe(\n          result => {\n            //Password changed succesfully\n            console.log(\"Password changed succesfully!\");\n\n            this.inputCurrentPassword = '';\n            this.inputNewPassword = '';\n            this.inputNewPassword2 = '';\n\n            this.submitProcessing = false;\n            this.fieldsIncorrect = false;\n\n            this.errorTitle = 'Password changed succesfully!';\n            this.errorContent = '';\n            this.customClass = 'correct';\n            this.toastMessage = 'Your password has been correctly changed';\n\n            this.handleError();\n          },\n          error => {\n            console.log(\"Password change failed (error): \" + error);\n            if (error === 304) { //NOT_MODIFIED: New password not valid\n              this.errorTitle = 'Your new password does not have a valid format!';\n              this.errorContent = 'It must be at least 8 characters long and include one uppercase, one lowercase and a number';\n              this.customClass = 'fail';\n              this.toastMessage = 'Your new password must be 8 characters long, one upperCase, one lowerCase and a number';\n            }\n            else if (error === 409) { //CONFLICT: Current password not valid\n              this.errorTitle = 'Invalid current password';\n              this.errorContent = 'Our server has rejected that password';\n              this.customClass = 'fail';\n              this.toastMessage = 'Your current password is wrong!';\n            }\n\n            // Password change failed\n            this.handleError();\n          }\n        );\n      }\n    }\n  }\n\n  handleError() {\n    this.processingPass = false;\n    if (window.innerWidth <= Constants.PHONE_MAX_WIDTH) { // On mobile phones error on toast\n      Materialize.toast(this.toastMessage, Constants.TOAST_SHOW_TIME, 'rounded');\n    } else { // On desktop error on error-message\n      this.fieldsIncorrect = true;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/settings/settings.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".participant {\\n  width: 100%;\\n  margin: 0;\\n}\\n.participant video {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n.participant-small {\\n  position: fixed;\\n  width: 400px;\\n  bottom: 0;\\n  right: 0;\\n  margin-bottom: 10px;\\n  margin-right: 20px;\\n}\\n\\n.participant-small video {\\n  border: 2px solid black;\\n  border-radius: 2px;\\n}\\n\\n.participant-small .name-div {\\n  position: absolute;\\n}\\n\\n.name-div {\\n  position: fixed;\\n  width: 100%;\\n  bottom: 0;\\n  color: white;\\n  text-align: left;\\n}\\n\\n.name-p {\\n  display: inline-block;\\n  margin-left: 20px;\\n  background-color: #375646;\\n  padding: 5px;\\n  border-radius: 2px;\\n  font-weight: bold;\\n}\\n\\n/*Mobile phones*/\\n@media only screen and (max-width: 600px) and (orientation: portrait), screen and (max-width: 992px) and (orientation: landscape) {\\n  .participant-small {\\n    position: fixed;\\n    width: 15em;\\n    bottom: 0;\\n    right: 0;\\n    margin-bottom: 10px;\\n    margin-right: 20px;\\n  }\\n\\n  .participant-small .name-p {\\n    display: inline-block;\\n    margin-left: 5px;\\n    margin-bottom: 10px;\\n    background-color: #375646;\\n    padding: 2px;\\n    border-radius: 2px;\\n    font-weight: bold;\\n    font-size: x-small;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/stream.component.css\n// module id = ../../../../../src/app/components/video-session/stream.component.css\n// module chunks = main","import { Component, OnInit, Input, ViewChild, ElementRef, SimpleChanges, SimpleChange } from '@angular/core';\nimport { Stream, Session } from 'openvidu-browser';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\n\n@Component({\n  selector: 'stream',\n  styleUrls: ['./stream.component.css'],\n  template: `\n        <div class='participant' [class.participant-small]=\"this.small\">\n          <div *ngIf=\"this.stream\" class=\"name-div\"><p class=\"name-p\">{{this.getName()}}</p></div>\n          <video #videoElement autoplay=\"true\" [muted]=\"this.muted\" [attr.title]=\"getVideoNameFromStream()\" ></video>\n        </div>`\n})\nexport class StreamComponent {\n\n  @ViewChild('videoElement') elementRef: ElementRef;\n  videoElement: HTMLVideoElement;\n\n  @Input()\n  stream: Stream;\n\n  @Input()\n  small: boolean;\n\n  @Input()\n  muted: boolean;\n\n  constructor() { }\n\n  ngAfterViewInit() { // Get HTMLVideoElement from the view\n    this.videoElement = this.elementRef.nativeElement;\n  }\n\n  ngOnChanges(changes: SimpleChanges) { // Listen to 'muted' property changes\n    if (changes['muted']) {\n      this.muted = changes['muted'].currentValue;\n      console.warn(\"Small: \" + this.small + \" | Muted: \" + this.muted);\n    }\n  }\n\n  ngDoCheck() { // Detect any change in 'stream' property (specifically in its 'srcObject' property)\n    if (this.videoElement && this.stream &&\n        ((this.videoElement.srcObject == null) ||\n        (!(this.stream.getMediaStream() == null) && (this.videoElement.srcObject.id !== this.stream.getMediaStream().id)))\n    ) {\n      this.videoElement.srcObject = this.stream.getMediaStream();\n      console.warn(\"Stream updated\");\n    }\n  }\n\n  getName() {\n    return ((JSON.parse(this.stream.connection.data))['name']);\n  }\n\n  getVideoNameFromStream(): string {\n    return (this.stream != null) ? 'VIDEO-' + this.getName() : 'VIDEO';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/stream.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#video-session-div {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nvideo {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.video-icon {\\n  font-size: 32px;\\n  cursor: pointer;\\n}\\n\\n.video-icon:hover {\\n  color: rgb(133, 133, 133);\\n}\\n\\n#div-header-buttons {\\n  position: fixed;\\n  width: 100%;\\n  z-index: 900;\\n}\\n\\n#side-menu-button {\\n  position: fixed;\\n  z-index: 1000;\\n  margin-left: 10px;\\n  margin-top: 10px;\\n}\\n\\n#fixed-icon {\\n  font-size: 42px;\\n}\\n\\n.floating-button {\\n  float: right;\\n  z-index: 1000;\\n  margin-right: 10px;\\n  margin-top: 10px;\\n  right: 0;\\n}\\n\\n.usr-btn {\\n  border: 7px;\\n  border-style: solid;\\n}\\n\\n.usr-btn i {\\n  margin-left: -7px;\\n  margin-top: -7px;\\n}\\n\\n#exit-icon {\\n  margin: 10px;\\n}\\n\\n#show-chat-icon {\\n  margin: 10px;\\n  margin-left: 90px;\\n}\\n\\n#fake-send-btn {\\n  font-size: 11px;\\n  font-weight: 600;\\n  padding-left: 12px;\\n  padding-right: 12px;\\n  height: 27px;\\n  line-height: 27px;\\n  display: inline-block;\\n  margin: 0;\\n}\\n\\n.chat_wrapper {\\n  position: relative;\\n  margin-top: 50px;\\n  height: 90%;\\n  padding: 10px;\\n  padding-bottom: 7rem;\\n  margin-right: 10px;\\n  margin-left: 10px;\\n}\\n\\n#message-box-cont {\\n  height: 100%;\\n}\\n\\n#message_box {\\n  height: 100%;\\n  background: #f3f3f3;\\n  overflow: auto;\\n  padding: 10px;\\n}\\n\\n.session-title-div {\\n  text-align: center;\\n  position: fixed;\\n  width: 100%;\\n}\\n\\n#session-title {\\n  margin-top: 10px;\\n  margin-bottom: 0;\\n  font-weight: 200;\\n  font-size: 3rem;\\n}\\n\\n.session-bottom-div {\\n  position: fixed;\\n  width: 100%;\\n  bottom: 0;\\n  height: 80px;\\n}\\n\\n.video-control {\\n  background-color: rgba(255, 255, 255, 0.4) !important;\\n  box-shadow: none;\\n}\\n\\n.video-control:hover {\\n  background-color: rgba(255, 255, 255, 0.6) !important;\\n}\\n\\n.video-control-icon {\\n  color: #ffffff;\\n  font-size: 32px;\\n}\\n\\n#div-video-control {\\n  text-align: center;\\n  width: 100%;\\n}\\n\\n.div-video-control-shown {\\n  visibility: visible !important;\\n  opacity: 1 !important;\\n}\\n\\n.box-video-control {\\n  display: inline-block;\\n  border-radius: 2px;\\n  padding: 10px 20px 10px 20px;\\n  background-color: rgba(0, 0, 0, 0.3);\\n}\\n\\n.fade-in-controls {\\n  visibility: visible;\\n  opacity: 1;\\n  transition: opacity 0.5s linear;\\n}\\n\\n.fade-out-controls {\\n  visibility: hidden;\\n  opacity: 0;\\n  transition: visibility 0s 5s, opacity 3s cubic-bezier(1, 0.01, 0.9, 0.26);\\n}\\n\\n.num-attenders-div {\\n  margin-top: 10px;\\n  margin-bottom: 20px;\\n  text-align: right;\\n  font-weight: 300;\\n}\\n\\n.num-connected {\\n  font-size: large;\\n  font-weight: bold;\\n  color: green;\\n}\\n\\n.num-total {\\n  font-size: large;\\n  font-weight: bold;\\n  color: #c78100;\\n}\\n\\n.attender-name {\\n  font-weight: 600;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.css\n// module id = ../../../../../src/app/components/video-session/video-session.component.css\n// module chunks = main","module.exports = \"<div *ngIf=\\\"this.authenticationService.isLoggedIn()\\\" id=\\\"video-session-div\\\">\\n\\n  <a id=\\\"side-menu-button\\\" materialize=\\\"sideNav\\\" data-activates=\\\"slide-out\\\" [materializeParams]=\\\"[{draggable: false}]\\\"><i id=\\\"fixed-icon\\\" class=\\\"material-icons video-icon\\\" (onclick)=\\\"document.getElementsByTagName('body')[0].style.overflowY = 'hidden'\\\">menu</i></a>\\n  <div id=\\\"div-header-buttons\\\" class=\\\"row no-margin\\\">\\n    <div class=\\\"col s12 m12 l12 no-padding-right\\\"><a class=\\\"btn-floating btn-large waves-effect waves-light red floating-button\\\" (click)=\\\"toggleFullScreen()\\\"><i class=\\\"material-icons\\\">{{fullscreenIcon}}</i></a></div>\\n    <div class=\\\"col s12 m12 l12 no-padding-right\\\"><a *ngIf=\\\"this.authenticationService.isStudent() && !this.myStudentAccessGranted\\\" class=\\\"btn-floating btn-large waves-effect waves-light red floating-button\\\" (click)=\\\"askForIntervention()\\\"><i class=\\\"material-icons\\\">{{interventionIcon}}</i></a></div>\\n    <div class=\\\"row no-margin\\\" *ngIf=\\\"this.authenticationService.isTeacher()\\\">\\n      <div *ngFor=\\\"let userData of this.userData | interventionAskedFilter ; let i = index\\\" class=\\\"col s12 m12 l12 no-padding-right\\\">\\n        <a *ngIf=\\\"!studentAccessGranted || userData.accessGranted\\\"  materialize=\\\"tooltip\\\" data-position=\\\"left\\\" data-delay=\\\"65\\\" [attr.data-tooltip]=\\\"userData.name\\\" class=\\\"btn-floating btn-large waves-effect floating-button white usr-btn\\\" (click)=\\\"grantIntervention(!studentAccessGranted, userData)\\\" [style.border-color]=\\\"userData.color\\\">\\n          <i *ngIf=\\\"this.studentAccessGranted\\\" class=\\\"material-icons\\\" [style.color]=\\\"userData.color\\\">cancel</i>\\n          <img *ngIf=\\\"!this.studentAccessGranted\\\" class=\\\"circle responsive-img\\\" [src]=\\\"userData.picture\\\">\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"OVSession\\\">\\n    <div class=\\\"session-title-div\\\">\\n      <h2 id=\\\"session-title\\\">{{this.sessionName}}</h2>\\n    </div>\\n    <div>\\n      <stream *ngIf=\\\"bigStream\\\" [stream]=\\\"bigStream\\\" [small]=\\\"false\\\" [muted]=\\\"(this.authenticationService.isTeacher() && !studentAccessGranted) || (!this.authenticationService.isTeacher() && myStudentAccessGranted)\\\"></stream>\\n      <stream *ngIf=\\\"smallStream && studentAccessGranted\\\" [stream]=\\\"smallStream\\\" [small]=\\\"true\\\" [muted]=\\\"this.authenticationService.isTeacher()\\\"></stream>\\n    </div>\\n    <div class=\\\"session-bottom-div valign-wrapper\\\" (mouseenter)=\\\"this.controlsShown = true\\\"  (mouseleave)=\\\"this.controlsShown = false\\\">\\n      <div id=\\\"div-video-control\\\" [class.div-video-control-shown]=\\\"this.playPauseIcon==='play_arrow'\\\" [class.fade-in-controls]=\\\"this.controlsShown\\\" [class.fade-out-controls]=\\\"!this.controlsShown\\\">\\n        <div class=\\\"box-video-control\\\">\\n          <a class=\\\"btn-floating waves-effect video-control\\\" (click)=\\\"togglePlayPause()\\\">\\n            <i class=\\\"material-icons video-control-icon\\\">{{this.playPauseIcon}}</i>\\n          </a>\\n          <a class=\\\"btn-floating waves-effect video-control\\\" (click)=\\\"toggleMute()\\\">\\n            <i class=\\\"material-icons video-control-icon\\\">{{this.volumeMuteIcon}}</i>\\n          </a>\\n          <input id=\\\"slider-volume\\\" name=\\\"slider-volume\\\" type=\\\"range\\\" min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.01\\\" [(ngModel)]=\\\"this.volumeLevel\\\" (ngModelChange)=\\\"changeVolume($event)\\\"/>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ul id=\\\"slide-out\\\" class=\\\"side-nav\\\">\\n    <i (click)=\\\"this.exitFromSession()\\\" id=\\\"exit-icon\\\" class=\\\"right material-icons video-icon\\\" [title]=\\\"'Exit'\\\">exit_to_app</i>\\n    <i (click)=\\\"changeShowChat()\\\" id=\\\"show-chat-icon\\\" class=\\\"left material-icons video-icon\\\">{{this.showChatIcon}}</i>\\n    <div class=\\\"chat_wrapper\\\">\\n\\n      <div *ngIf=\\\"showChat\\\" id=\\\"message-box-cont\\\">\\n        <div class=\\\"message_box\\\" id=\\\"message_box\\\">\\n          <div *ngFor=\\\"let chatline of this.chatLines\\\">\\n            <app-chat-line [chatLine]=\\\"chatline\\\"></app-chat-line>\\n          </div>\\n        </div>\\n        <div class=\\\"panel\\\">\\n          <form (ngSubmit)=\\\"sendChatMessage()\\\">\\n            <input [(ngModel)]=\\\"myMessage\\\" type=\\\"text\\\" name=\\\"message\\\" id=\\\"message\\\" placeholder=\\\"Message\\\" maxlength=\\\"400\\\" autocomplete=\\\"off\\\"/>\\n            <input *ngIf=\\\"this.myMessage\\\" type=\\\"submit\\\" id=\\\"send-btn\\\" class=\\\"btn waves-effect button-small\\\" value=\\\"Send\\\">\\n            <a *ngIf=\\\"!this.myMessage\\\" id=\\\"fake-send-btn\\\" class=\\\"btn waves-effect button-small disabled\\\">Send</a>\\n          </form>\\n        </div>\\n      </div>\\n\\n      <div *ngIf=\\\"!showChat\\\">\\n        <div class=\\\"num-attenders-div\\\">\\n          <span class=\\\"num-connected\\\">{{this.userData.length}}</span>\\n           of\\n           <span class=\\\"num-total\\\">{{this.course.attenders.length}}</span>\\n            attenders connected\\n        </div>\\n        <div *ngFor=\\\"let user of this.userData\\\" class=\\\"attender-name\\\" [style.color]=\\\"user.color\\\">\\n          {{user.name}}\\n        </div>\\n      </div>\\n\\n    </div>\\n  </ul>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.html\n// module id = ../../../../../src/app/components/video-session/video-session.component.html\n// module chunks = main","import { Component, OnInit, HostListener } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\nimport { OpenVidu, Session, Stream, Publisher, Connection } from \"openvidu-browser\";\n\nimport { environment } from '../../../environments/environment';\n\nimport { User } from '../../classes/user';\nimport { Course } from '../../classes/course';\nimport { Chatline } from '../../classes/chatline';\nimport { UserData } from '../../classes/user-data';\nimport { Session as MySession } from '../../classes/session';\n\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { VideoSessionService } from '../../services/video-session.service';\nimport { AnimationService } from '../../services/animation.service';\nimport { InterventionAskedPipe } from '../../pipes/intervention-asked.pipe';\n\n@Component({\n  selector: 'app-video-session',\n  templateUrl: './video-session.component.html',\n  styleUrls: ['./video-session.component.css'],\n  providers: [InterventionAskedPipe]\n})\nexport class VideoSessionComponent implements OnInit {\n\n  user: User;\n  mySession: MySession;\n  course: Course;\n  mySessionId: number;\n\n  showChat: boolean = true;\n  chatLines: Chatline[] = [];\n  myMessage: string;\n\n  volumeLevel: number;\n  storedVolumeLevel: number;\n  controlsShown: boolean;\n\n  interventionRequired: boolean = false;\n  studentAccessGranted: boolean = false;\n  myStudentAccessGranted: boolean = false;\n\n  // Icon names\n  showChatIcon: string = 'supervisor_account';\n  interventionIcon: string = 'record_voice_over';\n  fullscreenIcon: string = \"fullscreen\";\n  playPauseIcon: string = \"pause\";\n  volumeMuteIcon: string = \"volume_up\";\n\n  // OpenVidu params\n  private OV: OpenVidu;\n  private OVSessionId: string;\n  private OVToken: string;\n  private OVPublisher: Publisher;\n  private OVSession: Session;\n  private teacherConnection: Connection;\n  private OVConnections: Connection[] = [];\n\n  private userData: UserData[] = [];\n\n  // Join form\n  sessionName: string;\n  participantName: string;\n\n  // Streams\n  teacherStream: Stream;\n  bigStream: Stream;\n  smallStream: Stream;\n\n  constructor(private authenticationService: AuthenticationService,\n    private videoSessionService: VideoSessionService,\n    private animationService: AnimationService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private location: Location) {\n    this.user = this.authenticationService.getCurrentUser();\n    this.mySession = this.videoSessionService.session;\n    this.course = this.videoSessionService.course;\n\n    // Getting the session id from the url\n    this.route.params.forEach((params: Params) => {\n      let id = +params['id'];\n      this.mySessionId = id;\n    });\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  beforeunloadHandler(event) {\n    this.removeUser();\n    this.leaveSession();\n  }\n\n  ngOnInit() {\n    this.authenticationService.checkCredentials()\n      .then(() => {\n        if (!this.mySession) {\n          this.router.navigate(['/courses']);\n        } else {\n          // Stablishing OpenVidu session\n          this.generateParticipantInfo();\n          this.getParamsAndJoin();\n          // Deletes the draggable element for the side menu (external to the menu itself in the DOM), avoiding memory leak\n          $(\"div.drag-target\").remove();\n          this.volumeLevel = 1;\n        }\n      })\n      .catch((e) => { });\n  }\n\n  ngAfterViewInit() {\n    document.getElementsByTagName('body')[0].style.overflowY = 'hidden';\n  }\n\n  ngOnDestroy() {\n    // Close the OpenVidu sesion\n    this.leaveSession();\n    // Delete the dark overlay (if side menu opened) when the component is destroyed\n    $(\"#sidenav-overlay\").remove();\n\n    document.getElementsByTagName('body')[0].style.overflowY = 'initial';\n  }\n\n  sendChatMessage() {\n    this.OVSession.signal({\n      type: 'chat',\n      to: [],\n      data: this.myMessage\n    });\n    this.myMessage = \"\";\n  }\n\n  exitFromSession() {\n    this.removeUser();\n    this.leaveSession();\n    this.location.back();\n  }\n\n  changeShowChat() {\n    this.showChat = !this.showChat;\n    this.showChatIcon = (this.showChat ? 'supervisor_account' : 'chat');\n  }\n\n  askForIntervention() {\n    // Request camera\n    this.initPublisher();\n\n    this.OVPublisher.on('accessAllowed', (event) => {\n      console.warn(\"OpenVidu camera access allowed\");\n\n      let msg = {\n        interventionRequired: !this.interventionRequired\n      };\n\n      this.OVSession.signal({\n        type: 'askIntervention',\n        to: [this.teacherConnection],\n        data: JSON.stringify(msg)\n      });\n\n      // Invert intervention request\n      this.interventionRequired = !this.interventionRequired;\n      // Change intervention icon\n      this.interventionIcon = (this.interventionRequired ? 'cancel' : 'record_voice_over');\n\n    });\n    this.OVPublisher.on('accessDenied', (event) => {\n      console.error(\"OpenVidu camera access denied\");\n    });\n  }\n\n  grantIntervention(grant: boolean, userData: UserData) {\n\n    this.OVSession.signal({\n      type: 'grantIntervention',\n      to: this.OVConnections.filter(connection => JSON.parse(connection.data).name === userData.name),\n      data: grant.toString()\n    });\n\n    // Set 'accessGranted' property of proper userData to 'grant' value\n    this.userData.map((u) => {\n      if (u.name === userData.name) {\n        u.accessGranted = grant;\n        u.interventionRequired = grant;\n      }\n    });\n    this.studentAccessGranted = grant;\n  }\n\n  getPhotoByName(userName: string) {\n    let user = (this.course.attenders.filter(u => u.nickName == userName))[0];\n    return user.picture;\n  }\n\n  /* Video controls */\n\n  toggleFullScreen() {\n    let fs = $('#video-session-div').get(0);\n    var document: any = window.document;\n    if (!document.fullscreenElement &&\n      !document.mozFullScreenElement &&\n      !document.webkitFullscreenElement &&\n      !document.msFullscreenElement) {\n      console.log(\"Entering fullscreen\");\n      this.fullscreenIcon = 'fullscreen_exit';\n      if (fs.requestFullscreen) {\n        fs.requestFullscreen();\n      } else if (fs.msRequestFullscreen) {\n        fs.msRequestFullscreen();\n      } else if (fs.mozRequestFullScreen) {\n        fs.mozRequestFullScreen();\n      } else if (fs.webkitRequestFullscreen) {\n        fs.webkitRequestFullscreen();\n      }\n    } else {\n      console.log(\"Exiting fullscreen\");\n      this.fullscreenIcon = 'fullscreen';\n      if (document.exitFullscreen) {\n        document.exitFullscreen();\n      } else if (document.msExitFullscreen) {\n        document.msExitFullscreen();\n      } else if (document.mozCancelFullScreen) {\n        document.mozCancelFullScreen();\n      } else if (document.webkitExitFullscreen) {\n        document.webkitExitFullscreen();\n      }\n    }\n  }\n\n  togglePlayPause() {\n    let video = $('video')[0];\n    if (video) {\n      if (video.paused) {\n        this.playPauseIcon = 'pause';\n        video.play();\n      }\n      else {\n        this.playPauseIcon = 'play_arrow';\n        video.pause();\n      }\n    }\n  }\n\n  toggleMute() {\n    let video = $('video')[0];\n    if (video) {\n      if (video.volume == 0.0) {\n        video.volume = this.storedVolumeLevel;\n        this.volumeLevel = this.storedVolumeLevel;\n        this.changeVolumeIcon(video);\n      }\n      else {\n        this.storedVolumeLevel = video.volume;\n        video.volume = 0.0;\n        this.volumeLevel = 0.0;\n        this.changeVolumeIcon(video);\n      }\n    }\n  }\n\n  changeVolume(event) {\n    let video = $('video')[0];\n    console.log('Changing volume to ' + this.volumeLevel);\n    video.volume = this.volumeLevel;\n    this.changeVolumeIcon(video);\n  }\n\n  changeVolumeIcon(video) {\n    if (video.volume > 0.65) this.volumeMuteIcon = \"volume_up\";\n    else if (video.volume == 0.0) this.volumeMuteIcon = \"volume_off\";\n    else this.volumeMuteIcon = \"volume_down\";\n  }\n\n  /* Video controls */\n\n\n  /* OpenVidu */\n\n  private generateParticipantInfo() {\n    if (!!this.mySession) this.sessionName = this.mySession.title;\n    if (!!this.user) this.participantName = this.user.nickName;\n  }\n\n  joinSession() {\n    this.OV = new OpenVidu();\n    this.OVSession = this.OV.initSession(this.OVSessionId);\n\n    this.OVSession.on('streamCreated', (event) => {\n      console.warn(\"OpenVidu stream created: \", event.stream);\n\n      this.OVSession.subscribe(event.stream, 'nothing');\n\n      let stream: Stream = event.stream;\n      if (JSON.parse(stream.connection.data).isTeacher) {\n        // Teacher's stream\n        this.teacherStream = stream;\n        if (this.studentAccessGranted) {\n          // There's a student publishing: setup the 2 videos\n          this.smallStream = stream;\n        } else {\n          // There's no student publishing: setup only big video for the teacher\n          this.bigStream = stream;\n        }\n      } else {\n        // A student stream\n        this.bigStream = stream;\n        this.smallStream = this.teacherStream;\n        this.studentAccessGranted = true;\n      }\n    });\n\n    this.OVSession.on('streamDestroyed', (event) => {\n      console.warn(\"OpenVidu stream destroyed: \", event.stream);\n\n      let stream: Stream = event.stream;\n\n      if (JSON.parse(stream.connection.data).isTeacher) {\n        // Removing all streams if the teacher leaves the room\n        if (this.myStudentAccessGranted) {\n          this.unpublish();\n        }\n        delete this.bigStream;\n        delete this.smallStream;\n        this.studentAccessGranted = false;\n        this.myStudentAccessGranted = false;\n        this.interventionRequired = false;\n        this.interventionIcon = 'record_voice_over';\n      } else {\n        if (this.bigStream.connection.connectionId === stream.connection.connectionId) {\n          // Back to teacher's stream if an active user leaves the room\n          this.studentAccessGranted = false;\n          this.bigStream = this.teacherStream;\n        }\n      }\n    });\n\n    this.OVSession.on('connectionCreated', (event) => {\n      console.warn(\"OpenVidu connection created: \", event.connection);\n\n      if (event.connection === this.OVSession.connection) {\n        this.chatLines.push(new Chatline('system-msg', null, null, \"Connected!\", null));\n      } else {\n        if (JSON.parse(event.connection.data).isTeacher) {\n          this.teacherConnection = event.connection;\n        }\n        this.chatLines.push(new Chatline('system-msg', null, null, JSON.parse(event.connection.data).name + \" has connected!\", null));\n      }\n\n      this.OVConnections.push(event.connection);\n\n      let uData: UserData = JSON.parse(event.connection.data);\n      uData.picture = this.getPhotoByName(uData.name);\n      this.userData.push(uData);\n    });\n\n    this.OVSession.on('connectionDestroyed', (event) => {\n      console.warn(\"OpenVidu connection destroyed: \", event.connection);\n\n      // Remove Connection\n      let i1 = this.OVConnections.indexOf(event.connection);\n      if (i1 !== -1) {\n        this.OVConnections.splice(i1, 1);\n        this.chatLines.push(new Chatline('system-msg', null, null, JSON.parse(event.connection.data).name + \" has disconnected!\", null));\n      }\n\n      // Remove UserData\n      let i2 = this.userData.map((data) => { return data.name; }).indexOf(JSON.parse(event.connection.data).name);\n      if (i2 !== -1) {\n        this.userData.splice(i2, 1);\n      }\n    });\n\n    // Signals\n    this.OVSession.on('signal:chat', (msg) => {\n      let uData: UserData = this.userData.filter(d => d.name === JSON.parse(msg.from.data).name)[0];\n      let classUserMsg = (uData.name === JSON.parse(this.OVSession.connection.data).name ? \"own-msg\" : \"stranger-msg\");\n      this.chatLines.push(new Chatline(classUserMsg, uData.name, uData.picture, msg.data, uData.color));\n      this.animationService.animateToBottom('#message_box', 500);\n    });\n    if (this.authenticationService.isStudent()) {\n      this.OVSession.on('signal:grantIntervention', (msg) => {\n        if (msg.data === 'true') {\n          // Publish\n          this.publish();\n          this.studentAccessGranted = true;\n          this.myStudentAccessGranted = true;\n        }\n        else {\n          // Unpublish\n          this.unpublish();\n          this.bigStream = this.teacherStream;\n          this.studentAccessGranted = false;\n          this.myStudentAccessGranted = false;\n          // Invert intervention request\n          this.interventionRequired = !this.interventionRequired;\n          // Change intervention icon\n          this.interventionIcon = (this.interventionRequired ? 'cancel' : 'record_voice_over');\n        }\n      });\n    }\n    if (this.authenticationService.isTeacher()) {\n      this.OVSession.on('signal:askIntervention', (msg) => {\n        let from: Connection = msg.from;\n        let petition: boolean = JSON.parse(msg.data).interventionRequired;\n\n        if (petition) {\n          // Set proper userData  'interventionRequired' property to true\n          this.userData.map((uData) => {\n            if (uData.name === JSON.parse(from.data).name) {\n              uData.interventionRequired = true;\n            }\n          });\n        } else {\n          // Set proper userData  'interventionRequired' property to false\n          this.userData.map((uData) => {\n            if (uData.name === JSON.parse(from.data).name) {\n              uData.interventionRequired = false;\n            }\n          });\n        }\n      });\n    }\n\n    this.OVSession.connect(this.OVToken, (error) => {\n      if (error) {\n        console.error(\"Error connecting to OpenVidu session: \", error);\n      } else {\n        if (this.authenticationService.isTeacher()) {\n          this.initPublisher();\n          this.publish();\n        }\n      }\n    });\n  }\n\n  getParamsAndJoin() {\n    this.videoSessionService.getSessionIdAndToken(this.mySession.id).subscribe(\n      sessionIdToken => {\n        this.OVSessionId = sessionIdToken[0];\n        this.OVToken = sessionIdToken[1];\n        this.joinSession();\n      },\n      error => {\n        console.error(\"Error getting sessionId and token: \" + error);\n      }\n    );\n  }\n\n  leaveSession() {\n    if (this.OVSession) this.OVSession.disconnect(); // Disconnect from Session\n    this.generateParticipantInfo();\n  }\n\n  removeUser() {\n    this.videoSessionService.removeUser(this.mySessionId).subscribe(\n      res => {\n        console.log(\"User left the session\");\n      },\n      error => {\n        console.error(\"Error removing user\");\n      }\n    );\n  }\n\n  initPublisher() {\n    this.OVPublisher = this.OV.initPublisher('nothing');\n  }\n\n  publish() {\n    this.OVPublisher.on('streamCreated', (event) => {\n      console.warn(\"OpenVidu stream created by Publisher: \", event.stream);\n\n      let stream: Stream = event.stream;\n      if (JSON.parse(stream.connection.data).isTeacher) {\n        this.teacherStream = stream;\n      } else {\n        this.smallStream = this.teacherStream;\n      }\n      this.bigStream = stream;\n    });\n    this.OVPublisher.on('videoElementCreated', (event) => {\n      console.warn(\"OpenVidu video element created by Publisher: \", event.element);\n    });\n    this.OVSession.publish(this.OVPublisher);\n  }\n\n  unpublish() {\n    this.OVSession.unpublish(this.OVPublisher);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/components/video-session/video-session.component.ts","export const Constants = Object.freeze({\n  PHONE_MAX_WIDTH: 500,\n  TOAST_SHOW_TIME: 5000,\n  PASS_REGEX: '^((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20})$',\n  FILE_SIZE_LIMIT: 5*1024*1024 //5MB\n});\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/constants.ts","export * from './app.component';\nexport * from './app.module';\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/index.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { UserData } from '../classes/user-data';\n\n@Pipe({\n    name: 'interventionAskedFilter',\n    pure: false\n})\nexport class InterventionAskedPipe implements PipeTransform {\n    transform(items: UserData[]): any {\n        if (!items) {\n            return items;\n        }\n        // Return only those users which have asked for intervention\n        return items.filter(item => item.interventionRequired);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/pipes/intervention-asked.pipe.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class AnimationService {\n\n  constructor() { }\n\n  animateIfSmall() {\n    if($(window).width() <= 600 || $(window).height() <= 600) $('html,body').animate({scrollTop:0},200);\n  }\n\n  animateToBottom(selector: string, ms: number) {\n    $(selector).stop().animate({\n      scrollTop: $(selector)[0].scrollHeight\n    }, ms);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/animation.service.ts","import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Headers, Response } from '@angular/http';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map';\n\nimport { User } from '../classes/user';\n\n@Injectable()\nexport class AuthenticationService {\n\n  private urlLogIn = '/api-logIn';\n  private urlLogOut = '/api-logOut';\n\n  public token: string;\n  private user: User;\n  private role: string;\n\n  constructor(private http: Http, private router: Router) {\n    //this.reqIsLogged().catch((e) => { });\n  }\n\n  logIn(user: string, pass: string) {\n    let userPass = user + \":\" + pass;\n    let headers = new Headers({\n      'Authorization': 'Basic ' + utf8_to_b64(userPass),\n      'X-Requested-With': 'XMLHttpRequest'\n    });\n    let options = new RequestOptions({ headers });\n\n    return this.http.get(this.urlLogIn, options)\n      .map(response => {\n        this.processLogInResponse(response);\n        return this.user;\n      })\n      .catch(error => Observable.throw(error));\n  }\n\n  logOut() {\n\n    console.log(\"Logging out...\");\n\n    return this.http.get(this.urlLogOut).map(\n      response => {\n\n        console.log(\"Logout succesful!\");\n\n        this.user = null;\n        this.role = null;\n\n        // clear token remove user from local storage to log user out and navigates to welcome page\n        this.token = null;\n        localStorage.removeItem('login');\n        localStorage.removeItem('rol');\n        this.router.navigate(['']);\n\n        return response;\n      })\n      .catch(error => Observable.throw(error));\n  }\n\n  private processLogInResponse(response) {\n    \n    // Correctly logged in\n    console.log(\"User is already logged\");\n\n    this.user = (response.json() as User);\n\n    localStorage.setItem(\"login\", \"FULLTEACHING\");\n    if (this.user.roles.indexOf(\"ROLE_ADMIN\") !== -1) {\n      this.role = \"ROLE_ADMIN\";\n      localStorage.setItem(\"rol\", \"ROLE_ADMIN\");\n    }\n    if (this.user.roles.indexOf(\"ROLE_TEACHER\") !== -1) {\n      this.role = \"ROLE_TEACHER\";\n      localStorage.setItem(\"rol\", \"ROLE_TEACHER\");\n    }\n    if (this.user.roles.indexOf(\"ROLE_STUDENT\") !== -1) {\n      this.role = \"ROLE_STUDENT\";\n      localStorage.setItem(\"rol\", \"ROLE_STUDENT\");\n    }\n  }\n\n  reqIsLogged(): Promise<any> {\n\n    return new Promise((resolve, reject) => {\n\n      console.log(\"Checking if user is logged\");\n\n      let headers = new Headers({\n        'X-Requested-With': 'XMLHttpRequest'\n      });\n      let options = new RequestOptions({ headers });\n\n      this.http.get(this.urlLogIn, options).subscribe(\n        response => { this.processLogInResponse(response); resolve() },\n        error => {\n          let msg = '';\n          if (error.status != 401) {\n            msg = \"Error when asking if logged: \" + JSON.stringify(error);\n            console.error(msg);\n            this.logOut();\n          } else {\n            msg = \"User is not logged in\";\n            console.warn(msg);\n            this.router.navigate(['']);\n          }\n          reject(msg);\n        }\n      );\n    });\n  }\n\n  checkCredentials(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (!this.isLoggedIn()) {\n        this.reqIsLogged()\n          .then(() => {\n            resolve();\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  isLoggedIn() {\n    return (!!this.user);\n  }\n\n  getCurrentUser() {\n    return this.user;\n  }\n\n  isTeacher() {\n    return ((this.user.roles.indexOf(\"ROLE_TEACHER\")) !== -1) && (localStorage.getItem('rol') === \"ROLE_TEACHER\");\n  }\n\n  isStudent() {\n    return ((this.user.roles.indexOf(\"ROLE_STUDENT\")) !== -1) && (localStorage.getItem('rol') === \"ROLE_STUDENT\");\n  }\n\n  isAdmin() {\n    return ((this.user.roles.indexOf(\"ROLE_ADMIN\")) !== -1) && (localStorage.getItem('rol') === \"ROLE_ADMIN\");\n  }\n}\n\nfunction utf8_to_b64(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(<any>'0x' + p1);\n  }));\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/authentication.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class CourseDetailsModalDataService {\n\n  postModeAnnounced$: Subject<any>;\n  putdeleteModeAnnounced$: Subject<any>;\n\n  constructor(){\n    this.postModeAnnounced$ = new Subject<any>();\n    this.putdeleteModeAnnounced$ = new Subject<any>();\n  }\n\n  announcePostMode(objs){\n    this.postModeAnnounced$.next(objs);\n  }\n\n  announcePutdeleteMode(objs){\n    this.putdeleteModeAnnounced$.next(objs);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/course-details-modal-data.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Course } from '../classes/course';\nimport { User } from '../classes/user';\nimport { CourseDetails } from '../classes/course-details';\nimport { AuthenticationService } from './authentication.service';\n\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class CourseService {\n\n  private url = '/api-courses';\n\n  constructor(private http: Http, private authenticationService: AuthenticationService) { }\n\n  getCourses(user: User) {\n    console.log(\"GET courses for user \" + user.nickName);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.get(this.url + \"/user/\" + user.id, options) //Must send userId\n      .map((response: Response) => {\n        console.log(\"GET courses SUCCESS. Response: \", (response.json() as Course[]));\n        return (response.json() as Course[]);\n      })\n      .catch(error => this.handleError(\"GET courses FAIL. Response: \", error));\n  }\n\n  getCourse(courseId: number) {\n    console.log(\"GET course \" + courseId);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.get(this.url + \"/course/\" + courseId, options) //Must send userId\n      .map((response: Response) => {\n        console.log(\"GET course SUCCESS. Response: \", (response.json() as Course));\n        return (response.json() as Course);\n      })\n      .catch(error => this.handleError(\"GET course FAIL. Response: \", error));\n  }\n\n  //POST new course. On success returns the created course\n  newCourse(course: Course) {\n    console.log(\"POST new course\");\n\n    let body = JSON.stringify(course);\n    let headers = new Headers({\n      'Content-Type': 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.url + \"/new\", body, options)\n      .map(response => {\n        console.log(\"POST new course SUCCESS. Response: \", (response.json() as Course));\n        return (response.json() as Course);\n      })\n      .catch(error => this.handleError(\"POST new course FAIL. Response: \", error));\n  }\n\n  //PUT existing course. On success returns the updated course\n  public editCourse(course: Course, context: string) {\n    console.log(\"PUT existing course \" + course.id + \" (\" + context + \")\");\n\n    let body = JSON.stringify(course);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit\", body, options)\n      .map(response => {\n        console.log(\"PUT existing course SUCCESS (\" + context + \"). Response: \", (response.json() as Course));\n        return (response.json() as Course);\n      })\n      .catch(error => this.handleError(\"PUT existing course FAIL (\" + context + \"). Response: \", error));\n  }\n\n  //DELETE existing course. On success returns the deleted course (simplified version)\n  public deleteCourse(courseId: number) {\n    console.log(\"DELETE course \" + courseId);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.delete(this.url + \"/delete/\" + courseId, options)\n      .map(response => {\n        console.log(\"DELETE course SUCCESS\");\n        return (response.json() as Course);\n      })\n      .catch(error => this.handleError(\"DELETE course FAIL. Response: \", error));\n  }\n\n  //PUT existing course, modifying its attenders (adding them). On success returns the updated course.attenders array\n  public addCourseAttenders(courseId: number, userEmails: string[]) {\n    console.log(\"PUT exsiting course (add attenders)\");\n\n    let body = JSON.stringify(userEmails);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit/add-attenders/course/\" + courseId, body, options)\n      .map(response => {\n        console.log(\"PUT exsiting course SUCCESS (add attenders). Response: \", response.json());\n        return (response.json());\n      })\n      .catch(error => this.handleError(\"PUT existing course FAIL (add attenders). Response: \", error));\n  }\n\n  //PUT existing course, modifying its attenders (deleting them). On success returns the updated course.attenders array\n  public deleteCourseAttenders(course: Course) {\n    console.log(\"PUT exsiting course (remove attender)\");\n\n    let body = JSON.stringify(course);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit/delete-attenders\", body, options)\n      .map(response => {\n        console.log(\"PUT existing course SUCCESS (remove attender). Response: \", (response.json() as User[]));\n        return (response.json() as User[]);\n      })\n      .catch(error => this.handleError(\"PUT existing course FAIL (remove attender). Response: \", error));\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/course.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response, BrowserXhr } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport * as FileSaver from \"file-saver\";\n\nimport { FileGroup }             from '../classes/file-group';\nimport { File }                  from '../classes/file';\nimport { CourseDetails }         from '../classes/course-details';\nimport { AuthenticationService } from './authentication.service';\n\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class FileService {\n\n  constructor(private http: Http, private authenticationService: AuthenticationService) { }\n\n  private url = \"/api-files\";\n\n  private pendingDownload: boolean = false;\n\n  //POST new FileGroup. Requires the FileGroup and the courseDetails id that owns it\n  //On success returns the entire updated CourseDetails\n  public newFileGroup(fileGroup: FileGroup, courseDetailsId: number) {\n    console.log(\"POST new filegroup\");\n\n    let body = JSON.stringify(fileGroup);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.url + \"/\" + courseDetailsId, body, options)\n      .map(response => {\n        console.log(\"POST new filegroup SUCCESS. Response: \", (response.json() as CourseDetails));\n        return (response.json() as CourseDetails);\n      })\n      .catch(error => this.handleError(\"POST new filegroup FAIL. Response: \", error));\n  }\n\n  //DELETE existing FileGroup. Requires the fileGroup id and its course's id\n  //On succes returns the deleted FileGroup\n  public deleteFileGroup(fileGroupId: number, courseId: number) {\n    console.log(\"DELETE filegroup \" + fileGroupId);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.delete(this.url + \"/delete/file-group/\" + fileGroupId + \"/course/\" + courseId, options)\n      .map(response => {\n        console.log(\"DELETE filegroup SUCCESS\");\n        return (response.json() as FileGroup);\n      })\n      .catch(error => this.handleError(\"DELETE filegroup FAIL. Response: \", error));\n  }\n\n  //DELETE existing File. Requires the file id, the fileGroup id that owns it and their course's id\n  //On succes returns the deleted File\n  public deleteFile(fileId: number, fileGroupId: number, courseId: number) {\n    console.log(\"DELETE file \" + fileId);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.delete(this.url + \"/delete/file/\" + fileId + \"/file-group/\" + fileGroupId + \"/course/\" + courseId, options)\n      .map(response => {\n        console.log(\"DELETE file SUCCESS\");\n        return (response.json() as File);\n      })\n      .catch(error => this.handleError(\"DELETE file FAIL. Response: \", error));\n  }\n\n  //PUT existing FileGroup. Requires the modified FileGroup and the course id\n  //On success returns the updated root FileGroup\n  public editFileGroup(fileGroup: FileGroup, courseId: number) {\n    console.log(\"PUT existing filegroup \" + fileGroup.id);\n    let body = JSON.stringify(fileGroup);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit/file-group/course/\" + courseId, body, options)\n      .map(response => {\n        console.log(\"PUT existing filegroup SUCCESS. Response: \", (response.json() as FileGroup));\n        return (response.json() as FileGroup);\n      })\n      .catch(error => this.handleError(\"PUT existing filegroup FAIL. Response: \", error));\n  }\n\n  //PUT 2 FileGroups. Requires the id of the file moved, the ids of the source and the target FileGroups, the id of the Course and the position of the file in the target FileGroup\n  //On success returns the all the fileGroups of the course\n  public editFileOrder(fileMovedId: number, fileGroupSourceId: number, fileGroupTargetId: number, filePosition: number, courseId: number) {\n    console.log(\"PUT existing filegroups (editing file order). From \" + fileGroupSourceId +  \" to \" + fileGroupTargetId + \" into position \" + fileGroupTargetId);\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit/file-order/course/\" + courseId + \"/file/\" + fileMovedId + \"/from/\" + fileGroupSourceId + \"/to/\" + fileGroupTargetId + \"/pos/\" + filePosition, options)\n      .map(response => {\n        console.log(\"PUT existing filegroups SUCCESS (edit file order). Response: \", (response.json() as FileGroup[]));\n        return (response.json() as FileGroup[]);\n      })\n      .catch(error => this.handleError(\"PUT existing filegroups FAIL (edit file order). Response: \", error));\n  }\n\n  //PUT existing File. Requires the modified File and the course id\n  //On success returns the updated root FileGroup\n  public editFile(file: File, fileGroupId: number, courseId: number) {\n    console.log(\"PUT existing file \" + file.name);\n\n    let body = JSON.stringify(file);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/edit/file/file-group/\" + fileGroupId + \"/course/\" + courseId, body, options)\n      .map(response => {\n        console.log(\"PUT existing file SUCCESS. Response: \", (response.json() as FileGroup));\n        return (response.json() as FileGroup);\n      })\n      .catch(error => this.handleError(\"PUT existing filegroup FAIL. Response: \", error));\n  }\n\n  public downloadFile(courseId: number, file: File) {\n\n    console.log(\"Downloading file \" + file.name);\n\n    // Xhr creates new context so we need to create reference to this\n    let self = this;\n\n    // Status flag used in the template.\n    this.pendingDownload = true;\n\n    // Create the Xhr request object\n    let xhr = new XMLHttpRequest();\n    let url = \"/api-load-files/course/\" + courseId + \"/download/\" + file.id;\n    xhr.open('GET', url, true);\n    xhr.responseType = 'blob';\n\n    // Xhr callback when we get a result back\n    // We are not using arrow function because we need the 'this' context\n    xhr.onreadystatechange = function() {\n\n      // We use setTimeout to trigger change detection in Zones\n      setTimeout(() => { self.pendingDownload = false; }, 0);\n\n      // If we get an HTTP status OK (200), save the file using fileSaver\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        console.log(\"File download SUCCESS. Response: \", this.response);\n        var blob = new Blob([this.response], { type: this.response.type });\n        FileSaver.saveAs(blob, file.name);\n      }\n    };\n\n    // Start the Ajax request\n    xhr.send();\n  }\n\n  private openFile(response) {\n    var blob = new Blob([response._body], { type: 'text/plain' });\n    var url = window.URL.createObjectURL(blob);\n    window.open(url)\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/file.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class FilesEditionService {\n\n  modeEditAnnounced$: Subject<boolean>;\n  fileGroupDeletedAnnounced$: Subject<number>;\n  fileFilegroupUpdatedAnnounced$: Subject<number>;\n\n  currentModeEdit: boolean = false;\n\n  constructor(){\n    this.modeEditAnnounced$ = new Subject<boolean>();\n    this.fileGroupDeletedAnnounced$ = new Subject<number>();\n    this.fileFilegroupUpdatedAnnounced$ = new Subject<any>();\n  }\n\n  announceModeEdit(objs){\n    this.currentModeEdit = objs;\n    this.modeEditAnnounced$.next(objs);\n  }\n\n  announceFileGroupDeleted(fileGroupDeletedId: number){\n    this.fileGroupDeletedAnnounced$.next(fileGroupDeletedId);\n  }\n\n  announceFileFilegroupUpdated(objs){\n    this.fileFilegroupUpdatedAnnounced$.next(objs);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/files-edition.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Session } from '../classes/session';\nimport { Entry } from '../classes/entry';\nimport { Comment } from '../classes/comment';\nimport { Forum } from '../classes/forum';\nimport { CourseDetails } from '../classes/course-details';\nimport { AuthenticationService } from './authentication.service';\n\n\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class ForumService {\n\n  constructor(private http: Http, private authenticationService: AuthenticationService) { }\n\n  private urlNewEntry = \"/api-entries\";\n  private urlNewComment = \"/api-comments\";\n  private urlEditForum = \"/api-forum\"\n\n  //POST new Entry. Requires an Entry and the id of the CourseDetails that owns the Forum\n  //On success returns the updated Forum that owns the posted entry\n  public newEntry(entry: Entry, courseDetailsId: number) {\n    console.log(\"POST new entry\");\n\n    let body = JSON.stringify(entry);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.urlNewEntry + \"/forum/\" + courseDetailsId, body, options)\n      .map(response => {\n        console.log(\"POST new entry SUCCESS. Response: \", (response.json()));\n        return (response.json());\n      })\n      .catch(error => this.handleError(\"POST new entry FAIL. Response: \", error));\n  }\n\n  //POST new Comment. Requires a Comment, the id of the Entry that owns it and the id of the CourseDetails that owns the Forum\n  //On success returns the update Entry that owns the posted comment\n  public newComment(comment: Comment, entryId: number, courseDetailsId: number) {\n    console.log(\"POST new comment\");\n\n    let body = JSON.stringify(comment);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.urlNewComment + \"/entry/\" + entryId + \"/forum/\" + courseDetailsId, body, options)\n      .map(response => {\n        console.log(\"POST new comment SUCCESS. Response: \", (response.json()));\n        return (response.json());\n      })\n      .catch(error => this.handleError(\"POST new comment FAIL. Response: \", error));\n  }\n\n  //PUT existing Forum. Requires a boolean value for activating/deactivating the Forum and the id of the CourseDetails that owns it\n  //On success returns the updated 'activated' attribute\n  public editForum(activated: boolean, courseDetailsId: number) {\n    console.log(\"PUT existing forum \" + (activated ? \"(activate)\" : \"(deactivate)\"));\n\n    let body = JSON.stringify(activated);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.urlEditForum + \"/edit/\" + courseDetailsId, body, options)\n      .map(response => {\n        console.log(\"PUT existing forum SUCCESS. Response: \", (response.json() as boolean));\n        return (response.json() as boolean);\n      })\n      .catch(error => this.handleError(\"PUT existing forum FAIL. Response: \", error));\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/forum.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class LoginModalService {\n\n  wat$: Subject<boolean>;\n\n  constructor() {\n    this.wat$ = new Subject<boolean>();\n  }\n\n  activateLoginView(b: boolean) {\n    this.wat$.next(b);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/login-modal.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { Session } from '../classes/session';\nimport { Course } from '../classes/course';\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SessionService {\n\n  private urlSessions = '/api-sessions';\n\n  constructor(private http: Http, private authenticationService: AuthenticationService) { }\n\n  //POST new session. On success returns the updated Course that owns the posted session\n  public newSession(session: Session, courseId: number) {\n    console.log(\"POST new session\");\n\n    let body = JSON.stringify(session);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.urlSessions + \"/course/\" + courseId, body, options)\n      .map(response => {\n        console.log(\"POST new session SUCCESS. Response: \", (response.json() as Course));\n        return (response.json() as Course);\n      })\n      .catch(error => this.handleError(\"POST new session FAIL. Response: \", error));\n  }\n\n  //PUT existing session. On success returns the updated session\n  public editSession(session: Session) {\n    console.log(\"PUT existing session\");\n\n    let body = JSON.stringify(session);\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.urlSessions + \"/edit\", body, options)\n      .map(response => {\n        console.log(\"PUT existing session SUCCESS. Response: \", (response.json() as Session));\n        return (response.json() as Session);\n      })\n      .catch(error => this.handleError(\"PUT existing session FAIL. Response: \", error));\n  }\n\n  //DELETE existing session. On success returns the deleted session\n  public deleteSession(sessionId: number) {\n    console.log(\"DELETE session\");\n\n    let headers = new Headers({ 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.authenticationService.token });\n    let options = new RequestOptions({ headers });\n    return this.http.delete(this.urlSessions + \"/delete/\" + sessionId, options)\n      .map(response => {\n        console.log(\"DELETE session SUCCESS. Response: \", (response.json() as Session));\n        return (response.json() as Session);\n      })\n      .catch(error => this.handleError(\"DELETE session FAIL. Response: \", error));\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/session.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\n\n@Injectable()\nexport class UploaderModalService {\n\n  uploaderClosedAnnounced$: Subject<boolean>;\n\n  constructor() {\n    this.uploaderClosedAnnounced$ = new Subject<boolean>();\n  }\n\n  announceUploaderClosed(objs) {\n    this.uploaderClosedAnnounced$.next(objs);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/uploader-modal.service.ts","import { Injectable } from '@angular/core';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { User } from '../classes/user';\n\n@Injectable()\nexport class UserService {\n\n  private url = '/api-users';\n\n  constructor(private http: Http) { }\n\n  newUser(name: string, pass: string, nickName: string, captchaToken: string) {\n    console.log(\"POST new user \" + name);\n\n    let body = JSON.stringify([name, pass, nickName, captchaToken]);\n    let headers = new Headers({\n      'Content-Type': 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.url + \"/new\", body, options)\n      .map(response => {\n        console.log(\"POST new user SUCCESS. Response: \", (response.json() as User));\n        return (response.json() as User);\n      })\n      .catch(error => this.handleError(\"POST new user FAIL. Response: \", error));\n  }\n\n  changePassword(oldPassword: string, newPassword: string) {\n    console.log(\"PUT existing user (change password)\");\n\n    let body = JSON.stringify([oldPassword, newPassword]);\n    let headers = new Headers({\n      'Content-Type': 'application/json',\n      'X-Requested-With': 'XMLHttpRequest'\n    });\n    let options = new RequestOptions({ headers });\n    return this.http.put(this.url + \"/changePassword\", body, options)\n      .map(response => {\n        console.log(\"PUT existing user SUCCESS (change password). Response: \", (response.json() as boolean));\n        return (response.json() as boolean);\n      })\n      .catch(error => this.handleError(\"PUT existing user FAIL (change password). Response: \", error));\n  }\n\n  // private helper methods\n\n  private jwt() {\n    // create authorization header with jwt token\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if (currentUser && currentUser.token) {\n      let headers = new Headers({ 'Authorization': 'Bearer ' + currentUser.token });\n      return new RequestOptions({ headers: headers });\n    }\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/user.service.ts","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Http, Headers, RequestOptions, Response } from '@angular/http';\nimport { Observable } from \"rxjs/Observable\";\n\nimport { Session } from '../classes/session';\nimport { Course } from '../classes/course';\n\n@Injectable()\nexport class VideoSessionService {\n\n  session: Session;\n  course: Course;\n\n  private urlSessions = '/api-video-sessions';\n\n  constructor(private http: Http) { }\n\n  getSessionIdAndToken(mySessionId) {\n    console.log(\"Getting OpenVidu sessionId and token for lesson '\" + mySessionId + \"'\");\n\n    return this.http.get(this.urlSessions + \"/get-sessionid-token/\" + mySessionId)\n      .map(response => {\n        console.log(\"OpenVidu sessionId and token retrieval SUCCESS. Response: \", response);\n        return (response.json());\n      })\n      .catch(error => this.handleError(\"ERROR getting OpenVidu sessionId and token: \", error));\n  }\n\n  removeUser(sessionName) {\n    console.log(\"Removing user from session \" + sessionName);\n\n    let jsonBody = JSON.stringify({\n      'lessonId': sessionName\n    });\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers });\n    return this.http.post(this.urlSessions + \"/remove-user\", jsonBody, options)\n      .map(response => {\n        console.log(\"User removed from session succesfully. Response: \", response.text());\n        return (response.text());\n      })\n      .catch(error => this.handleError(\"ERROR removing user from session: \", error));\n  }\n\n  private handleError(message: string, error: any) {\n    console.error(message, error);\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/app/services/video-session.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  URL_UPLOAD: '/api-load-files/upload/course/',\n  URL_PIC_UPLOAD: '/api-load-files/upload/picture/',\n  URL_EMAIL_FILE_UPLOAD: '/api-file-reader/upload/course/',\n  PUBLIC_RECAPTCHA_KEY: '6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI',\n  OPENVIDU_URL: 'wss://localhost:8443/'\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/environments/environment.ts","import './polyfills.ts';\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/main.ts","// This file includes polyfills needed by Angular 2 and is loaded before\n// the app. You can add your own extra polyfills to this file.\nimport 'core-js/es6/symbol';\nimport 'core-js/es6/object';\nimport 'core-js/es6/function';\nimport 'core-js/es6/parse-int';\nimport 'core-js/es6/parse-float';\nimport 'core-js/es6/number';\nimport 'core-js/es6/math';\nimport 'core-js/es6/string';\nimport 'core-js/es6/date';\nimport 'core-js/es6/array';\nimport 'core-js/es6/regexp';\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport 'core-js/es6/reflect';\n\nimport 'core-js/es7/reflect';\nimport 'zone.js/dist/zone';\n\n\n\n// WEBPACK FOOTER //\n// /home/pablo/Documents/Git/full-teaching-experiment/src/main/angular/src/polyfills.ts"],"sourceRoot":"webpack:///"}